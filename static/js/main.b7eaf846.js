/*! For license information please see main.b7eaf846.js.LICENSE.txt */
!function(){var e={5847:function(e,n,t){"use strict";t.d(n,{Qh:function(){return rt},om:function(){return Vn},i3:function(){return $n},IF:function(){return Jn},FL:function(){return Qn},B7:function(){return qn},$V:function(){return Yn},Vz:function(){return Xn},ZP:function(){return lt}});var r=t(4165),o=t(5861),a=t(1413),i=t(3433),l=t(7762),s=t(9439),u=t(4942),c=t(2791),d=t(4212),f=t(6559),p=t(4164),h=t(8573),v=t.n(h),m=t(3038),x=t.n(m),g=function(e,n){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},g(e,n)};function y(e,n){function t(){this.constructor=e}g(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var b=function(){return b=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},b.apply(this,arguments)};function N(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}var I=function(e,n,t,r){switch(n){case"debounce":return v()(e,t,r);case"throttle":return x()(e,t,r);default:return e}},C=function(e){return"function"===typeof e},E=function(){return"undefined"===typeof window},S=function(e){return e instanceof Element||e instanceof HTMLDocument},P=function(e,n,t,r){return function(o){var a=o.width,i=o.height;n((function(n){return n.width===a&&n.height===i||n.width===a&&!r||n.height===i&&!t?n:(null===e||void 0===e||e(a,i),{width:a,height:i})}))}};!function(e){function n(n){var t=e.call(this,n)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var e=t.props,n=e.targetRef,r=e.observerOptions;if(!E()){n&&n.current&&(t.targetRef.current=n.current);var o=t.getElement();o&&(t.observableElement&&t.observableElement===o||(t.observableElement=o,t.resizeObserver.observe(o,r)))}},t.getElement=function(){var e=t.props,n=e.querySelector,r=e.targetDomEl;if(E())return null;if(n)return document.querySelector(n);if(r&&S(r))return r;if(t.targetRef&&S(t.targetRef.current))return t.targetRef.current;var o=(0,p.findDOMNode)(t);if(!o)return null;switch(t.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return o;default:return o.parentElement}},t.createResizeHandler=function(e){var n=t.props,r=n.handleWidth,o=void 0===r||r,a=n.handleHeight,i=void 0===a||a,l=n.onResize;if(o||i){var s=P(l,t.setState.bind(t),o,i);e.forEach((function(e){var n=e&&e.contentRect||{},r=n.width,o=n.height;!t.skipOnMount&&!E()&&s({width:r,height:o}),t.skipOnMount=!1}))}},t.getRenderType=function(){var e=t.props,n=e.render,r=e.children;return C(n)?"renderProp":C(r)?"childFunction":(0,c.isValidElement)(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=n.skipOnMount,o=n.refreshMode,a=n.refreshRate,i=void 0===a?1e3:a,l=n.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=r,t.targetRef=(0,c.createRef)(),t.observableElement=null,E()||(t.resizeHandler=I(t.createResizeHandler,o,i,l),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}y(n,e),n.prototype.componentDidMount=function(){this.attachObserver()},n.prototype.componentDidUpdate=function(){this.attachObserver()},n.prototype.componentWillUnmount=function(){E()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},n.prototype.render=function(){var e=this.props,n=e.render,t=e.children,r=e.nodeType,o=void 0===r?"div":r,a=this.state,i={width:a.width,height:a.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return null===n||void 0===n?void 0:n(i);case"childFunction":return null===t||void 0===t?void 0:t(i);case"child":var l=t;if(l.type&&"string"===typeof l.type){var s=N(i,["targetRef"]);return(0,c.cloneElement)(l,s)}return(0,c.cloneElement)(l,i);case"childArray":return t.map((function(e){return!!e&&(0,c.cloneElement)(e,i)}));default:return c.createElement(o,null)}}}(c.PureComponent);var w=E()?c.useEffect:c.useLayoutEffect;var A,k=t(6048),T=function(e){return e.XML="xml",e.JSON="json",e.SVG="svg",e.XRNA="xrna",e.CSV="csv",e.TR="tr",e.BPSEQ="bpseq",e.STR="str",e}({}),_=(A={},(0,u.Z)(A,T.XRNA,"the native input-file format of XRNA (an extension of .xml)"),(0,u.Z)(A,T.XML,"a data-file format native to the internet. Highly similar to .xrna"),(0,u.Z)(A,T.JSON,"a general-purpose data-file format native to the internet. Logically equivalent to .xrna"),(0,u.Z)(A,T.CSV,"a comma-separated-values file. Logically equivalent to .xrna. Intended for use with RiboVision"),(0,u.Z)(A,T.BPSEQ,"a simplified, linear representation of the nucleotide sequence of the scene."),(0,u.Z)(A,T.TR,"an XML-like format for R2DT. Contains nucleotides with 2D coordinates."),(0,u.Z)(A,T.SVG,"an image-file format. Can be converted to other image-file formats (e.g. .jpg) using external tools"),(0,u.Z)(A,T.STR,"an image-file format containing nucleotide sequences and base pairs"),Object.values(T),T),M=t(7089),R=t(3871),j=t(433),O=t(4532);var Z=t(9287),L=1.2;var D,F,B=t(4279),z=t(4861);var W={x:{max:576,min:36},y:{max:756,min:36}},U={x:.5*(W.x.min+W.x.max),y:.5*(W.y.min+W.y.max)},G=(D={},(0,u.Z)(D,_.JSON,_.JSON),(0,u.Z)(D,_.SVG,_.SVG),(0,u.Z)(D,_.XRNA,_.XRNA),(0,u.Z)(D,_.CSV,_.CSV),(0,u.Z)(D,_.TR,_.TR),(0,u.Z)(D,_.BPSEQ,_.BPSEQ),D),H=Object.values(G),K=(F={},(0,u.Z)(F,G.xrna,(function(e,n){var t=document.implementation.createDocument(null,null,null),r=t.createElement("ComplexDocument");r.setAttribute("Name",n),t.appendChild(r);var o=t.createElement("SceneNodeGeom");return o.setAttribute("CenterX","0"),o.setAttribute("CenterY","0"),o.setAttribute("Scale","1"),r.appendChild(o),Object.values(e).forEach((function(e){var n=t.createElement("Complex");n.setAttribute("Name",e.name),r.appendChild(n);var o=e.basePairs;Object.entries(e.rnaMoleculeProps).forEach((function(e){var r=(0,s.Z)(e,2),a=r[0],i=r[1],u=i.firstNucleotideIndex,c=t.createElement("RNAMolecule");c.setAttribute("Name",a),n.appendChild(c);var d=t.createElement("NucListData");d.setAttribute("StartNucID","".concat(u)),d.setAttribute("DataType","NucChar.NucID.XPos.YPos");var f=Object.entries(i.nucleotideProps).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndex:Number.parseInt(t),singularNucleotideProps:r}}));d.innerHTML=f.map((function(e){var n=e.nucleotideIndex,t=e.singularNucleotideProps;return[t.symbol,"".concat(n+u),t.x.toFixed(O.Eu),t.y.toFixed(O.Eu)].join(" ")})).join("\n"),c.appendChild(d);var p=t.createElement("Nuc");p.setAttribute("RefIDs","".concat(u,"-").concat(u+f.length-1)),p.setAttribute("Color","0"),p.setAttribute("FontID","0"),p.setAttribute("FontSize","8"),c.appendChild(p),f.forEach((function(e){var n,r,o=e.nucleotideIndex,a=e.singularNucleotideProps,i=u+o,l=null!==(n=a.font)&&void 0!==n?n:j.ZP.DEFAULT;if((p=t.createElement("Nuc")).setAttribute("RefID","".concat(i)),p.setAttribute("Color",(0,R.IW)(null!==(r=a.color)&&void 0!==r?r:R.E5)),p.setAttribute("FontID",j.NN.toFontId(l).toString()),p.setAttribute("FontSize",l.size.toString()),c.appendChild(p),void 0!==a.labelLineProps||void 0!==a.labelContentProps){(p=t.createElement("Nuc")).setAttribute("RefID","".concat(i)),c.appendChild(p);var s=t.createElement("LabelList"),d=[];if(void 0!==a.labelLineProps){var f,h,v=a.labelLineProps,m=v.points,x=m[0],g=m[m.length-1];d.push(["l",x.x.toFixed(O.Eu),x.y.toFixed(O.Eu),g.x.toFixed(O.Eu),g.y.toFixed(O.Eu),(null!==(f=v.strokeWidth)&&void 0!==f?f:O.tA).toFixed(O.Eu),(0,R.IW)(null!==(h=v.color)&&void 0!==h?h:R.E5),"0.0","0","0","0","0"].join(" "))}if(void 0!==a.labelContentProps){var y,b,N=a.labelContentProps,I=null!==(y=N.font)&&void 0!==y?y:j.ZP.DEFAULT;d.push(["s",N.x.toFixed(O.Eu),N.y.toFixed(O.Eu),"0.0",I.size,j.NN.toFontId(I),(0,R.IW)(null!==(b=N.color)&&void 0!==b?b:R.E5),'"'.concat(N.content,'"')].join(" "))}s.innerHTML=d.join("\n"),p.appendChild(s)}}));var h=o[a];Object.entries(h).forEach((function(e){var n,r=(0,s.Z)(e,2),o=r[0],i=r[1],d=Number.parseInt(o),f={nucleotideIndex:d,rnaMoleculeName:a},p=(0,l.Z)(i);try{for(p.s();!(n=p.n()).done;){var h=n.value;if((0,k.IK)(f,h)<=0){var v=t.createElement("BasePairs");v.setAttribute("nucID",(d+u).toString()),v.setAttribute("length","1"),v.setAttribute("bpNucID",(h.nucleotideIndex+u).toString()),v.setAttribute("bpName",h.rnaMoleculeName),c.appendChild(v)}}}catch(m){p.e(m)}finally{p.f()}}))}))})),(new XMLSerializer).serializeToString(t.documentElement)})),(0,u.Z)(F,G.json,(function(e){var n=[],t=[],r={},o={},i={},c={},d="";function f(e){var t,r=n.findIndex((function(n){return n["font-family"]===e.family&&n["font-size"]==="".concat(e.size)&&n["font-weight"]===e.weight&&n["font-style"]===e.style}));-1===r?(d="font#".concat(n.length),n.push((t={name:d},(0,u.Z)(t,"font-family",e.family),(0,u.Z)(t,"font-size","".concat(e.size)),(0,u.Z)(t,"font-weight",e.weight),(0,u.Z)(t,"font-style",e.style),t))):d="font#".concat(r)}var p="";function h(e){var n,r=(0,R.hG)(e.stroke),o=t.findIndex((function(n){return n["stroke-width"]==="".concat(e.strokeWidth)&&n.stroke===r}));-1===o?(p="stroke#".concat(t.length),t.push((n={name:p},(0,u.Z)(n,"stroke-width","".concat(e.strokeWidth)),(0,u.Z)(n,"stroke",r),n))):p="stroke#".concat(o)}var v=Object.values(e);return v.forEach((function(e){Object.values(e.rnaMoleculeProps).forEach((function(e){Object.entries(e.nucleotideProps).forEach((function(e){var n,t,a=(0,s.Z)(e,2),l=a[0],u=a[1],c=Number.parseInt(l);f(null!==(n=u.font)&&void 0!==n?n:j.ZP.DEFAULT),i[c]=["text-"+(0,R.hG)(null!==(t=u.color)&&void 0!==t?t:R.E5),d];var v,m,x=u.labelContentProps;void 0!==x&&(f(null!==(v=x.font)&&void 0!==v?v:j.ZP.DEFAULT),r[c]=["text-"+(0,R.hG)(null!==(m=x.color)&&void 0!==m?m:R.E5),d]);var g,y,b=u.labelLineProps;void 0!==b&&(h({stroke:null!==(g=b.color)&&void 0!==g?g:R.E5,strokeWidth:null!==(y=b.strokeWidth)&&void 0!==y?y:O.tA}),o[c]=[p])}))}))})),JSON.stringify({classes:n.concat(t),rnaComplexes:v.map((function(e){var n=Object.entries(e.rnaMoleculeProps),t=e.basePairs,u=new Array;return{name:e.name,rnaMolecules:n.map((function(n){for(var d=(0,s.Z)(n,2),f=d[0],v=d[1],m=new Array,x=t[f],g=0,y=Object.entries(x);g<y.length;g++){var b,N=(0,s.Z)(y[g],2),I=N[0],C=N[1],E=Number.parseInt(I),S=(0,l.Z)(C);try{for(S.s();!(b=S.n()).done;){var P,w,A,T=b.value;if((0,k.JA)({rnaMoleculeName:f,nucleotideIndex:E},T)){var _=null!==(P=T.basePairType)&&void 0!==P?P:(0,M.iN)(v.nucleotideProps[E].symbol,e.rnaMoleculeProps[T.rnaMoleculeName].nucleotideProps[T.nucleotideIndex].symbol);h({strokeWidth:null!==(w=T.strokeWidth)&&void 0!==w?w:O.tA,stroke:null!==(A=T.color)&&void 0!==A?A:R.E5}),c[E]=[p];var j={basePairType:_,classes:c[E],residueIndex1:v.firstNucleotideIndex+E,residueIndex2:v.firstNucleotideIndex+T.nucleotideIndex,points:T.points},Z=f,L=T.rnaMoleculeName;if(M.ZP.isRedundantLeontisWesthofType(j.basePairType)){j.basePairType=M.ZP.reverseDirectedTypeMap[j.basePairType];var D=Z;Z=L,L=D;var F=j.residueIndex1;j.residueIndex1=j.residueIndex2,j.residueIndex2=F}Z===L?m.push(j):u.push((0,a.Z)((0,a.Z)({},j),{},{rnaMoleculeName1:Z,rnaMoleculeName2:L}))}}}catch(W){S.e(W)}finally{S.f()}}var B=new Array,z=Object.entries(v.nucleotideProps).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndex:Number.parseInt(t),singularNucleotideProps:r}}));return z.forEach((function(e){var n=e.nucleotideIndex,t=e.singularNucleotideProps,a=t.labelContentProps,i=t.labelLineProps;if(void 0!==a||void 0!==i){var l={residueIndex:n+v.firstNucleotideIndex};void 0!==a&&(l.labelContent={classes:r[n],label:a.content,x:a.x,y:-a.y}),void 0!==i&&(l.labelLine={classes:o[n],points:i.points.map((function(e){return{x:e.x,y:-e.y}}))}),B.push(l)}})),{name:f,basePairs:m,labels:B,sequence:z.map((function(e){var n=e.nucleotideIndex,t=e.singularNucleotideProps;return{classes:i[n],residueIndex:n+v.firstNucleotideIndex,residueName:t.symbol,x:t.x,y:-t.y}}))}})),basePairs:u}}))})})),(0,u.Z)(F,G.csv,(function(e,n){var t=[["resNum","unModResName","X","Y","resColor","FontSize","LineX1","LineY1","LineX2","LineY2","LineThickness","LineColor","LabelX","LabelY","LabelSymbol","LabelFontSize","LabelColor","rnaComplexName"].join(",")];function r(e){void 0===e&&(e=j.ZP.DEFAULT);var n=0;if("number"===typeof e.size)n=e.size;else{var t=/^-?[\d.]+/.exec(e.size);if(null===t)throw"Unrecognized font-size format: ".concat(e.size);n=Number.parseFloat(t[0])}return n=Math.abs(y)*n}function o(e){return void 0===e&&(e=R.E5),(0,R.IW)(e).toLocaleLowerCase()}for(var a={x:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},y:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},l=0,s=Object.values(e);l<s.length;l++)for(var u=s[l],c=0,d=Object.values(u.rnaMoleculeProps);c<d.length;c++)for(var f=d[c],p=0,h=Object.values(f.nucleotideProps);p<h.length;p++){var v=h[p],m=v.x,x=v.y;m<a.x.min&&(a.x.min=m),m>a.x.max&&(a.x.max=m),x<a.y.min&&(a.y.min=x),x>a.y.max&&(a.y.max=x)}var g=Math.min((W.x.max-W.x.min)/(a.x.max-a.x.min),(W.y.max-W.y.min)/(a.y.max-a.y.min)),y=-g,b=.5*(a.x.min+a.x.max),N=.5*(a.y.min+a.y.max);for(var I in e){var C=Number.parseInt(I),E=e[C];for(var S in E.rnaMoleculeProps){var P=E.rnaMoleculeProps[S];for(var w in P.nucleotideProps){var A=Number.parseInt(w),k=A+P.firstNucleotideIndex,T=P.nucleotideProps[A],_=T.labelLineProps,M=Array(6).fill(""),D=g*(T.x-b)+U.x,F=y*(T.y-N)+U.y,B=Math.round(r(T.font)*L);if(void 0!==_){var z,G=_.points[0],H=_.points[1];M=[(0,O.zK)(D+g*G.x),(0,O.zK)(F+y*G.y)].concat((0,i.Z)(void 0===H?["",""]:[(0,O.zK)(D+g*H.x),(0,O.zK)(F+y*H.y)]),[(0,O.zK)(null!==(z=_.strokeWidth)&&void 0!==z?z:O.tA),o(_.color)])}var K=T.labelContentProps,V=Array(5).fill("");if(void 0!==K){var q=document.getElementById((0,Z.XE)(C,S,A));if(null===q)throw"Unfound LabelContent SVG element.";var X=q.getBoundingClientRect(),$=Math.round(r(K.font));V=[(0,O.zK)(D+g*(K.x-.5*X.width)),(0,O.zK)(F+y*K.y+.5*B),K.content,"".concat($),o(K.color)]}t.push(["".concat(S,":").concat(k),T.symbol,(0,O.zK)(D,3),(0,O.zK)(F,3),o(T.color),"".concat(B)].concat((0,i.Z)(M),(0,i.Z)(V),[E.name]).join(","))}}}return t.join("\n")})),(0,u.Z)(F,G.bpseq,(function(e,n){var t=new Array;for(var r in e){var o=e[Number.parseInt(r)],a=o.basePairs;for(var i in t.push('# RNA complex "'.concat(o.name,'"')),o.rnaMoleculeProps){t.push('# RNA molecule "'.concat(i,'"'));var s=o.rnaMoleculeProps[i],u=a[i];for(var c in s.nucleotideProps){var d=Number.parseInt(c),f=s.nucleotideProps[d];if(d in u){var p,h=u[d],v=(0,l.Z)(h);try{for(v.s();!(p=v.n()).done;){var m=p.value,x=m.rnaMoleculeName,g=o.rnaMoleculeProps[x],y="".concat(d+s.firstNucleotideIndex," ").concat(f.symbol," ").concat(m.nucleotideIndex+g.firstNucleotideIndex);i!==x&&(y+=' # RNA molecule "'.concat(x,'"')),t.push(y)}}catch(b){v.e(b)}finally{v.f()}}else t.push("".concat(d+s.firstNucleotideIndex," ").concat(f.symbol," 0"))}}}return t.join("\n")})),(0,u.Z)(F,G.tr,(function(e,n){for(var t={x:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},y:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},r=0,o=Object.values(e);r<o.length;r++)for(var a=o[r],i=0,l=Object.values(a.rnaMoleculeProps);i<l.length;i++)for(var s=l[i],u=0,c=Object.values(s.nucleotideProps);u<c.length;u++){var d=c[u],f=d.x,p=d.y;f<t.x.min&&(t.x.min=f),f>t.x.max&&(t.x.max=f),p<t.y.min&&(t.y.min=p),p>t.y.max&&(t.y.max=p)}var h=.5*(t.x.min+t.x.max),v=.5*(t.y.min+t.y.max),m=Math.min((W.x.max-W.x.min)/(t.x.max-t.x.min),(W.y.max-W.y.min)/(t.y.max-t.y.min)),x=-m,g=new Array;for(var y in e){var b=e[Number.parseInt(y)];g.push('\x3c!-- <rnaComplex name="'.concat(b.name.replace('"','\\"'),'"> --\x3e'));var N=b.rnaMoleculeProps;for(var I in N){g.push('<structure name="'.concat(I.replace('"','\\"'),'">'));var C=N[I],E=C.nucleotideProps;for(var S in E){var P=Number.parseInt(S),w=P+C.firstNucleotideIndex,A=E[P],k=m*(A.x-h)+U.x,T=x*(A.y-v)+U.y;g.push('<point x="'.concat((0,O.zK)(k,3),'" y="').concat((0,O.zK)(T,3),'" b="').concat(A.symbol,'" numbering-label="').concat(w,'" />'))}g.push("</structure>")}g.push("\x3c!-- </rnaComplex> --\x3e")}return g.join("\n")})),(0,u.Z)(F,G.svg,(function(e,n){var t,r=document.querySelector("#".concat(Yn)).getBBox(),o=document.getElementById(qn).cloneNode(!0),a=o.querySelector("#".concat(Qn));a&&a.remove();var i=o.querySelector("#".concat($n));i&&i.remove(),o.setAttribute("fill","none"),o.setAttribute("filter","none"),o.setAttribute("stroke","none"),o.style.removeProperty("top"),o.style.removeProperty("left"),o.style.removeProperty("position");var s=o.querySelector("#".concat(Yn)),c=r.width+40,d=r.height+40;o.setAttribute("viewBox","".concat(r.x-20," ").concat(r.y-20," ").concat(c," ").concat(d)),o.setAttribute("width",c.toString()),o.setAttribute("height",d.toString()),s.setAttribute("transform","scale(1, -1) translate(0, ".concat(-(2*r.y+r.height),")"));for(var f="Miscellaneous",p=(t={},(0,u.Z)(t,z.Fr.NUCLEOTIDE,"Nucleotides"),(0,u.Z)(t,z.Fr.BASE_PAIR,"BasePairs"),(0,u.Z)(t,z.Fr.LABEL_LINE,"LabelLines"),(0,u.Z)(t,z.Fr.LABEL_CONTENT,"LabelContents"),(0,u.Z)(t,z.Fr.PATH,"Paths"),(0,u.Z)(t,z.Fr.CENTERLINE,"Centerline"),t),h=["Nucleotides","BasePairs","LabelLines","LabelContents","Paths","Centerline",f],v={},m=0,x=h;m<x.length;m++){var g=x[m],y=document.createElement("g");y.setAttribute("id",g),v[g]=y}function b(e,n){var t=n.getAttribute("transform"),r=(0,B.yR)();if(null!==t){var o,a=t.replaceAll(/\)\s*(?!$)/g,")|").split("|"),i=(0,l.Z)(a);try{for(i.s();!(o=i.n()).done;){var s=o.value;r=(0,B.Aj)(r,(0,B.HU)(s))}}catch(m){i.e(m)}finally{i.f()}}e=(0,B.Aj)(e,r);var u,c=n.getAttribute(z.IQ);if("g"!==n.tagName||[z.Fr.BASE_PAIR,z.Fr.LABEL_LINE].includes(null!==c&&void 0!==c?c:""))u=null!==c&&c in p?v[p[c]]:v[f],n.setAttribute("transform",(0,B.Kl)(e)),u.appendChild(n);else for(var d=0,h=Array.from(n.children);d<h.length;d++){b(e,h[d])}}for(var N=0,I=Array.from(s.children);N<I.length;N++){var C=I[N];b((0,B.yR)(),C),C.remove()}for(var E=0,S=h;E<S.length;E++){var P=v[S[E]];P&&P.children.length>0&&s.appendChild(P)}var w,A=(0,l.Z)(s.querySelectorAll("animate"));try{for(A.s();!(w=A.n()).done;){w.value.remove()}}catch(k){A.e(k)}finally{A.f()}return o.innerHTML=s.outerHTML,o.outerHTML})),F),V=(0,a.Z)((0,a.Z)({},K),{},(0,u.Z)({},G.json,(function(e){var n=[],t=[],r={},o={},i={},c={},d="";function p(e){var t,r=n.findIndex((function(n){return n["font-family"]===e.family&&n["font-size"]==="".concat(e.size)&&n["font-weight"]===e.weight&&n["font-style"]===e.style}));-1===r?(d="font#".concat(n.length),n.push((t={name:d},(0,u.Z)(t,"font-family",e.family),(0,u.Z)(t,"font-size","".concat(e.size)),(0,u.Z)(t,"font-weight",e.weight),(0,u.Z)(t,"font-style",e.style),t))):d="font#".concat(r)}var h="";function v(e){var n,r=(0,R.hG)(e.stroke),o=t.findIndex((function(n){return n["stroke-width"]==="".concat(e.strokeWidth)&&n.stroke===r}));-1===o?(h="stroke#".concat(t.length),t.push((n={name:h},(0,u.Z)(n,"stroke-width","".concat(e.strokeWidth)),(0,u.Z)(n,"stroke",r),n))):h="stroke#".concat(o)}var m=Object.values(e);return m.forEach((function(e){Object.values(e.rnaMoleculeProps).forEach((function(e){Object.entries(e.nucleotideProps).forEach((function(e){var n,t,a=(0,s.Z)(e,2),l=a[0],u=a[1],c=Number.parseInt(l);p(null!==(n=u.font)&&void 0!==n?n:j.ZP.DEFAULT),i[c]=["text-"+(0,R.hG)(null!==(t=u.color)&&void 0!==t?t:R.E5),d];var f,m,x=u.labelContentProps;void 0!==x&&(p(null!==(f=x.font)&&void 0!==f?f:j.ZP.DEFAULT),r[c]=["text-"+(0,R.hG)(null!==(m=x.color)&&void 0!==m?m:R.E5),d]);var g,y,b=u.labelLineProps;void 0!==b&&(v({stroke:null!==(g=b.color)&&void 0!==g?g:R.E5,strokeWidth:null!==(y=b.strokeWidth)&&void 0!==y?y:O.tA}),o[c]=[h])}))}))})),JSON.stringify({classes:n.concat(t),rnaComplexes:m.map((function(e){var n=Object.entries(e.rnaMoleculeProps),t=e.basePairs,u=new Array;return{name:e.name,rnaMolecules:n.map((function(n){for(var d=(0,s.Z)(n,2),p=d[0],m=d[1],x=new Array,g=t[p],y=0,b=Object.entries(g);y<b.length;y++){var N,I=(0,s.Z)(b[y],2),C=I[0],E=I[1],S=(0,l.Z)(E);try{for(S.s();!(N=S.n()).done;){var P,w,A,T=N.value,_=Number.parseInt(C);if((0,k.JA)({rnaMoleculeName:p,nucleotideIndex:_},T)){var j=null!==(P=T.basePairType)&&void 0!==P?P:(0,M.iN)(m.nucleotideProps[_].symbol,e.rnaMoleculeProps[T.rnaMoleculeName].nucleotideProps[T.nucleotideIndex].symbol);v({strokeWidth:null!==(w=T.strokeWidth)&&void 0!==w?w:O.tA,stroke:null!==(A=T.color)&&void 0!==A?A:R.E5}),c[_]=[h];var Z={basePairType:j,classes:c[_],residueIndex1:m.firstNucleotideIndex+_,residueIndex2:m.firstNucleotideIndex+T.nucleotideIndex,points:T.points},L=p,D=T.rnaMoleculeName;if(M.ZP.isRedundantLeontisWesthofType(Z.basePairType)){Z.basePairType=M.ZP.reverseDirectedTypeMap[Z.basePairType];var F=L;L=D,D=F;var B=Z.residueIndex1;Z.residueIndex1=Z.residueIndex2,Z.residueIndex2=B}L===D?x.push(Z):u.push((0,a.Z)((0,a.Z)({},Z),{},{rnaMoleculeName1:L,rnaMoleculeName2:D}))}}}catch(U){S.e(U)}finally{S.f()}}var z=new Array,W=Object.entries(m.nucleotideProps).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndex:Number.parseInt(t),singularNucleotideProps:r}}));return W.forEach((function(e){var n=e.nucleotideIndex,t=e.singularNucleotideProps,a=t.labelContentProps,i=t.labelLineProps;if(void 0!==a||void 0!==i){var l={residueIndex:n+m.firstNucleotideIndex};void 0!==a&&(l.labelContent={classes:r[n],label:a.content,x:a.x+t.x,y:-(a.y+t.y)}),void 0!==i&&(l.labelLine={classes:o[n],points:i.points.map((function(e){var n=(0,f.IH)(e,t);return n.y=-n.y,n}))}),z.push(l)}})),{name:p,basePairs:x,labels:z,sequence:W.map((function(e){var n=e.nucleotideIndex,t=e.singularNucleotideProps;return{classes:i[n],residueIndex:n+m.firstNucleotideIndex,residueName:t.symbol,x:t.x,y:-t.y}}))}})),basePairs:u}}))})}))),q=function(e){function n(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{singularRnaComplexProps:null,singularRnaMoleculeProps:null,rnaMoleculeName:null,partialBasePairs:new Array},i={tagName:e.tagName};switch(e.tagName){case"ComplexDocument":t.complexDocumentName=e.getAttribute("Name");break;case"Complex":o.singularRnaComplexProps={name:e.getAttribute("Name"),rnaMoleculeProps:{},basePairs:{}},t.rnaComplexProps.push(o.singularRnaComplexProps);break;case"RNAMolecule":var u=e.getAttribute("Name");o.singularRnaMoleculeProps={firstNucleotideIndex:0,nucleotideProps:[]},o.rnaMoleculeName=u,o.singularRnaComplexProps.rnaMoleculeProps[u]=o.singularRnaMoleculeProps;break;case"NucListData":var c=o.singularRnaComplexProps,d=o.singularRnaMoleculeProps,f=e.getAttribute("StartNucID");if(null!=f){var p=Number.parseInt(f);if(Number.isNaN(p))throw new Error("This <NucListData>.StartNucID is a non-integer: ".concat(f));d.firstNucleotideIndex=p}var h={};e.getAttribute("DataType").split(".").forEach((function(e,n){h[n]=e}));var v,m=0,x={},g=o.rnaMoleculeName,y=(0,l.Z)(e.textContent.split("\n"));try{var b=function(){var e=v.value;if(/^\s*$/.test(e))return"continue";var n=Z.h5.Symbol.A,t=NaN,r=NaN,o=NaN,a=NaN;e.split(/\s+/).forEach((function(e,i){switch(h[i]){case"NucChar":if(!Z.h5.symbols.some((function(n){return e===n})))throw new Error("This input NucChar is not a <Nucleotide.Symbol>: ".concat(e));n=e;break;case"NucID":if(t=Number.parseInt(e)-d.firstNucleotideIndex,Number.isNaN(t))throw new Error("This input <NucListData>.NucID is a non-integer: ".concat(e));m=t;break;case"XPos":if(r=Number.parseFloat(e),Number.isNaN(r))throw new Error("This input <NucListData>.XPos is not a number: ".concat(e));break;case"YPos":if(o=Number.parseFloat(e),Number.isNaN(o))throw new Error("This input <NucListData>.YPos is not a number: ".concat(e));break;case"FormatType":break;case"BPID":if(a=Number.parseInt(e),Number.isNaN(a))throw new Error("This input <NucListData>.BPID is a non-integer: ".concat(e));x[t]=a-d.firstNucleotideIndex}})),Number.isNaN(t)&&(t=m),m++;var i={symbol:n,x:r,y:o};if(t in d.nucleotideProps)throw new Error("This input <NucListData>.NucID is a duplicate: ".concat(t));d.nucleotideProps[t]=i};for(y.s();!(v=y.n()).done;)b()}catch(oe){y.e(oe)}finally{y.f()}for(var N=0,I=Object.entries(x);N<I.length;N++){var C=(0,s.Z)(I[N],2),E=C[0],S=C[1],P=Number.parseInt(E);if(!(S in d.nucleotideProps))throw new Error("This <NucListData>.BPID is outside the set of expected nucleotide indices. Found ".concat(S+d.firstNucleotideIndex));(0,k.P3)(c,g,P,g,S,k.GN.DO_NOTHING)}break;case"BasePairs":var w=o.singularRnaMoleculeProps,A=e.getAttribute("nucID"),T=Number.parseInt(A);if(Number.isNaN(T))throw new Error("This <BasePairs>.nucID is a non-integer: ".concat(A));T-=w.firstNucleotideIndex;var _=e.getAttribute("bpNucID"),M=Number.parseInt(_);if(Number.isNaN(M))throw new Error("This <BasePairs>.bpNucID is a non-integer: ".concat(_));var L=e.getAttribute("length"),D=Number.parseInt(L);if(Number.isNaN(D))throw new Error("This <BasePairs>.length is a non-integer: ".concat(L));var F=o.rnaMoleculeName,B=e.getAttribute("bpName"),z=null!==B&&void 0!==B?B:F;o.partialBasePairs.push({rnaMoleculeName:F,nucleotideIndex:T,basePairRnaMoleculeName:z,unnormalizedBasePairNucleotideIndex:M,length:D});break;case"Nuc":var W=e.getAttribute("Color"),U=null;null!==W&&(U=(0,R.SM)(W,R.qz.RGB));var G=e.getAttribute("FontID"),H=null;if(null!==G){var K=Number.parseInt(G);if(Number.isNaN(K))throw new Error("This <Nuc>.FontID attribute is non-integer: ".concat(G));H=j.NN.fromFontId(K)}var V=e.getAttribute("FontSize"),q=null;if(null!==V&&(q=Number.parseFloat(V),Number.isNaN(q)))throw new Error("This <Nuc>.FontSize attribute is non-numeric: ".concat(V));var X=[],$=o.singularRnaMoleculeProps.firstNucleotideIndex,Q=e.getAttribute("RefID");if(null!==Q){var Y=Number.parseInt(Q)-$;if(Number.isNaN(Y))throw new Error("This <Nuc>.RefID is a non-integer: ".concat(Q));X.push(Y),i.referencedNucleotideIndex=Y}var J=e.getAttribute("RefIDs");if(null!==J){var ee=J.replace(/\s+/,"");if(!/^(-?\d+(--?\d+)?(,-?\d+(--?\d+)?)*)$/.test(ee))throw new Error("This <Nuc>.RefIDs attribute did not match the expected format: ".concat(J));ee.split(",").forEach((function(e){var n=e.match(/^(-?\d+)(?:-(-?\d+))?$/),t=Number.parseInt(n[1]);if(Number.isNaN(t))throw new Error("This referenced-nucleotide index is non-numeric: ".concat(n[1]));if(t-=$,void 0===n[2])X.push(Number.parseInt(n[1])-$);else{var r=Number.parseInt(n[2]);if(Number.isNaN(r))throw new Error("This referenced-nucleotide index is non-numeric: ".concat(r));if(t>(r-=$)){var o=t;t=r,r=o}for(var a=t;a<=r;a++)X.push(a)}}))}var ne=o.singularRnaMoleculeProps;X.forEach((function(e){var n;if(!(e in ne.nucleotideProps))throw new Error("The referenced nucleotide index indexes a non-existent Nucleotide: ".concat(e));n=ne.nucleotideProps[e],null!==U&&(n.color=U),null!==q&&(void 0===n.font&&(n.font=structuredClone(j.ZP.DEFAULT)),n.font.size=q),null!==H&&void 0===n.font&&(n.font=(0,a.Z)((0,a.Z)({},j.ZP.DEFAULT),H))}));break;case"LabelList":if("Nuc"===r.tagName){if(null===r.referencedNucleotideIndex)throw new Error("This <Nuc> had no attribute <RefID>");var te=o.singularRnaMoleculeProps.nucleotideProps[r.referencedNucleotideIndex];e.textContent.split("\n").forEach((function(e){var n=e.trim().split(/\s+/);switch(n[0]){case"l":if(n.length<7)throw new Error("This <LabelList> label-line line has too few entries.");var t=n[1],r=n[2],o=n[3],a=n[4],i=n[5],l=Number.parseFloat(t),s=Number.parseFloat(r),u=Number.parseFloat(o),c=Number.parseFloat(a),d=Number.parseFloat(i);if(Number.isNaN(l))throw new Error("This <LabelList> label-line line has a non-numeric x0 value: ".concat(t));if(Number.isNaN(s))throw new Error("This <LabelList> label-line line has a non-numeric y0 value: ".concat(r));if(Number.isNaN(u))throw new Error("This <LabelList> label-line line has a non-numeric x1 value: ".concat(o));if(Number.isNaN(c))throw new Error("This <LabelList> label-line line has a non-numeric y1 value: ".concat(a));if(Number.isNaN(d))throw new Error("This <LabelList> label-line line has a non-numeric strokeWidth value: ".concat(i));te.labelLineProps={points:[{x:l,y:s},{x:u,y:c}],color:(0,R.SM)(n[6],R.qz.RGB),strokeWidth:d};break;case"s":if(n.length<8)throw new Error("This <LabelList> label-content line has too few entries.");var f=n[1],p=n[2],h=n[4],v=n[5],m=n[6],x=n[7],g=Number.parseFloat(f),y=Number.parseFloat(p),b=Number.parseFloat(h),N=Number.parseInt(v),I=(0,R.SM)(m,R.qz.RGB),C=x.match(/^"(.*)"$/);if(Number.isNaN(g))throw new Error("This <LabelList> label-content line has a non-numeric x value: ".concat(f));if(Number.isNaN(y))throw new Error("This <LabelList> label-content line has a non-numeric y value: ".concat(p));if(Number.isNaN(b))throw new Error("This <LabelList> label-content line has a non-numeric fontSize value: ".concat(h));if(Number.isNaN(N))throw new Error("This <LabelList> label-content line has a non-numeric fontId value: ".concat(v));if(null===C)throw new Error("This <LabelList> label-content line has a content value with an unrecognized format: ".concat(x));te.labelContentProps={x:g,y:y,content:C[1],color:I,strokeWidth:O.tA,font:j.ZP.fromFontId(N,b)}}}))}}if(Array.from(e.children).forEach((function(e){n(e,t,i,o)})),"Complex"===e.tagName){var re=o.singularRnaComplexProps;o.partialBasePairs.forEach((function(e){for(var n=e.basePairRnaMoleculeName,t=re.rnaMoleculeProps[n],r=e.unnormalizedBasePairNucleotideIndex-t.firstNucleotideIndex,o=0;o<e.length;o++)(0,k.P3)(re,e.rnaMoleculeName,e.nucleotideIndex+o,n,r-o,k.GN.DO_NOTHING)}))}}e.startsWith("<!DOCTYPE")||(e+="<!DOCTYPE ComplexDocument [\n<!ELEMENT ComplexDocument (SceneNodeGeom?, ComplexDocument*, Label*, LabelList*, Complex*, WithComplex*)>\n<!ATTLIST ComplexDocument Name CDATA #REQUIRED Author CDATA #IMPLIED ExpandUponWrite CDATA #IMPLIED PSScale CDATA #IMPLIED LandscapeMode CDATA #IMPLIED> \n<!ELEMENT Complex (SceneNodeGeom?, Label*, LabelList*, RnaMolecule*, ProteinMolecule*)>\n<!ATTLIST Complex Name CDATA #REQUIRED Author CDATA #IMPLIED> \n<!ELEMENT WithComplex (SceneNodeGeom?, Label*, LabelList*, RnaMolecule*, ProteinMolecule*)>\n<!ATTLIST WithComplex Name CDATA #REQUIRED Author CDATA #IMPLIED> \n<!ELEMENT RnaMolecule (SceneNodeGeom?, Label*, LabelList*, Nuc*, NucSegment*, (NucListData | Nuc)*, RNAFile*, BasePairs*, BasePair*, Parent?, AlignmentFile?)>\n<!ATTLIST RnaMolecule Name CDATA #REQUIRED Author CDATA #IMPLIED>\n\x3c!-- parent is like for e.coli being the numbering --\x3e \n<!ELEMENT Parent (RnaMolecule)>\n<!ELEMENT AlignmentFile (#PCDATA)> \n<!ELEMENT BasePairs EMPTY>\n<!ATTLIST BasePairs nucID CDATA #REQUIRED bpNucID CDATA #REQUIRED length CDATA #REQUIRED bpName CDATA #IMPLIED>\n\x3c!-- BasePair can be used after above BasePairs is implemented and refers to base pairs already set, even across strands. --\x3e\n<!ELEMENT BasePair EMPTY>\n<!ATTLIST BasePair RefID CDATA #IMPLIED RefIDs CDATA #IMPLIED Type (Canonical | Wobble | MisMatch | Weak | Phosphate | Unknown) 'Unknown' Line5PDeltaX CDATA #IMPLIED Line5PDeltaY CDATA #IMPLIED Line3PDeltaX CDATA #IMPLIED Line3PDeltaY CDATA #IMPLIED LabelDeltaX CDATA #IMPLIED LabelDeltaY CDATA #IMPLIED Label5PSide CDATA #IMPLIED> \n<!ELEMENT NucListData (#PCDATA)>\n<!ATTLIST NucListData StartNucID CDATA #IMPLIED DataType (NucChar | NucID.NucChar | NucID.NucChar.XPos.YPos | NucChar.XPos.YPos | NucID.NucChar.XPos.YPos.FormatType.BPID) 'NucID.NucChar.XPos.YPos.FormatType.BPID'> \n<!ELEMENT Label (StringLabel | CircleLabel | Trianglelabel | LineLabel | ParallelogramLabel)>\n<!ATTLIST Label XPos CDATA #REQUIRED YPos CDATA #REQUIRED Color CDATA #IMPLIED>\n<!ELEMENT StringLabel EMPTY> \n<!ATTLIST StringLabel FontName CDATA #IMPLIED FontType CDATA #IMPLIED FontSize CDATA #REQUIRED Angle CDATA #IMPLIED  Text CDATA #REQUIRED>\n<!ELEMENT CircleLabel EMPTY> \n<!ATTLIST CircleLabel Arc0 CDATA #IMPLIED Arc1 CDATA #IMPLIED Radius CDATA #IMPLIED LineWidth CDATA #IMPLIED IsOpen CDATA #IMPLIED>\n<!ELEMENT TriangleLabel EMPTY>\n<!ATTLIST TriangleLabel TopPtX CDATA #REQUIRED TopPtY CDATA #REQUIRED LeftPtX CDATA #REQUIRED LeftPtY CDATA #REQUIRED RightPtX CDATA #REQUIRED RightPtY CDATA #REQUIRED LineWidth CDATA #IMPLIED IsOpen CDATA #IMPLIED>\n<!ELEMENT LineLabel EMPTY> \n<!ATTLIST LineLabel X1 CDATA #REQUIRED Y1 CDATA #REQUIRED LineWidth CDATA #IMPLIED> \n<!ELEMENT ParallelogramLabel EMPTY>\n<!ATTLIST ParallelogramLabel Angle1 CDATA #REQUIRED Side1 CDATA #REQUIRED Angle2 CDATA #REQUIRED Side2 CDATA #REQUIRED LineWidth CDATA #IMPLIED IsOpen CDATA #IMPLIED> \n<!ELEMENT LabelList (#PCDATA)>\n<!ELEMENT NucSegment (NucChars)> \n<!ATTLIST NucSegment StartNucID CDATA #IMPLIED> \n<!ELEMENT NucChars (#PCDATA)>\n<!ELEMENT NucSymbol (#PCDATA)> \n<!ELEMENT Nuc (Label*, LabelList?, NucSymbol?)>\n<!ATTLIST Nuc NucID CDATA #IMPLIED NucChar CDATA #IMPLIED XPos CDATA #IMPLIED YPos CDATA #IMPLIED Color CDATA #IMPLIED FontID CDATA #IMPLIED FontSize CDATA #IMPLIED FormatType CDATA #IMPLIED BPParent CDATA #IMPLIED BPNucID CDATA #IMPLIED RefID CDATA #IMPLIED RefIDs CDATA #IMPLIED IsHidden CDATA #IMPLIED GroupName CDATA #IMPLIED IsSchematic CDATA #IMPLIED SchematicColor CDATA #IMPLIED SchematicLineWidth CDATA #IMPLIED SchematicBPLineWidth CDATA #IMPLIED SchematicBPGap CDATA #IMPLIED SchematicFPGap CDATA #IMPLIED SchematicTPGap CDATA #IMPLIED IsNucPath CDATA #IMPLIED NucPathColor CDATA #IMPLIED NucPathLineWidth CDATA #IMPLIED>\n<!ELEMENT RNAFile EMPTY>\n<!ATTLIST RNAFile FileName CDATA #REQUIRED FileType (NucChar | NucID.NucChar | NucID.NucChar.XPos.YPos | NucID.NucChar.XPos.YPos.FormatType.BPID) 'NucID.NucChar.XPos.YPos.FormatType.BPID'>\n<!ELEMENT SceneNodeGeom EMPTY>\n<!ATTLIST SceneNodeGeom CenterX CDATA #IMPLIED CenterY CDATA #IMPLIED Scale CDATA #IMPLIED>\n]>\n"+e);var t={rnaComplexProps:new Array,complexDocumentName:""};return Array.from((new DOMParser).parseFromString(e,"text/xml").children).forEach((function(e){n(e,t,{tagName:""})})),t};function X(e,n){if(!Array.isArray(e))throw"Variable ".concat(n," should be an array.");return e.map((function(e){if(!("x"in e)||!("y"in e))throw"Each element in ".concat(n,' should include "x" and "y" properties.');var t=Number.parseFloat(e.x),r=Number.parseFloat(e.y);if(Number.isNaN(t)||Number.isNaN(r))throw"x and y properties of each element in ".concat(n," should be numbers.");return{x:t,y:r}}))}function $(e,n,t,r,o,a,i){if(!("basePairType"in e)||!("residueIndex1"in e)||!("residueIndex2"in e))throw'Input basePairs elements of input Json should have "basePairType", "residueIndex1" and "residueIndex2" variables.';var l;if([null,void 0].includes(e.basePairType))l=void 0;else{if("string"!==typeof e.basePairType||!(0,M.UK)(e.basePairType))throw"Unrecognized base-pair type.";l=e.basePairType}if("stroke"in e){if("string"!==typeof e.stroke)throw'Base-pair "stroke" variable should be a string.';r=(0,R.Jq)(e.stroke)}var s=structuredClone(r),u=e.classes;if(void 0!==u){if(!Array.isArray(u))throw'Base-pair "classes" variable should be an array.';u.forEach((function(e){var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke-width":o=Number.parseFloat(e[1]);break;case"stroke":case"color":s=(0,R.Jq)(e[1])}}))}))}var c=void 0;if("points"in e&&(c=X(e.points,"basePair.points")),void 0===a){if(!("rnaMoleculeName1"in e))throw"No rnaMoleculeName1 was provided.";var d=e.rnaMoleculeName1;if("string"!==typeof d)throw"rnaMoleculeName1 should be a string.";a=d}if(void 0===i){if(!("rnaMoleculeName2"in e))throw"No rnaMoleculeName2 was provided.";var f=e.rnaMoleculeName2;if("string"!==typeof f)throw"rnaMoleculeName2 should be a string.";i=f}for(var p=t.rnaMoleculeProps[a],h=t.rnaMoleculeProps[i],v=0,m=[a,i];v<m.length;v++){var x=m[v];if(!(x in t.rnaMoleculeProps))throw'RNA molecule "'.concat(x,'" does not exist in the RNA complex.')}var g=Number.parseInt(e.residueIndex1)-p.firstNucleotideIndex,y=Number.parseInt(e.residueIndex2)-h.firstNucleotideIndex;(0,k.P3)(t,a,g,i,y,k.GN.DO_NOTHING,{color:s,strokeWidth:o,basePairType:l,points:c})}function Q(e,n){if(!Array.isArray(e))throw"Variable ".concat(n," should be an array.");return e.map((function(e){if(!("x"in e)||!("y"in e))throw"Each element in ".concat(n,' should include "x" and "y" properties.');var t=Number.parseFloat(e.x),r=Number.parseFloat(e.y);if(Number.isNaN(t)||Number.isNaN(r))throw"x and y properties of each element in ".concat(n," should be numbers.");return{x:t,y:r}}))}function Y(e,n,t,r,o,a,i){if(!("basePairType"in e)||!("residueIndex1"in e)||!("residueIndex2"in e))throw'Input basePairs elements of input Json should have "basePairType", "residueIndex1" and "residueIndex2" variables.';var l;if([null,void 0].includes(e.basePairType))l=void 0;else{if("string"!==typeof e.basePairType||!(0,M.UK)(e.basePairType))throw"Unrecognized base-pair type.";l=e.basePairType}if("stroke"in e){if("string"!==typeof e.stroke)throw'Base-pair "stroke" variable should be a string.';r=(0,R.Jq)(e.stroke)}var s=structuredClone(r),u=e.classes;if(void 0!==u){if(!Array.isArray(u))throw'Base-pair "classes" variable should be an array.';u.forEach((function(e){var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke-width":o=Number.parseFloat(e[1]);break;case"stroke":case"color":s=(0,R.Jq)(e[1])}}))}))}var c=void 0;if("points"in e&&(c=Q(e.points,"basePair.points")),void 0===a){if(!("rnaMoleculeName1"in e))throw"No rnaMoleculeName1 was provided.";var d=e.rnaMoleculeName1;if("string"!==typeof d)throw"rnaMoleculeName1 should be a string.";a=d}if(void 0===i){if(!("rnaMoleculeName2"in e))throw"No rnaMoleculeName2 was provided.";var f=e.rnaMoleculeName2;if("string"!==typeof f)throw"rnaMoleculeName2 should be a string.";i=f}for(var p=t.rnaMoleculeProps[a],h=t.rnaMoleculeProps[i],v=0,m=[a,i];v<m.length;v++){var x=m[v];if(!(x in t.rnaMoleculeProps))throw'RNA molecule "'.concat(x,'" does not exist in the RNA complex.')}var g=Number.parseInt(e.residueIndex1)-p.firstNucleotideIndex,y=Number.parseInt(e.residueIndex2)-h.firstNucleotideIndex;(0,k.P3)(t,a,g,i,y,k.GN.DO_NOTHING,{color:s,strokeWidth:o,basePairType:l,points:c})}var J,ee,ne,te=t(7689);var re=(J={},(0,u.Z)(J,_.XRNA,_.XRNA),(0,u.Z)(J,_.XML,_.XML),(0,u.Z)(J,_.JSON,_.JSON),(0,u.Z)(J,_.STR,_.STR),(0,u.Z)(J,_.SVG,_.SVG),J),oe=Object.values(re),ae=(ee={},(0,u.Z)(ee,re.xrna,q),(0,u.Z)(ee,re.xml,q),(0,u.Z)(ee,re.json,(function(e){return function(e){if(!("classes"in e)||!("rnaComplexes"in e))throw'Input Json should have "classes" and "rnaComplexes" variables.';if(!Array.isArray(e.classes))throw'JSON "classes" variable should be an array.';var n=e.classes;return{rnaComplexProps:e.rnaComplexes.map((function(e,t){if(!("name"in e)||!("rnaMolecules"in e))throw'Input rnaComplex elements of input Json should have "name" and "rnaMolecules" variables.';var r={name:"",rnaMoleculeProps:{},basePairs:{}};if(r.name=e.name,r.rnaMoleculeProps={},e.rnaMolecules.forEach((function(e){if(!("name"in e)||!("labels"in e)||!("sequence"in e))throw'Input rnaMolecule elements of input Json should have "name", "sequence", "labels" variables.';var t={firstNucleotideIndex:Number.MAX_VALUE,nucleotideProps:[]},o={font:structuredClone(j.ZP.DEFAULT),color:structuredClone(R.E5)},a=e.classesForSequence;if(void 0!==a){if(!Array.isArray(a))throw'RNA-molecule "classesForSequence" variable should be an array;';a.forEach((function(e){if("string"!==typeof e)throw'"classForSequence" variable should be a string.';e.startsWith("text-")&&(o.color=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":o.font.family=e[1];break;case"font-size":o.font.size=e[1];break;case"font-weight":o.font.weight=e[1];break;case"font-style":o.font.style=e[1];break;case"color":o.color=(0,R.Jq)(e[1])}}))}))}var i=e.name;r.rnaMoleculeProps[i]=t,e.sequence.forEach((function(e){if(!("residueIndex"in e)||!("x"in e)||!("y"in e)||!("residueName"in e))throw'Input sequence elements of input Json should have "residueIndex", "residueName", "x" and "y" variables.';var n=Number.parseInt(e.residueIndex);n<t.firstNucleotideIndex&&(t.firstNucleotideIndex=n)})),e.sequence.forEach((function(e){var r=Number.parseInt(e.residueIndex)-t.firstNucleotideIndex,a={symbol:e.residueName,x:Number.parseFloat(e.x),y:Number.parseFloat(e.y)};a.font=structuredClone(o.font),a.color=structuredClone(o.color),t.nucleotideProps[r]=a;var i=e.classes;if(void 0!==i){if(!Array.isArray(i))throw'Nucleotide "classes" variable should be an array.';i.forEach((function(e){e.startsWith("text-")&&(a.color=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":a.font.family=e[1];break;case"font-size":a.font.size=e[1];break;case"font-weight":a.font.weight=e[1];break;case"font-style":a.font.style=e[1];break;case"color":a.color=(0,R.Jq)(e[1])}}))}))}}));var l={font:structuredClone(j.ZP.DEFAULT),color:structuredClone(R.E5),stroke:structuredClone(R.E5),strokeWidth:O.tA},s=e.classesForLabels;if(void 0!==s){if(!Array.isArray(s))throw'RNA-molecule "classsesForLabels" variable should be an array.';s.forEach((function(e){if("string"!==typeof e)throw'"classForLabel" variable should be a string';e.startsWith("text-")&&(l.color=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":l.font.family=e[1];break;case"font-size":l.font.size=e[1];break;case"font-weight":l.font.weight=e[1];break;case"font-style":l.font.style=e[1];break;case"stroke":l.stroke=(0,R.Jq)(e[1]);break;case"color":l.color=(0,R.Jq)(e[1]);break;case"stroke-width":l.strokeWidth=Number.parseFloat(e[1])}}))}))}e.labels.forEach((function(e){if(!("residueIndex"in e))throw'Input label elements of input Json should have a "residueIndex" variable.';var r=t.nucleotideProps[Number.parseInt(e.residueIndex)-t.firstNucleotideIndex];if("labelContent"in e){var o=structuredClone(l.font),a=structuredClone(l.color),i=e.labelContent.classes;if(void 0!==i){if(!Array.isArray(i))throw'LabelContent "classes" variable should be an array.';i.forEach((function(e){e.startsWith("text-")&&(a=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":o.family=e[1];break;case"font-size":o.size=e[1];break;case"font-weight":o.weight=e[1];break;case"font-style":o.style=e[1];break;case"color":case"stroke":a=(0,R.Jq)(e[1])}}))}))}r.labelContentProps={x:Number.parseFloat(e.labelContent.x),y:Number.parseFloat(e.labelContent.y),content:e.labelContent.label,font:o,color:a,strokeWidth:O.tA}}if("labelLine"in e){var s=e.labelLine,u=structuredClone(l.stroke),c=l.strokeWidth,d=s.classes;if(void 0!==d){if(!Array.isArray(d))throw'Label-line "classes" variable should be an array.';d.forEach((function(e){var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke":case"color":u=(0,R.Jq)(e[1]);break;case"stroke-width":c=Number.parseFloat(e[1])}}))}))}var f=[];if("points"in s)f=Q(s.points,'label-line "points"');else{if(!("x1"in s&&"y1"in s&&"x2"in s&&"y2"in s))throw'Input label-line elements should have a "points" variable.';var p=Number.parseFloat(s.x1);if(Number.isNaN(p))throw'"x1" variable should be a number.';var h=Number.parseFloat(s.y1);if(Number.isNaN(h))throw'"y1" variable should be a number.';var v=Number.parseFloat(s.x2);if(Number.isNaN(v))throw'"x2" variable should be a number.';var m=Number.parseFloat(s.y2);if(Number.isNaN(m))throw'"y2" variable should be a number.';f.push({x:p,y:h},{x:v,y:m})}r.labelLineProps={points:f,color:u,strokeWidth:c}}}));var u={strokeWidth:O.tA,stroke:void 0},c=e.classesForBasePairs;if(void 0!==c){if(!Array.isArray(c))throw'RNA-molecule "classesForBasePairs" variable should be an array.';c.forEach((function(e){if("string"!==typeof e)throw'"classForBasePair" should be a string.';var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke-width":u.strokeWidth=Number.parseFloat(e[1]);break;case"stroke":case"color":u.stroke=(0,R.Jq)(e[1])}}))}))}if("basePairs"in e){var d=e.basePairs;if(!Array.isArray(d))throw"The basePairs property of each input RNA molecule should be an array.";for(var f=0,p=e.basePairs;f<p.length;f++)Y(p[f],null!==n&&void 0!==n?n:[],r,u.stroke,u.strokeWidth,i,i)}return t})),"basePairs"in e){var o=e.basePairs;if(!Array.isArray(o))throw"The basePairs property of each input RNA complex should be an array.";var a,i=(0,l.Z)(e.basePairs);try{var s=function(){var t,o=a.value,i={strokeWidth:O.tA,stroke:void 0},l=e.classesForBasePairs;if(void 0!==l){if(!Array.isArray(l))throw'RNA-molecule "classesForBasePairs" variable should be an array.';l.forEach((function(e){if("string"!==typeof e)throw'"classForBasePair" should be a string.';var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke-width":i.strokeWidth=Number.parseFloat(e[1]);break;case"stroke":case"color":i.stroke=(0,R.Jq)(e[1])}}))}))}Y(o,null!==(t=e.classesForBasePairs)&&void 0!==t?t:[],r,i.stroke,i.strokeWidth)};for(i.s();!(a=i.n()).done;)s()}catch(u){i.e(u)}finally{i.f()}}return r})),complexDocumentName:"Unknown"}}(JSON.parse(e))})),(0,u.Z)(ee,re.str,(function(e){var n=/basefont[^\}]*\{[^\}]+\}[^\}\d]*(\d+)[^\}]*\}/.exec(e);null!==n&&Number.parseInt(n[1]);var t,r=e.matchAll(/(text|line)\s*\{/g),o=new Array,a=new Array,i="RNA molecule",s=(0,u.Z)({},0,[]),c=(0,u.Z)({},0,[]),d=new Array,f=(0,l.Z)(r);try{for(f.s();!(t=f.n()).done;){var p=t.value,h=1,v=p.index;if(void 0===v)throw"index should never be undefined.";for(var m=v+p[0].length,x=m-1;h>0;){var g=x+1,y=e.indexOf("{",g),b=e.indexOf("}",g);if(-1===y){if(-1===b)throw"This STR file is improper; it contains an unclosed bracket.";x=b,h--}else-1===b?(x=y,h++):b<y?(x=b,h--):(x=y,h++)}var N=e.substring(m,x);switch(p[1]){case"text":var I=N.match(/\{\s*(-?[\d.]+)\s+(-?[\d.]+)\s*\}.*(A|C|G|U)\s+0\s*$/);null!==I&&o.push({x:Number.parseFloat(I[1]),y:Number.parseFloat(I[2]),symbol:I[3]});break;case"line":var C=N.match(/\{\s*(-?[\d.]+)\s+(-?[\d.]+)\s+(-?[\d.]+)\s+(-?[\d.]+)\s*\}/);if(null===C)throw"lineRegexMatch should never be null.";a.push({v0:{x:Number.parseFloat(C[1]),y:Number.parseFloat(C[2])},v1:{x:Number.parseFloat(C[3]),y:Number.parseFloat(C[4])}})}}}catch(P){f.e(P)}finally{f.f()}var E={firstNucleotideIndex:1,nucleotideProps:o},S=[{name:"RNA complex",rnaMoleculeProps:(0,u.Z)({},i,E),basePairs:{}}];return(0,te.a)(S,(0,u.Z)({},0,a),(0,u.Z)({},0,d),(0,u.Z)({},0,(0,u.Z)({},i,[])),s,c),{complexDocumentName:"Scene",rnaComplexProps:S}})),(0,u.Z)(ee,re.svg,z.t1),ee),ie=(0,a.Z)((0,a.Z)({},ae),{},(0,u.Z)({},re.json,(function(e){return function(e){if(!("classes"in e)||!("rnaComplexes"in e))throw'Input Json should have "classes" and "rnaComplexes" variables.';if(!Array.isArray(e.classes))throw'JSON "classes" variable should be an array.';var n=e.classes;return{rnaComplexProps:e.rnaComplexes.map((function(e,t){if(!("name"in e)||!("rnaMolecules"in e))throw'Input rnaComplex elements of input Json should have "name" and "rnaMolecules" variables.';var r={name:"",rnaMoleculeProps:{},basePairs:{}};if(r.name=e.name,r.rnaMoleculeProps={},e.rnaMolecules.forEach((function(e){if(!("name"in e)||!("labels"in e)||!("sequence"in e))throw'Input rnaMolecule elements of input Json should have "name", "sequence", "labels" variables.';var t={firstNucleotideIndex:Number.MAX_VALUE,nucleotideProps:[]},o={font:structuredClone(j.ZP.DEFAULT),color:structuredClone(R.E5)},i=e.classesForSequence;if(void 0!==i){if(!Array.isArray(i))throw'RNA-molecule "classesForSequence" variable should be an array;';i.forEach((function(e){if("string"!==typeof e)throw'"classForSequence" variable should be a string.';e.startsWith("text-")&&(o.color=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":o.font.family=e[1];break;case"font-size":o.font.size=e[1];break;case"font-weight":o.font.weight=e[1];break;case"font-style":o.font.style=e[1];break;case"color":o.color=(0,R.Jq)(e[1])}}))}))}var l=e.name;r.rnaMoleculeProps[l]=t,e.sequence.forEach((function(e){if(!("residueIndex"in e)||!("x"in e)||!("y"in e)||!("residueName"in e))throw'Input sequence elements of input Json should have "residueIndex", "residueName", "x" and "y" variables.';var n=Number.parseInt(e.residueIndex);n<t.firstNucleotideIndex&&(t.firstNucleotideIndex=n)})),e.sequence.forEach((function(e){var r=Number.parseInt(e.residueIndex)-t.firstNucleotideIndex,a={symbol:e.residueName,x:Number.parseFloat(e.x),y:Number.parseFloat(e.y)};a.font=structuredClone(o.font),a.color=structuredClone(o.color),t.nucleotideProps[r]=a;var i=e.classes;if(void 0!==i){if(!Array.isArray(i))throw'Nucleotide "classes" variable should be an array.';i.forEach((function(e){e.startsWith("text-")&&(a.color=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":a.font.family=e[1];break;case"font-size":a.font.size=e[1];break;case"font-weight":a.font.weight=e[1];break;case"font-style":a.font.style=e[1];break;case"color":a.color=(0,R.Jq)(e[1])}}))}))}}));var s={font:structuredClone(j.ZP.DEFAULT),color:structuredClone(R.E5),stroke:structuredClone(R.E5),strokeWidth:O.tA},u=e.classesForLabels;if(void 0!==u){if(!Array.isArray(u))throw'RNA-molecule "classsesForLabels" variable should be an array.';u.forEach((function(e){if("string"!==typeof e)throw'"classForLabel" variable should be a string';e.startsWith("text-")&&(s.color=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":s.font.family=e[1];break;case"font-size":s.font.size=e[1];break;case"font-weight":s.font.weight=e[1];break;case"font-style":s.font.style=e[1];break;case"stroke":s.stroke=(0,R.Jq)(e[1]);break;case"color":s.color=(0,R.Jq)(e[1]);break;case"stroke-width":s.strokeWidth=Number.parseFloat(e[1])}}))}))}e.labels.forEach((function(e){if(!("residueIndex"in e))throw'Input label elements of input Json should have a "residueIndex" variable.';var r=t.nucleotideProps[Number.parseInt(e.residueIndex)-t.firstNucleotideIndex];if("labelContent"in e){var o=structuredClone(s.font),i=structuredClone(s.color),l=e.labelContent.classes;if(void 0!==l){if(!Array.isArray(l))throw'LabelContent "classes" variable should be an array.';l.forEach((function(e){e.startsWith("text-")&&(i=(0,R.Jq)(e.substring("text-".length)));var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"font-family":o.family=e[1];break;case"font-size":o.size=e[1];break;case"font-weight":o.weight=e[1];break;case"font-style":o.style=e[1];break;case"color":case"stroke":i=(0,R.Jq)(e[1])}}))}))}r.labelContentProps=(0,a.Z)((0,a.Z)({},(0,f.$X)({x:Number.parseFloat(e.labelContent.x),y:Number.parseFloat(e.labelContent.y)},r)),{},{content:e.labelContent.label,font:o,color:i,strokeWidth:O.tA})}if("labelLine"in e){var u=e.labelLine,c=structuredClone(s.stroke),d=s.strokeWidth,p=u.classes;if(void 0!==p){if(!Array.isArray(p))throw'Label-line "classes" variable should be an array.';p.forEach((function(e){var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke":case"color":c=(0,R.Jq)(e[1]);break;case"stroke-width":d=Number.parseFloat(e[1])}}))}))}var h=[];if("points"in u)h=X(u.points,'label-line "points"');else{if(!("x1"in u&&"y1"in u&&"x2"in u&&"y2"in u))throw'Input label-line elements should have a "points" variable.';var v=Number.parseFloat(u.x1);if(Number.isNaN(v))throw'"x1" variable should be a number.';var m=Number.parseFloat(u.y1);if(Number.isNaN(m))throw'"y1" variable should be a number.';var x=Number.parseFloat(u.x2);if(Number.isNaN(x))throw'"x2" variable should be a number.';var g=Number.parseFloat(u.y2);if(Number.isNaN(g))throw'"y2" variable should be a number.';h.push({x:v,y:m},{x:x,y:g})}r.labelLineProps={points:h.map((function(e){return(0,f.$X)(e,r)})),color:c,strokeWidth:d}}}));var c={strokeWidth:O.tA,stroke:void 0},d=e.classesForBasePairs;if(void 0!==d){if(!Array.isArray(d))throw'RNA-molecule "classesForBasePairs" variable should be an array.';d.forEach((function(e){if("string"!==typeof e)throw'"classForBasePair" should be a string.';var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke-width":c.strokeWidth=Number.parseFloat(e[1]);break;case"stroke":case"color":c.stroke=(0,R.Jq)(e[1])}}))}))}if("basePairs"in e){var p=e.basePairs;if(!Array.isArray(p))throw"The basePairs property of each input RNA molecule should be an array.";for(var h=0,v=e.basePairs;h<v.length;h++)$(v[h],null!==n&&void 0!==n?n:[],r,c.stroke,c.strokeWidth,l,l)}return t})),"basePairs"in e){var o=e.basePairs;if(!Array.isArray(o))throw"The basePairs property of each input RNA complex should be an array.";var i,s=(0,l.Z)(e.basePairs);try{var u=function(){var t,o=i.value,a={strokeWidth:O.tA,stroke:void 0},l=e.classesForBasePairs;if(void 0!==l){if(!Array.isArray(l))throw'RNA-molecule "classesForBasePairs" variable should be an array.';l.forEach((function(e){if("string"!==typeof e)throw'"classForBasePair" should be a string.';var t=n.find((function(n){return n.name===e}));void 0!==t&&Object.entries(t).forEach((function(e){switch(e[0]){case"stroke-width":a.strokeWidth=Number.parseFloat(e[1]);break;case"stroke":case"color":a.stroke=(0,R.Jq)(e[1])}}))}))}$(o,null!==(t=e.classesForBasePairs)&&void 0!==t?t:[],r,a.stroke,a.strokeWidth)};for(s.s();!(i=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}}return r})),complexDocumentName:"Unknown"}}(JSON.parse(e))}))),le=(ne={},(0,u.Z)(ne,re.xrna,!1),(0,u.Z)(ne,re.xml,!1),(0,u.Z)(ne,re.json,!0),(0,u.Z)(ne,re.str,!1),(0,u.Z)(ne,re.svg,!1),ne),se=t(9750),ue=t(3413),ce=t(9766),de=t(2177),fe=t(8161);function pe(e){if(0===e.length)return 0;var n=(0,i.Z)(e).sort((function(e,n){return e-n})),t=Math.floor(n.length/2);return n.length%2===0?(n[t-1]+n[t])/2:n[t]}function he(e,n){if(e>n){var t=e;e=n,n=t}var r=M.Ep.typeRecord,o=void 0;return e in r&&(o=r[e][n]),void 0===o?M.Ep.Type.MISMATCH:o}var ve,me=t.p+"static/media/loading.b29632a55bfb1d07d50fd6492383786b.svg",xe=t(5910),ge=t(974),ye=t(920),be=t(1702),Ne=t(4914),Ie=t(6768),Ce=t(184);function Ee(e,n,t,r,o,a,i,l){var s=e.rnaMoleculeProps[n],u=e.rnaMoleculeProps[t];if(s&&u)for(var c=l[se.pE.CANONICAL_BASE_PAIR_DISTANCE],d=l[se.pE.WOBBLE_BASE_PAIR_DISTANCE],p=l[se.pE.MISMATCH_BASE_PAIR_DISTANCE],h=l[se.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS],v=0;v<a;v++){var m=r+v,x=o-v;if(!(m in s.nucleotideProps)||!(x in u.nucleotideProps))break;var g=s.nucleotideProps[m],y=u.nucleotideProps[x],b=i;if(g.symbol&&y.symbol)try{b=(0,M.iN)(g.symbol,y.symbol)}catch(F){b=M.Ep.Type.MISMATCH}var N=c;if(b===M.Ep.Type.WOBBLE?N=d:b===M.Ep.Type.MISMATCH&&(N=p),0===v){var I={x:(g.x+y.x)/2,y:(g.y+y.y)/2},C=(0,f.$X)(y,g);if((0,f.VE)(C)>0){var E=(0,f.Fv)(C),S=N/2;g.x=I.x-E.x*S,g.y=I.y-E.y*S,y.x=I.x+E.x*S,y.y=I.y+E.y*S}}else{var P=r+v-1,w=o-v+1;if(P in s.nucleotideProps&&w in u.nucleotideProps){var A=s.nucleotideProps[P],k=u.nucleotideProps[w],T={x:(A.x+k.x)/2,y:(A.y+k.y)/2},_={x:(g.x+y.x)/2,y:(g.y+y.y)/2},R=(0,f.$X)(_,T);if((0,f.VE)(R)>0){var j=(0,f.Fv)(R),O=(0,f.IH)(T,(0,f.wK)(j,h)),Z=(0,f.$X)(y,g);if((0,f.VE)(Z)>0){var L=(0,f.Fv)(Z),D=N/2;g.x=O.x-L.x*D,g.y=O.y-L.y*D,y.x=O.x+L.x*D,y.y=O.y+L.y*D}}}}}}!function(e){var n,t;!function(e){function n(e){var n=e.singularNucleotideProps.labelContentProps,t=(0,c.useContext)(ue._.OrientationEditor.ResetDataTrigger),r=(0,c.useState)(n.x),o=(0,s.Z)(r,2),a=o[0],i=o[1],l=(0,c.useState)(n.y),u=(0,s.Z)(l,2),d=u[0],f=u[1],p=(0,c.useState)(n.content),h=(0,s.Z)(p,2),v=h[0],m=h[1];return(0,c.useEffect)((function(){i(n.x),f(n.y),m(n.content)}),[t]),(0,Ce.jsxs)(ye.z.Component,{title:"Content",children:[(0,Ce.jsxs)("label",{children:["x:\xa0",(0,Ce.jsx)(be.Z.Number,{value:a,setValue:function(n){i(n),e.rerender(n,d,v)}})]}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)("label",{children:["y:\xa0",(0,Ce.jsx)(be.Z.Number,{value:d,setValue:function(n){f(n),e.rerender(a,n,v)}})]}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)("label",{children:["content:\xa0",(0,Ce.jsx)("input",{type:"text",value:v,onChange:function(n){var t=n.target.value;m(t),e.rerender(a,d,t)}})]})]})}function t(e){var n=e.singularNucleotideProps.labelLineProps.points,t=(0,c.useContext)(ue._.OrientationEditor.ResetDataTrigger),r=(0,c.useState)(0),o=(0,s.Z)(r,2),i=o[0],l=o[1],u=(0,c.useState)(0),d=(0,s.Z)(u,2),p=d[0],h=d[1],v=(0,c.useState)(0),m=(0,s.Z)(v,2),x=m[0],g=m[1],y=(0,c.useState)(void 0),b=(0,s.Z)(y,2),N=b[0],I=b[1];function C(){var t=n[0];I({initialCenter:{x:0,y:0},positions:n,onUpdatePositions:function(){e.rerender(E.x,E.y,i),h(E.x),g(E.y)},normal:(0,f.K)(t),initialAngle:(0,f.HF)(t),initialScale:(0,f.VE)(t)})}var E=(0,c.useMemo)((function(){return n[i]}),[i,n]);return(0,c.useEffect)((function(){h(E.x),g(E.y)}),[E]),(0,c.useEffect)((function(){h(E.x),g(E.y),C()}),[t]),(0,Ce.jsxs)(ye.z.Component,{title:"Line Positions",children:[(0,Ce.jsxs)(ye.z.Component,{title:"Single position",children:[(0,Ce.jsxs)("label",{children:["Edit position #\xa0",(0,Ce.jsx)(be.Z.Integer,{value:i+1,setValue:function(e){var t=e-1,r=n[t];l(t),h(r.x),g(r.y)},min:1,max:n.length})]}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)("label",{children:["x:\xa0",(0,Ce.jsx)(be.Z.Number,{value:p,setValue:function(n){h(n),E.x=n,e.rerender(n,x,i),C()}})]}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)("label",{children:["y:\xa0",(0,Ce.jsx)(be.Z.Number,{value:x,setValue:function(n){g(n),E.y=n,e.rerender(p,n,i),C()}})]})]}),N&&(0,Ce.jsx)(Ne.Y.Component,(0,a.Z)({},N))]})}e.Component=function(e){var r=e.singularNucleotideWithLabelContentProps,o=e.singularNucleotideWithLabelLineProps,l=e.rerender;return(0,Ce.jsxs)(Ce.Fragment,{children:[void 0!==r&&(0,Ce.jsx)(n,{singularNucleotideProps:r,rerender:function(e){function n(n,t,r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n,t){r.labelContentProps=(0,a.Z)((0,a.Z)({},r.labelContentProps),{},{x:e,y:n,content:t}),l()}))}),void 0!==o&&(0,Ce.jsx)(t,{singularNucleotideProps:o,rerender:function(e){function n(n,t,r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n,t){var r=o.labelLineProps.points,s=r[t];s.x=e,s.y=n,o.labelLineProps=(0,a.Z)((0,a.Z)({},o.labelLineProps),{},{points:(0,i.Z)(r)}),l()}))})]})}}(n||(n={})),(t||(t={})).Component=function(e){var n=e.rerender,t=e.labelContentProps,r=e.labelLineProps,o=(0,c.useContext)(ue._.App.Settings)[se.pE.USE_DEGREES],a=(0,c.useMemo)((function(){var e=new Array;e.push.apply(e,(0,i.Z)(t));var n,o=(0,l.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value.points;e.push.apply(e,(0,i.Z)(a))}}catch(s){o.e(s)}finally{o.f()}return{initialCenter:{x:0,y:0},positions:[],normal:{x:1,y:0},relativePositions:e}}),[t,r]),s=a.initialCenter,u=a.positions,d=a.normal,f=a.relativePositions;return(0,Ce.jsx)(ye.z.Component,{title:"Positions",children:(0,Ce.jsx)(Ie.U.Component,{initialCenter:s,positions:u,onUpdatePositions:function(){var e=f[0];t[0].x=e.x,t[0].y=e.y,n()},normal:d,relativePositions:f,useDegreesFlag:o,applyCenterToRelativePositionsFlag:!0})})},e.Component=function(e){var r=e.rnaComplexProps,o=e.indicesOfAffectedNucleotides,u=e.setNucleotideKeysToRerender,d=(0,c.useMemo)((function(){for(var e,u,c=new Array,d=new Array,f={},p=0,h=Object.entries(o);p<h.length;p++){var v=(0,s.Z)(h[p],2),m=v[0],x=v[1],g=Number.parseInt(m),y=r[g].rnaMoleculeProps;g in f||(f[g]={});for(var b=f[g],N=0,I=Object.entries(x);N<I.length;N++){var C=(0,s.Z)(I[N],2),E=C[0],S=C[1],P=y[E].nucleotideProps;E in b||(b[E]=[]);var w,A=b[E],k=(0,l.Z)(S.values());try{for(k.s();!(w=k.n()).done;){var _=w.value,M=P[_],O=M.labelContentProps,Z=M.labelLineProps,L=!1;void 0!==O&&(c.push(M),L=!0),void 0!==Z&&(d.push(M),L=!0),L&&A.push(_)}}catch(te){k.e(te)}finally{k.f()}A.sort(ce.cV)}}var D=void 0;if(c.length>0){var F;D=null!==(F=c[0].labelContentProps.font)&&void 0!==F?F:j.ZP.DEFAULT;for(var B=1;B<c.length;B++){var z=c[B].labelContentProps.font;if(!j.ZP.areEqual(D,null!==z&&void 0!==z?z:j.ZP.DEFAULT)){D=void 0;break}}}var W=void 0;if(c.length>0){var U;W=null!==(U=c[0].labelContentProps.color)&&void 0!==U?U:R.E5;for(var G=1;G<c.length;G++){var H=c[G].labelContentProps.color;if(!(0,R.wy)(W,null!==H&&void 0!==H?H:R.E5)){W=void 0;break}}if(void 0!==W)for(var K=1;K<d.length;K++){var V=d[K].labelLineProps.color;if(!(0,R.wy)(W,null!==V&&void 0!==V?V:R.E5)){W=void 0;break}}}else{var q;W=null!==(q=d[0].labelLineProps.color)&&void 0!==q?q:R.E5;for(var X=1;X<d.length;X++){var $=d[X].labelLineProps.color;if(!(0,R.wy)(W,null!==$&&void 0!==$?$:R.E5)){W=void 0;break}}}var Q,Y=c.length,J=d.length;switch(Math.max(Y,J)){case 0:Q=(0,Ce.jsx)(Ce.Fragment,{});break;case 1:Q=(0,Ce.jsx)(n.Component,{rerender:T,singularNucleotideWithLabelContentProps:c[0],singularNucleotideWithLabelLineProps:d[0]});break;default:var ee=c.map((function(e){return e.labelContentProps})),ne=d.map((function(e){return e.labelLineProps.points}));Q=(0,Ce.jsx)(t.Component,{rerender:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){for(var e=0;e<c.length;e++){var n=c[e],t=ee[e];n.labelContentProps=(0,a.Z)((0,a.Z)({},n.labelContentProps),{},{x:t.x,y:t.y})}for(var r=0;r<d.length;r++){var o=d[r];ne[r];o.labelLineProps=(0,a.Z)((0,a.Z)({},o.labelLineProps),{},{points:(0,i.Z)(ne[r])})}T()})),labelContentProps:c.map((function(e){return e.labelContentProps})),labelLineProps:d.map((function(e){return e.labelLineProps}))})}return{nucleotidePropsWithLabelContentProps:c,nucleotidePropsWithLabelLineProps:d,nucleotideKeysToRerender:f,initialColor:null!==(e=W)&&void 0!==e?e:structuredClone(R.E5),initialFont:null!==(u=D)&&void 0!==u?u:structuredClone(j.ZP.DEFAULT),positionsEditor:Q}}),[o]),f=d.nucleotidePropsWithLabelContentProps,p=d.nucleotidePropsWithLabelLineProps,h=d.nucleotideKeysToRerender,v=d.initialColor,m=d.initialFont,x=d.positionsEditor,g=(0,c.useState)(!0),y=(0,s.Z)(g,2),b=y[0],N=y[1],I=(0,c.useState)(!0),C=(0,s.Z)(I,2),E=C[0],S=C[1],P=(0,c.useState)(m),w=(0,s.Z)(P,2),A=w[0],k=w[1];function T(){u(structuredClone(h))}return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("b",{children:"Edit label(s) per constraint:"}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)(xe.S.Component,{color:v,setColorHelper:function(e){if(b){var n,t=(0,l.Z)(f);try{for(t.s();!(n=t.n()).done;){var r=n.value;r.labelContentProps=(0,a.Z)((0,a.Z)({},r.labelContentProps),{},{color:e})}}catch(u){t.e(u)}finally{t.f()}}if(E){var o,i=(0,l.Z)(p);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.labelLineProps=(0,a.Z)((0,a.Z)({},s.labelLineProps),{},{color:e})}}catch(u){i.e(u)}finally{i.f()}}T()},children:[(0,Ce.jsx)("b",{children:"Recolor:"}),(0,Ce.jsxs)("ul",{style:{margin:0},children:[(0,Ce.jsx)("li",{children:(0,Ce.jsxs)("label",{children:["Text\xa0",(0,Ce.jsx)("input",{type:"checkbox",checked:b,onChange:function(){N(!b)}})]})}),(0,Ce.jsx)("li",{children:(0,Ce.jsxs)("label",{children:["Lines\xa0",(0,Ce.jsx)("input",{type:"checkbox",checked:E,onChange:function(){S(!E)}})]})})]})]}),(0,Ce.jsx)(ge.f.Component,(0,a.Z)((0,a.Z)({},A),{},{setFont:function(e){var n,t=(0,l.Z)(f);try{for(t.s();!(n=t.n()).done;){var r=n.value;r.labelContentProps=(0,a.Z)((0,a.Z)({},r.labelContentProps),{},{font:e})}}catch(o){t.e(o)}finally{t.f()}k(structuredClone(e)),T()}})),x]})}}(ve||(ve={}));t(3508);var Se=t(7587),Pe=t(700),we=(0,Pe.Z)("pencil-ruler",[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Ae=function(e){var n=e.width,t=void 0===n?Vn:n,r=e.children,o=(0,Se.Fg)().theme;return(0,Ce.jsxs)("div",{style:{width:"number"===typeof t?"".concat(t,"px"):t,height:"100%",display:"flex",flexDirection:"column",background:o.colors.background,borderRight:"2px solid ".concat(o.colors.border),boxShadow:o.shadows.xl,position:"relative",overflow:"hidden",transition:o.transitions.default,zIndex:1e3},children:[(0,Ce.jsx)("div",{style:{height:"4px",background:"linear-gradient(90deg, ".concat(o.colors.primary,", ").concat(o.colors.accent,")"),position:"absolute",top:0,left:0,right:0,zIndex:10}}),(0,Ce.jsx)("div",{style:{padding:"7px 10px 7px 20px",borderBottom:"1px solid ".concat(o.colors.borderLight),background:o.colors.surface,flexShrink:0},children:(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ce.jsx)(we,{size:24}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h1",{style:{fontSize:o.typography.fontSize.xl,fontWeight:"700",color:o.colors.text,margin:"0 0 2px 0"},children:"Exornata"}),(0,Ce.jsx)("p",{style:{fontSize:o.typography.fontSize.md,fontWeight:"500",color:o.colors.textSecondary,margin:0},children:"Visualize, Edit, Share"})]})]})}),(0,Ce.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"6px",overflow:"auto",background:o.colors.backgroundSecondary},children:r}),(0,Ce.jsx)("div",{style:{height:"4px",background:"linear-gradient(90deg, ".concat(o.colors.borderLight,", ").concat(o.colors.border,")"),position:"absolute",bottom:0,left:0,right:0,zIndex:10}})]})},ke=function(e){var n=e.title,t=e.children,r=e.borderRadius,o=void 0===r?12:r,a=(0,Se.Fg)().theme;return(0,Ce.jsxs)("div",{style:{background:a.colors.surface,border:"1px solid ".concat(a.colors.border),borderRadius:o,margin:"0 0 10px 0",boxShadow:a.shadows.sm,transition:a.transitions.default,overflow:"hidden"},children:[(0,Ce.jsx)("div",{style:{padding:"8px 16px",background:a.colors.surfaceHover,fontSize:a.typography.fontSize.sm,fontWeight:"700",letterSpacing:"0.5px",color:a.colors.text,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(a.colors.border),textTransform:"uppercase"},children:(0,Ce.jsx)("span",{style:{fontSize:a.typography.fontSize.xs,fontWeight:"700",color:a.colors.textSecondary},children:n})}),(0,Ce.jsx)("div",{style:{padding:"16px",minHeight:"48px",background:a.colors.surface},children:t})]})},Te=t(1959),_e={Primitives:[de.Uq.Enum.SINGLE_NUCLEOTIDE,de.Uq.Enum.SINGLE_BASE_PAIR],Fragments:[de.Uq.Enum.RNA_SINGLE_STRAND,de.Uq.Enum.RNA_HELIX,de.Uq.Enum.RNA_STACKED_HELIX,de.Uq.Enum.RNA_CYCLE],Units:[de.Uq.Enum.RNA_SUB_DOMAIN,de.Uq.Enum.RNA_MOLECULE,de.Uq.Enum.RNA_COMPLEX],Scope:[de.Uq.Enum.SINGLE_COLOR,de.Uq.Enum.ENTIRE_SCENE]},Me=function(e){var n=e.constraint,t=e.isActive,r=e.onClick,o=e.disabled,a=void 0!==o&&o,i=(0,Se.Fg)().theme,l=c.useState(!1),d=(0,s.Z)(l,2);d[0],d[1];return(0,Ce.jsx)(Te.z,{label:function(e){var n;return(n={},(0,u.Z)(n,de.Uq.Enum.SINGLE_NUCLEOTIDE,"Nucleotide"),(0,u.Z)(n,de.Uq.Enum.SINGLE_BASE_PAIR,"Base Pair"),(0,u.Z)(n,de.Uq.Enum.RNA_SINGLE_STRAND,"Strand"),(0,u.Z)(n,de.Uq.Enum.RNA_HELIX,"Helix"),(0,u.Z)(n,de.Uq.Enum.RNA_STACKED_HELIX,"Stacked"),(0,u.Z)(n,de.Uq.Enum.RNA_SUB_DOMAIN,"Domain"),(0,u.Z)(n,de.Uq.Enum.RNA_CYCLE,"Cycle"),(0,u.Z)(n,de.Uq.Enum.RNA_MOLECULE,"Molecule"),(0,u.Z)(n,de.Uq.Enum.RNA_COMPLEX,"Complex"),(0,u.Z)(n,de.Uq.Enum.SINGLE_COLOR,"Color"),(0,u.Z)(n,de.Uq.Enum.ENTIRE_SCENE,"Scene"),n)[e]||e}(n),onClick:r,disabled:a,variant:t?"primary":"secondary",icon:function(e){var n,t=i.colors.primary;return(n={},(0,u.Z)(n,de.Uq.Enum.SINGLE_NUCLEOTIDE,(0,Ce.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("circle",{cx:"12",cy:"12",r:"9",fill:t,stroke:"none",strokeWidth:"1"}),(0,Ce.jsx)("text",{x:"12",y:"12",fontFamily:"Arial, sans-serif",fontSize:"12",fontWeight:"bold",fill:i.colors.textInverse,textAnchor:"middle",dominantBaseline:"central",children:"N"})]})),(0,u.Z)(n,de.Uq.Enum.SINGLE_BASE_PAIR,(0,Ce.jsxs)("svg",{width:"48",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("circle",{cx:"0",cy:"12",r:"9",fill:t,stroke:"none",strokeWidth:"1"}),(0,Ce.jsx)("text",{x:"0",y:"13",fontFamily:"Arial, sans-serif",fontSize:"12",fontWeight:"bold",fill:i.colors.textInverse,textAnchor:"middle",dominantBaseline:"middle",children:"C"}),(0,Ce.jsx)("line",{x1:"9.5",y1:"12",x2:"20",y2:"12",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("circle",{cx:"25",cy:"12",r:"9",fill:t,stroke:"none",strokeWidth:"1"}),(0,Ce.jsx)("text",{x:"25",y:"13",fontFamily:"Arial, sans-serif",fontSize:"12",fontWeight:"bold",fill:i.colors.textInverse,textAnchor:"middle",dominantBaseline:"middle",children:"G"})]})),(0,u.Z)(n,de.Uq.Enum.RNA_SINGLE_STRAND,(0,Ce.jsxs)("svg",{width:"28",height:"24",viewBox:"0 0 64 48",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("circle",{cx:"10",cy:"28",r:"9",fill:t,stroke:i.colors.borderDark,strokeWidth:"1"}),(0,Ce.jsx)("path",{d:"M 18 26 Q 26 18 32 20",stroke:i.colors.borderDark,strokeWidth:"1.5",fill:"none"}),(0,Ce.jsx)("circle",{cx:"32",cy:"20",r:"9",fill:t,stroke:i.colors.borderDark,strokeWidth:"1"}),(0,Ce.jsx)("path",{d:"M 40 22 Q 46 26 54 28",stroke:i.colors.borderDark,strokeWidth:"1.5",fill:"none"}),(0,Ce.jsx)("circle",{cx:"54",cy:"28",r:"9",fill:t,stroke:i.colors.borderDark,strokeWidth:"1"})]})),(0,u.Z)(n,de.Uq.Enum.RNA_HELIX,(0,Ce.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("path",{d:"M 6 4 Q 4 8 6 12 Q 8 16 6 20",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 18 4 Q 20 8 18 12 Q 16 16 18 20",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"6",y1:"7",x2:"18",y2:"7",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("line",{x1:"6",y1:"17",x2:"18",y2:"17",stroke:i.colors.borderDark,strokeWidth:"1.5"})]})),(0,u.Z)(n,de.Uq.Enum.RNA_STACKED_HELIX,(0,Ce.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("path",{d:"M 6 3 Q 4 5 6 7",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 18 3 Q 20 5 18 7",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"6",y1:"5",x2:"18",y2:"5",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("path",{d:"M 6 10 Q 4 12 6 14",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 18 10 Q 20 12 18 14",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("path",{d:"M 6 17 Q 4 19 6 21",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 18 17 Q 20 19 18 21",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"6",y1:"19",x2:"18",y2:"19",stroke:i.colors.borderDark,strokeWidth:"1.5"})]})),(0,u.Z)(n,de.Uq.Enum.RNA_SUB_DOMAIN,(0,Ce.jsxs)("svg",{width:"32",height:"24",viewBox:"0 0 28 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("path",{d:"M 12 22 L 12 8",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 16 22 L 16 8",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"12",y1:"20",x2:"16",y2:"20",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("line",{x1:"12",y1:"17",x2:"16",y2:"17",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("line",{x1:"12",y1:"14",x2:"16",y2:"14",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("line",{x1:"12",y1:"11",x2:"16",y2:"11",stroke:i.colors.borderDark,strokeWidth:"1.5"}),(0,Ce.jsx)("path",{d:"M 12 8 A 2 2 0 0 1 16 8",stroke:t,strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 12 15 L 6 15 L 6 12",stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 12 13 L 8 13 L 8 12",stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"6",y1:"14",x2:"8",y2:"14",stroke:i.colors.borderDark,strokeWidth:"1"}),(0,Ce.jsx)("line",{x1:"6",y1:"13",x2:"8",y2:"13",stroke:i.colors.borderDark,strokeWidth:"1"}),(0,Ce.jsx)("path",{d:"M 6 12 A 1 1 0 0 0 8 12",stroke:t,strokeWidth:"2",fill:"none"}),(0,Ce.jsx)("path",{d:"M 16 15 L 22 15 L 22 12",stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("path",{d:"M 16 13 L 20 13 L 20 12",stroke:t,strokeWidth:"2",fill:"none",strokeLinecap:"round"}),(0,Ce.jsx)("line",{x1:"20",y1:"14",x2:"22",y2:"14",stroke:i.colors.borderDark,strokeWidth:"1"}),(0,Ce.jsx)("line",{x1:"20",y1:"13",x2:"22",y2:"13",stroke:i.colors.borderDark,strokeWidth:"1"}),(0,Ce.jsx)("path",{d:"M 20 12 A 1 1 0 0 1 22 12",stroke:t,strokeWidth:"2",fill:"none"})]})),(0,u.Z)(n,de.Uq.Enum.RNA_CYCLE,(0,Ce.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,Ce.jsx)("circle",{cx:"12",cy:"12",r:"6",stroke:t,strokeWidth:"2",fill:"none"}),(0,Ce.jsx)("circle",{cx:"12",cy:"12",r:"7",stroke:i.colors.borderDark,strokeWidth:"0.5",fill:"none"}),(0,Ce.jsx)("circle",{cx:"12",cy:"12",r:"5",stroke:i.colors.borderDark,strokeWidth:"0.5",fill:"none"})]})),(0,u.Z)(n,de.Uq.Enum.SINGLE_COLOR,(0,Ce.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ce.jsxs)("g",{transform:"translate(12 12) scale(1.3) translate(-12 -12)",children:[(0,Ce.jsx)("path",{d:"M 12 4 Q 6 4 4 8 Q 2 12 4 16 Q 6 20 12 20 Q 14 20 16 19 L 18 16 Q 20 14 18 12 Q 16 10 14 11 Q 12 12 12 10 Q 12 6 12 4 Z",fill:t,stroke:"none",strokeWidth:"1.5"}),(0,Ce.jsx)("circle",{cx:"8",cy:"9.5",r:"2",fill:i.colorPalleteCircleFills[0],stroke:"none",strokeWidth:"0.8"}),(0,Ce.jsx)("circle",{cx:"10",cy:"14",r:"2",fill:i.colorPalleteCircleFills[1],stroke:"none",strokeWidth:"0.8"}),(0,Ce.jsx)("circle",{cx:"14.5",cy:"15",r:"2",fill:i.colorPalleteCircleFills[2],stroke:"none",strokeWidth:"0.8"})]})})),(0,u.Z)(n,de.Uq.Enum.RNA_MOLECULE,(0,Ce.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ce.jsx)("path",{d:"M 4 20 \r Q 3 16 5 12 \r Q 7 8 12 6 \r Q 17 8 19 12 \r Q 21 16 20 20 \r Q 18 18 16 16 \r Q 14 14 12 14 \r Q 10 14 8 16 \r Q 6 18 4 20 Z",stroke:"none",fill:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),(0,u.Z)(n,de.Uq.Enum.RNA_COMPLEX,(0,Ce.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ce.jsxs)("g",{transform:"translate(0, 2.5) scale(0.8)",children:[(0,Ce.jsx)("path",{d:"M 4 12 \r Q 3 8 5 4 \r Q 7 0 12 -2 \r Q 17 0 19 4 \r Q 21 8 20 12 \r Q 18 10 16 8 \r Q 14 6 12 6 \r Q 10 6 8 8 \r Q 6 10 4 12 Z",stroke:"none",fill:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ce.jsx)("path",{d:"M 4 12\r Q 6 10 8 8\r Q 10 6 12 6\r Q 14 6 16 8\r Q 18 10 20 12\r Q 21 16 19 20\r Q 17 24 12 26\r Q 7 24 5 20\r Q 3 16 4 12 Z",stroke:"none",fill:i.colors.accent,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})),(0,u.Z)(n,de.Uq.Enum.ENTIRE_SCENE,(0,Ce.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsx)("rect",{x:"1",y:"1",width:"22",height:"22",stroke:i.colors.text,strokeWidth:"1",fill:"none",rx:"1"}),(0,Ce.jsx)("path",{transform:"scale(0.5)",d:"M 4 20 \r Q 3 16 5 12 \r Q 7 8 12 6 \r Q 17 8 19 12 \r Q 21 16 20 20 \r Q 18 18 16 16 \r Q 14 14 12 14 \r Q 10 14 8 16 \r Q 6 18 4 20 Z",stroke:"none",fill:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ce.jsxs)("g",{transform:"translate(16, 7) scale(0.5) translate(0, 3.5) rotate(45)",children:[(0,Ce.jsx)("path",{d:"M 4 12 \r Q 3 8 5 4 \r Q 7 0 12 -2 \r Q 17 0 19 4 \r Q 21 8 20 12 \r Q 18 10 16 8 \r Q 14 6 12 6 \r Q 10 6 8 8 \r Q 6 10 4 12 Z",stroke:"none",fill:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ce.jsx)("path",{d:"M 4 12\r Q 6 10 8 8\r Q 10 6 12 6\r Q 14 6 16 8\r Q 18 10 20 12\r Q 21 16 19 20\r Q 17 24 12 26\r Q 7 24 5 20\r Q 3 16 4 12 Z",stroke:"none",fill:i.colors.accent,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]})),n)[e]||(0,Ce.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,Ce.jsx)("circle",{cx:"6",cy:"6",r:"2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})})}(n)})},Re=function(e){var n,t=e.constraint,r=e.onConstraintChange,o=(0,Se.Fg)().theme,a=c.useState("Units"),i=(0,s.Z)(a,2),l=i[0],u=i[1];return(0,Ce.jsx)(ke,{title:"Constraints modes",borderRadius:8,children:(0,Ce.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("div",{style:{display:"flex",gap:"4px",marginBottom:"4px",borderBottom:"1px solid ".concat(o.colors.border)},children:Object.keys(_e).map((function(e){return(0,Ce.jsx)("button",{onClick:function(){return u(e)},style:{height:o.buttonSizes.md.height,padding:o.buttonSizes.md.padding,border:"none",background:l===e?o.colors.primary:"transparent",color:l===e?o.colors.textInverse:o.colors.text,borderRadius:"".concat(o.borderRadius.md," ").concat(o.borderRadius.md," 0 0"),fontSize:o.buttonSizes.sm.fontSize,fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:"1px"},children:e},e)}))}),(0,Ce.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",minHeight:"30px",alignItems:"flex-start",alignContent:"flex-start"},children:null===(n=_e[l])||void 0===n?void 0:n.map((function(e){return(0,Ce.jsx)(Me,{constraint:e,isActive:t===e,onClick:function(){return null===r||void 0===r?void 0:r(e)},disabled:!r},e)}))})]})})})},je=(0,Pe.Z)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),Oe=(0,Pe.Z)("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]),Ze=(0,Pe.Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Le=(0,Pe.Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),De=function(e){var n=e.onUndo,t=e.onRedo,r=(e.onResetViewport,e.undoStack,e.redoStack,e.onJumpToHistory,e.onResetToLastCheckpoint),o=(e.mode,e.constraint,e.onFreezeSelected,e.onUnfreezeSelected,e.onUnfreezeAll),a=e.hasFrozenNucleotides,i=void 0!==a&&a,l=(e.hasSelectedNucleotides,(0,Se.Fg)().theme);return(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,Ce.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,Ce.jsx)(Te.z,{onClick:n,disabled:!n,icon:(0,Ce.jsx)(je,{size:14}),label:"Undo",hint:"Undo last action",variant:"secondary"}),(0,Ce.jsx)(Te.z,{onClick:t,disabled:!t,icon:(0,Ce.jsx)(Oe,{size:14}),label:"Redo",hint:"Redo last action",variant:"secondary"}),(0,Ce.jsx)(Te.z,{onClick:r,disabled:!r,icon:(0,Ce.jsx)(Ze,{size:14}),label:"Restore",hint:"Restore to last checkpoint",variant:"danger"}),(0,Ce.jsx)(Te.z,{onClick:o,disabled:!o||!i,icon:(0,Ce.jsx)(Le,{size:14}),label:"Unlock",hint:"Unlock all nucleotides (allows movement)",variant:"danger"})]}),(0,Ce.jsxs)("div",{style:{fontSize:"12px",color:l.colors.textSecondary,marginTop:"8px",lineHeight:"1.4"},children:[(0,Ce.jsx)("strong",{children:"Tip:"})," Use Middle-click to toggle (lock/unlock) nucleotides in place while moving others."]})]})},Fe=(0,Pe.Z)("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]),Be=(0,Pe.Z)("cable",[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]]),ze=(0,Pe.Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),We=(0,Pe.Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ue=function(e){var n=e.tab,t=e.isActive,r=e.onClick,o=e.disabled,a=void 0!==o&&o,i=(0,Se.Fg)().theme,l=c.useState(!1),u=(0,s.Z)(l,2),f=u[0],p=u[1];return(0,Ce.jsxs)("button",{onClick:r,disabled:a,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"6px",height:i.buttonSizes.sm.height,padding:i.buttonSizes.sm.padding,border:"none",borderRadius:i.buttonSizes.sm.borderRadius,fontSize:i.buttonSizes.sm.fontSize,fontWeight:"600",cursor:a?"not-allowed":"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",opacity:a?.4:1,flex:1,background:a?i.colors.surfaceHover:t?i.colors.primary:f?i.colors.surfaceHover:"transparent",color:a?i.colors.textMuted:t?i.colors.textInverse:f?i.colors.primary:i.colors.textSecondary,boxShadow:t?i.shadows.md:"none",transform:t?"scale(1.02)":"scale(1)"},children:[function(e){switch(e){case d.OK.EDIT:return(0,Ce.jsx)(Fe,{size:12});case d.OK.FORMAT:return(0,Ce.jsx)(Be,{size:12});case d.OK.ANNOTATE:return(0,Ce.jsx)(ze,{size:12});default:return(0,Ce.jsx)(We,{size:12})}}(n),(0,Ce.jsx)("span",{style:{fontSize:i.typography.fontSize.sm,fontWeight:"600",textAlign:"center"},children:function(e){switch(e){case d.OK.EDIT:return"Edit";case d.OK.FORMAT:return"Format";case d.OK.ANNOTATE:return"Annotate";default:return e}}(n)})]})},Ge=function(e){var n=e.mode,t=e.onModeChange,r=e.onUndo,o=e.onRedo,a=e.onResetViewport,i=e.undoStack,l=e.redoStack,s=e.onJumpToHistory,u=e.onResetToLastCheckpoint,c=e.constraint,f=e.onFormatModeClick,p=e.onFreezeSelected,h=e.onUnfreezeSelected,v=e.onUnfreezeAll,m=e.hasFrozenNucleotides,x=e.hasSelectedNucleotides,g=(0,Se.Fg)().theme;return(0,Ce.jsx)(ke,{title:"drawing tools",borderRadius:8,children:(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,Ce.jsx)("div",{children:(0,Ce.jsx)("div",{style:{display:"flex",gap:"6px",background:g.colors.surfaceHover,padding:"4px",borderRadius:g.borderRadius.lg},children:d.eA.filter((function(e){return[d.OK.EDIT,d.OK.FORMAT,d.OK.ANNOTATE].includes(e)})).map((function(e){return(0,Ce.jsx)(Ue,{tab:e,isActive:n===e,onClick:function(){e===d.OK.FORMAT&&f?f():t&&t(e)}},e)}))})}),(0,Ce.jsx)(De,{onUndo:r,onRedo:o,onResetViewport:a,undoStack:i,redoStack:l,onJumpToHistory:s,onResetToLastCheckpoint:u,mode:n,constraint:c,onFreezeSelected:p,onUnfreezeSelected:h,onUnfreezeAll:v,hasFrozenNucleotides:m,hasSelectedNucleotides:x})]})})},He=(0,Pe.Z)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ke=(0,Pe.Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ve=(0,Pe.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qe=(0,Pe.Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Xe=function(e){e.onToggleBasePairEditor,e.onTogglePropertiesDrawer;var n=e.onToggleSettingsDrawer,t=e.onToggleAboutDrawer,r=e.onOpenDocs,o=e.onLoadExample;return(0,Ce.jsx)(ke,{title:"Utilities",borderRadius:8,children:(0,Ce.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:(o||t||n||r)&&(0,Ce.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"8px 12px"},children:[o&&(0,Ce.jsx)(Te.z,{onClick:o,icon:(0,Ce.jsx)(He,{size:12}),label:"Load Example",hint:"Load sample structure",variant:"secondary"}),t&&(0,Ce.jsx)(Te.z,{onClick:t,icon:(0,Ce.jsx)(Ke,{size:12}),label:"About",hint:"About the app",variant:"secondary"}),n&&(0,Ce.jsx)(Te.z,{onClick:n,icon:(0,Ce.jsx)(Ve,{size:12}),label:"Settings",hint:"Edit settings",variant:"secondary"}),r&&(0,Ce.jsx)(Te.z,{onClick:r,icon:(0,Ce.jsx)(qe,{size:12}),label:"User Guide",hint:"Open documentation",variant:"primary"})]})})})},$e=function(e){var n=e.constraint,t=e.onConstraintChange,r=e.mode,o=e.onModeChange,a=e.onUndo,i=e.onRedo,l=e.onResetViewport,s=e.onToggleBasePairEditor,u=e.onTogglePropertiesDrawer,c=e.onToggleSettingsDrawer,f=e.onToggleAboutDrawer,p=e.onOpenDocs,h=e.onLoadExample,v=e.undoStack,m=e.redoStack,x=e.onJumpToHistory,g=e.onResetToLastCheckpoint,y=e.onFormatModeClick,b=e.onFreezeSelected,N=e.onUnfreezeSelected,I=e.onUnfreezeAll,C=e.hasFrozenNucleotides,E=e.hasSelectedNucleotides;return(0,Ce.jsxs)(Ae,{children:[(0,Ce.jsx)(Re,{constraint:n,onConstraintChange:t}),(0,Ce.jsx)(Ge,{mode:r||d.OK.EDIT,onModeChange:o,onUndo:a,onRedo:i,onResetViewport:l,undoStack:v,redoStack:m,onJumpToHistory:x,onResetToLastCheckpoint:g,constraint:n,onFormatModeClick:y,onFreezeSelected:b,onUnfreezeSelected:N,onUnfreezeAll:I,hasFrozenNucleotides:C,hasSelectedNucleotides:E}),(0,Ce.jsx)(Xe,{onToggleBasePairEditor:s,onTogglePropertiesDrawer:u,onToggleSettingsDrawer:c,onToggleAboutDrawer:f,onOpenDocs:p,onLoadExample:h})]})},Qe=t(6088),Ye=(0,Pe.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Je=(0,Pe.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),en=function(e){var n=e.open,r=e.onClose,o=e.settings,i=e.setSettings,l=e.getDistanceDefaults,s=(0,Se.Fg)(),d=s.theme,f=(s.isDarkMode,(0,c.useRef)(null)),p=(0,c.useRef)(null);return(0,Ce.jsxs)("div",{style:{position:"fixed",top:0,right:0,height:"100%",width:"600px",background:d.colors.background,boxShadow:d.shadows.xl,transform:n?"translateX(0)":"translateX(100%)",transition:d.transitions.default,zIndex:2e3,display:"flex",flexDirection:"column",borderLeft:"2px solid ".concat(d.colors.border)},children:[(0,Ce.jsxs)("div",{style:{padding:"24px 28px 20px 28px",borderBottom:"1px solid ".concat(d.colors.borderLight),display:"flex",alignItems:"center",justifyContent:"space-between",background:d.colors.surface,flexShrink:0,position:"relative"},children:[(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,Ce.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, ".concat(d.colors.primary,"20, ").concat(d.colors.accent,"20)"),borderRadius:d.borderRadius.xl,display:"flex",alignItems:"center",justifyContent:"center",color:d.colors.primary,border:"1px solid ".concat(d.colors.primary,"30")},children:(0,Ce.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[(0,Ce.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73v.18a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ce.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h2",{style:{fontSize:d.typography.fontSize.xxl,fontWeight:"700",color:d.colors.text,margin:"0 0 4px 0",letterSpacing:"-0.02em"},children:"Settings"}),(0,Ce.jsx)("p",{style:{fontSize:d.typography.fontSize.md,color:d.colors.textWeak||d.colors.textSecondary,margin:0,lineHeight:"1.4"},children:"Configure your application preferences and behavior"})]})]}),(0,Ce.jsx)("button",{onClick:r,style:{border:"1px solid ".concat(d.colors.border),background:d.colors.surface,cursor:"pointer",fontSize:d.typography.fontSize.md,color:d.colors.textSecondary,padding:"10px",borderRadius:d.borderRadius.lg,width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:d.transitions.default,boxShadow:d.shadows.sm},onMouseEnter:function(e){e.currentTarget.style.background=d.colors.surfaceHover,e.currentTarget.style.borderColor=d.colors.borderDark,e.currentTarget.style.color=d.colors.text,e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:function(e){e.currentTarget.style.background=d.colors.surface,e.currentTarget.style.borderColor=d.colors.border,e.currentTarget.style.color=d.colors.textSecondary,e.currentTarget.style.transform="scale(1)"},children:(0,Ce.jsx)(Qe.Z,{size:18})})]}),(0,Ce.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"28px 28px 48px 28px",background:d.colors.backgroundSecondary},children:[(0,Ce.jsx)(ke,{title:"Import/Export",borderRadius:12,children:(0,Ce.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[(0,Ce.jsxs)("button",{onClick:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.click()},style:(0,a.Z)((0,a.Z)({},nn(d)),{},{display:"flex",alignItems:"center",gap:"10px",padding:"12px 18px",fontSize:"14px",fontWeight:"600"}),children:[(0,Ce.jsx)(Ye,{size:16}),"Upload JSON"]}),(0,Ce.jsxs)("button",{onClick:function(){var e=p.current,n={};if(l)try{n=l()||{}}catch(c){}for(var t=(0,a.Z)({},n),r=0,i=Object.keys(o);r<i.length;r++){var s=i[r],u=o[s];t[s]="number"===typeof u&&Number.isNaN(u)?1:u}e.href="data:text/plain;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t))),e.click()},style:(0,a.Z)((0,a.Z)({},tn(d)),{},{display:"flex",alignItems:"center",gap:"10px",padding:"12px 18px",fontSize:"14px",fontWeight:"600"}),children:[(0,Ce.jsx)(Je,{size:16}),"Download JSON"]}),(0,Ce.jsx)("input",{ref:f,type:"file",accept:".json",style:{display:"none"},onChange:function(e){var n=e.target.files;if(n&&0!==n.length){var t=new FileReader;t.addEventListener("load",(function(e){try{for(var n=JSON.parse(e.target.result),t=Object.keys(n),r=0,l=t;r<l.length;r++){var s=l[r],u=n[s];if(!(0,se.OP)(s)||typeof u!==se.kR[s]&&"BasePairsEditorType"!==se.kR[s])throw new Error("Unrecognized settings schema")}for(var c={},d=0,f=t;d<f.length;d++){var p=f[d];c[p]=n[p]}i((0,a.Z)((0,a.Z)({},o),c))}catch(h){}})),t.readAsText(n[0])}}}),(0,Ce.jsx)("a",{ref:p,style:{display:"none"},download:"xrna_settings.json"})]})}),(0,Ce.jsx)("div",{style:{height:"24px"}}),(0,Ce.jsx)(ke,{title:"Preferences",borderRadius:12,children:(0,Ce.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",rowGap:"20px",columnGap:"24px",alignItems:"center"},children:se.Xd.filter((function(e){return!e.startsWith("grid_")})).map((function(e,n){var r=(0,Ce.jsx)(Ce.Fragment,{});switch(se.kR[e]){case"boolean":r=(0,Ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Ce.jsx)("input",{type:"checkbox",checked:o[e],onChange:function(){return i((0,a.Z)((0,a.Z)({},o),{},(0,u.Z)({},e,!o[e])))},style:{width:"20px",height:"20px",accentColor:d.colors.primary,cursor:"pointer"}})});break;case"number":r=(0,Ce.jsx)("div",{style:{minWidth:"140px"},children:(0,Ce.jsx)(be.Z.Number,{value:o[e],setValue:function(n){return i((0,a.Z)((0,a.Z)({},o),{},(0,u.Z)({},e,n)))}})});break;case"BasePairsEditorType":var l=t(8161).BasePairsEditor;r=(0,Ce.jsx)("div",{style:{minWidth:"160px"},children:(0,Ce.jsx)(l.EditorTypeSelector.Component,{editorType:o[e],onChange:function(n){return i((0,a.Z)((0,a.Z)({},o),{},(0,u.Z)({},e,n)))}})});break;case"string":r=(0,Ce.jsx)("div",{style:{minWidth:"140px"},children:(0,Ce.jsx)("input",{type:"text",value:o[e],onChange:function(n){return i((0,a.Z)((0,a.Z)({},o),{},(0,u.Z)({},e,n.target.value)))},placeholder:"Enter value...",style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid ".concat(d.colors.border),background:d.colors.surface,color:d.colors.text,fontSize:"14px"}})});break;default:r=(0,Ce.jsx)(Ce.Fragment,{})}return(0,Ce.jsxs)(c.Fragment,{children:[(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Ce.jsx)("label",{title:se.GO[e],style:{color:d.colors.textStrong||d.colors.text,fontSize:"15px",fontWeight:"600",lineHeight:"1.4",cursor:"pointer"},children:se.zT[e]}),(0,Ce.jsx)("div",{style:{fontSize:"13px",color:d.colors.textWeak||d.colors.textSecondary,lineHeight:"1.4",maxWidth:"400px"},children:se.GO[e]})]}),(0,Ce.jsx)("div",{children:r})]},n)}))})})]})]})};function nn(e){return{padding:"10px 16px",borderRadius:"10px",border:"1px solid ".concat(e.colors.border),background:e.colors.surface,color:e.colors.textStrong||e.colors.text,cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:e.transitions.default,display:"flex",alignItems:"center",gap:"6px",boxShadow:e.shadows.sm}}function tn(e){return(0,a.Z)((0,a.Z)({},nn(e)),{},{background:e.colors.primary,color:e.colors.textInverse,border:"1px solid ".concat(e.colors.primary),fontWeight:"600",boxShadow:e.shadows.md})}var rn=function(e){var n=e.open,t=e.onClose,r=e.renderTabInstructions,o=(0,Se.Fg)().theme;return(0,Ce.jsxs)("div",{style:{position:"fixed",top:0,right:0,height:"100%",width:"720px",background:o.colors.backgroundSecondary,transform:n?"translateX(0)":"translateX(100%)",transition:o.transitions.default,zIndex:2e3,display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(o.colors.border)},children:[(0,Ce.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid ".concat(o.colors.border),display:"flex",alignItems:"center",justifyContent:"space-between",background:o.colors.surfaceHover,flexShrink:0,position:"relative"},children:[(0,Ce.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,Ce.jsx)("span",{style:{fontSize:o.typography.fontSize.sm,fontWeight:700,letterSpacing:"0.5px",textTransform:"uppercase",color:o.colors.text},children:"About XRNA"})}),(0,Ce.jsx)("button",{onClick:t,style:{border:"1px solid ".concat(o.colors.border),background:o.colors.surface,cursor:"pointer",fontSize:o.typography.fontSize.md,color:o.colors.text,padding:"6px 8px",borderRadius:o.borderRadius.md,width:"28px",height:"28px"},children:(0,Ce.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,Ce.jsx)("path",{d:"M9 3L3 9M3 3l6 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,Ce.jsxs)("div",{style:{flex:1,overflow:"auto",padding:16},children:[(0,Ce.jsx)(ke,{title:"Getting Started",borderRadius:8,children:(0,Ce.jsx)("div",{style:{fontSize:o.typography.fontSize.md,color:o.colors.text},children:r(d.OK.ABOUT)})}),(0,Ce.jsx)("div",{style:{height:12}}),(0,Ce.jsx)(ke,{title:"Tabs",borderRadius:8,children:(0,Ce.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:d.eA.map((function(e){return e!==d.OK.ABOUT?(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("div",{style:{fontWeight:700,fontSize:o.typography.fontSize.md,color:o.colors.text,marginBottom:6},children:e}),(0,Ce.jsx)("div",{style:{fontSize:o.typography.fontSize.md,color:o.colors.text},children:r(e)})]},e):null}))})})]})]})},on=(0,Pe.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),an=(0,Pe.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function ln(e){if(!e)return{};if(e===M.Ep.Type.CANONICAL||e===M.Ep.Type.WOBBLE||e===M.Ep.Type.MISMATCH)return{};var n=String(e).split("_");if(0===n.length)return{};var t=n[0];if("cis"!==t&&"trans"!==t)return{};var r=t,o=1;function a(){var e=n[o],t=n[o+1];return"watson"===e&&"crick"===t?(o+=2,"watson_crick"):"sugar"===e&&"edge"===t?(o+=2,"sugar_edge"):"hoogsteen"===e?(o+=1,"hoogsteen"):void 0}var i=a(),l=a();return i&&l?{orientation:r,edgeA:i,edgeB:l}:{orientation:r}}function sn(e,n,t){if(e&&n&&t)return"".concat(e,"_").concat(n,"_").concat(t)}function un(e){if(!e)return"auto";switch(e){case M.Ep.Type.CANONICAL:return"canonical";case M.Ep.Type.WOBBLE:return"wobble";case M.Ep.Type.MISMATCH:return"mismatch";default:return"custom"}}function cn(e){var n=e.title,t=e.onClick,r=e.kind,o=e.theme,a={width:28,height:28,borderRadius:6,border:"1px solid ".concat(o.colors.border),background:o.colors.background,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},i={edit:ze,delete:on,save:an,cancel:Qe.Z}[r];return(0,Ce.jsx)("button",{title:n,onClick:t,style:a,children:(0,Ce.jsx)(i,{size:16})})}var dn=c.memo(cn);var fn=function(e){var n,t,d,p,h,v,m,x,g,y,b=e.open,N=e.onClose,I=e.rnaComplexProps,C=e.selected,E=(e.formatMode,(0,Se.Fg)().theme),S=(0,c.useState)(360),P=(0,s.Z)(S,2),w=P[0],A=P[1],T=(0,c.useState)(!1),_=(0,s.Z)(T,2),R=_[0],j=_[1],O=(0,c.useState)("Global"),Z=(0,s.Z)(O,2),L=Z[0],D=(Z[1],(0,c.useState)("Individual")),F=(0,s.Z)(D,2),B=F[0],z=F[1],W=(0,c.useRef)(null),U=(0,c.useRef)(0),G=(0,c.useRef)(360),H=(0,c.useRef)(null),K=(0,c.useState)(!1),V=(0,s.Z)(K,2),q=V[0],X=V[1],$=(0,c.useState)(!1),Q=(0,s.Z)($,2),Y=Q[0],J=Q[1],ee=(0,c.useRef)(Y);ee.current=Y;var ne=(0,c.useState)(!0),te=(0,s.Z)(ne,2),re=te[0],oe=te[1],ae=(0,c.useState)(!0),ie=(0,s.Z)(ae,2),le=ie[0],ce=ie[1],fe=(0,c.useState)((function(){var e=re?Number.parseInt(Object.keys(I)[0]):void 0,n=void 0,t=void 0;if(void 0!==e&&I[e]){var r=Object.keys(I[e].rnaMoleculeProps);r.length>0&&(n=r[0],t=r[0])}return{typeBase:"auto",rnaComplexIndex:e,rnaMoleculeName0:n,rnaMoleculeName1:t,length:1}})),pe=(0,s.Z)(fe,2),he=pe[0],ve=pe[1],me=(0,c.useState)(null),xe=(0,s.Z)(me,2),ge=xe[0],ye=xe[1],be=(0,c.useState)({}),Ne=(0,s.Z)(be,2),Ie=Ne[0],Pe=Ne[1],we=(0,c.useState)(!1),Ae=(0,s.Z)(we,2),ke=Ae[0],Te=Ae[1],_e=(0,c.useRef)(I);_e.current=I;var Me=(0,c.useRef)(R);Me.current=R;var Re=(0,c.useContext)(ue._.BasePair.SetKeysToEdit),je=(0,c.useRef)(Re),Oe=(0,c.useContext)(ue._.App.PushToUndoStack),Ze=(0,c.useRef)(Oe);Ze.current=Oe;var Le=(0,c.useContext)(ue._.App.Settings),De=(0,c.useContext)(ue._.BasePair.AverageDistances),Fe=(0,c.useRef)(De);Fe.current=De;var Be=(0,c.useRef)(Le);Be.current=Le,(0,c.useEffect)((function(){function e(e){if(Me.current){var n=U.current-e.clientY,t=Math.min(Math.max(G.current+n,220),window.innerHeight-80);A(t)}}function n(){Me.current&&j(!1)}return window.addEventListener("mousemove",e),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n)}}),[]);var ze=(0,c.useCallback)((function(){for(var e=_e.current,n=[],t=0,r=Object.entries(e);t<r.length;t++)for(var o=(0,s.Z)(r[t],2),a=o[0],i=o[1],u=parseInt(a),c=i.name,d=0,f=Object.entries(i.basePairs);d<f.length;d++)for(var p=(0,s.Z)(f[d],2),h=p[0],v=p[1],m=i.rnaMoleculeProps[h],x=0,g=Object.entries(v);x<g.length;x++){var y,b=(0,s.Z)(g[x],2),N=b[0],I=b[1],C=parseInt(N),E=(0,l.Z)(I);try{for(E.s();!(y=E.n()).done;){var S=y.value,P={rnaMoleculeName:h,nucleotideIndex:C},w=[P,{rnaMoleculeName:S.rnaMoleculeName,nucleotideIndex:S.nucleotideIndex}].sort(k.IK),A=(0,s.Z)(w,1)[0];if(A.rnaMoleculeName===P.rnaMoleculeName&&A.nucleotideIndex===P.nucleotideIndex){var T=i.rnaMoleculeProps[S.rnaMoleculeName];n.push({rnaComplexIndex:u,rnaComplexName:c,rnaMoleculeName0:h,nucleotideIndex0:C,formattedNucleotideIndex0:C+m.firstNucleotideIndex,rnaMoleculeName1:S.rnaMoleculeName,nucleotideIndex1:S.nucleotideIndex,formattedNucleotideIndex1:S.nucleotideIndex+T.firstNucleotideIndex,type:S.basePairType})}}}catch(_){E.e(_)}finally{E.f()}}return n.sort((function(e,n){return e.rnaComplexIndex-n.rnaComplexIndex||e.rnaMoleculeName0.localeCompare(n.rnaMoleculeName0)||e.nucleotideIndex0-n.nucleotideIndex0||e.rnaMoleculeName1.localeCompare(n.rnaMoleculeName1)||e.nucleotideIndex1-n.nucleotideIndex1})),n}),[]),We=(0,c.useCallback)((function(e){if(!C||0===Object.keys(C).length)return[];var n=function(e,n,t){var r,o;return!(null===(r=C[e])||void 0===r||null===(o=r[n])||void 0===o||!o.has(t))};return e.filter((function(e){return n(e.rnaComplexIndex,e.rnaMoleculeName0,e.nucleotideIndex0)||n(e.rnaComplexIndex,e.rnaMoleculeName1,e.nucleotideIndex1)}))}),[]),Ue=(0,c.useCallback)((function(e){if(0===e.length)return[];for(var n=[],t=0;t<e.length;){var r=e[t],o=t+1,a=null;if(t+1<e.length){var i=e[t+1];i.rnaComplexIndex===r.rnaComplexIndex&&i.rnaMoleculeName0===r.rnaMoleculeName0&&i.rnaMoleculeName1===r.rnaMoleculeName1&&i.type===r.type&&i.nucleotideIndex0===r.nucleotideIndex0+1&&(a=i.nucleotideIndex1-r.nucleotideIndex1)}for(;o<e.length;){var l=e[o],s=e[o-1];if(!(l.rnaComplexIndex===s.rnaComplexIndex&&l.rnaMoleculeName0===s.rnaMoleculeName0&&l.rnaMoleculeName1===s.rnaMoleculeName1&&l.type===s.type&&l.nucleotideIndex0===s.nucleotideIndex0+1&&(null===a&&(l.nucleotideIndex1===s.nucleotideIndex1+1||l.nucleotideIndex1===s.nucleotideIndex1-1)||null!==a&&l.nucleotideIndex1===s.nucleotideIndex1+a)))break;o++}if(o-t>1){var u=e[t],c=e[o-1];n.push({rnaComplexIndex:u.rnaComplexIndex,rnaComplexName:u.rnaComplexName,rnaMoleculeName0:u.rnaMoleculeName0,nucleotideIndex0Start:u.nucleotideIndex0,nucleotideIndex0End:c.nucleotideIndex0,formattedNucleotideIndex0Start:u.formattedNucleotideIndex0,formattedNucleotideIndex0End:c.formattedNucleotideIndex0,rnaMoleculeName1:u.rnaMoleculeName1,nucleotideIndex1Start:u.nucleotideIndex1,nucleotideIndex1End:c.nucleotideIndex1,formattedNucleotideIndex1Start:u.formattedNucleotideIndex1,formattedNucleotideIndex1End:c.formattedNucleotideIndex1,type:u.type,length:o-t,isGrouped:!0})}else n.push(r);t=o}return n}),[]),Ge=(0,c.useMemo)(ze,[I,ke]),He=(0,c.useMemo)((function(){return We(Ge)}),[Ge]),Ke=(0,c.useMemo)((function(){return"Global"===L?Ge:He}),[L,Ge,He]),Ve=(0,c.useMemo)((function(){return"Grouped"===B?Ue(Ke):Ke}),[B,Ke]),qe=(0,c.useCallback)((function(e){if(null==e)return"";var n=/[",\n]/.test(e),t=e.replace(/"/g,'""');return n?'"'.concat(t,'"'):t}),[]),Xe=(0,c.useCallback)((function(e){for(var n=[],t="",r=!1,o=0;o<e.length;o++){var a=e[o];r?'"'===a?o+1<e.length&&'"'===e[o+1]?(t+='"',o++):r=!1:t+=a:","===a?(n.push(t),t=""):'"'===a?r=!0:t+=a}return n.push(t),n}),[]),$e=(0,c.useCallback)((function(e){return!0===e.isGrouped}),[]),Qe=(0,c.useCallback)((function(){var e,n=["rnaComplexName","rnaMoleculeName0","formattedNucleotideIndex0","rnaMoleculeName1","formattedNucleotideIndex1","typeBase","orientation","edgeA","edgeB"].join(","),t=[],r=(0,l.Z)(Ve);try{for(r.s();!(e=r.n()).done;){var o=e.value;if($e(o))for(var a=o.nucleotideIndex1End>o.nucleotideIndex1Start?1:-1,s=o.formattedNucleotideIndex1End>o.formattedNucleotideIndex1Start?1:-1,u=0;u<o.length;u++)t.push({rnaComplexIndex:o.rnaComplexIndex,rnaComplexName:o.rnaComplexName,rnaMoleculeName0:o.rnaMoleculeName0,nucleotideIndex0:o.nucleotideIndex0Start+u,formattedNucleotideIndex0:o.formattedNucleotideIndex0Start+u,rnaMoleculeName1:o.rnaMoleculeName1,nucleotideIndex1:o.nucleotideIndex1Start+u*a,formattedNucleotideIndex1:o.formattedNucleotideIndex1Start+u*s,type:o.type});else t.push(o)}}catch(v){r.e(v)}finally{r.f()}var c=t.map((function(e){var n=un(e.type),t=ln(e.type),r=t.orientation,o=t.edgeA,a=t.edgeB;return[qe(e.rnaComplexName),qe(e.rnaMoleculeName0),String(e.formattedNucleotideIndex0),qe(e.rnaMoleculeName1),String(e.formattedNucleotideIndex1),qe(n),qe(null!==r&&void 0!==r?r:""),qe(null!==o&&void 0!==o?o:""),qe(null!==a&&void 0!==a?a:"")].join(",")})),d=[n].concat((0,i.Z)(c)).join("\n"),f=new Blob([d],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(f),h=document.createElement("a");h.href=p,h.download="base_pairs.csv",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(p)}),[$e,qe,Ve]),en=(0,c.useCallback)((function(e){var n=_e.current,t=e.replace(/\r\n?/g,"\n").split("\n").filter((function(e){return e.trim().length>0}));if(0===t.length)throw"CSV is empty.";var r=Xe(t[0]).map((function(e){return e.trim()})),o=["rnaComplexName","rnaMoleculeName0","formattedNucleotideIndex0","rnaMoleculeName1","formattedNucleotideIndex1","typeBase","orientation","edgeA","edgeB"];if(r.length!==o.length||!o.every((function(e,n){return r[n]===e})))throw"CSV header is invalid. Expected: ".concat(o.join(","));for(var a=[],u=new Set(["auto","canonical","wobble","mismatch","custom"]),c=new Set(["cis","trans"]),d=new Set(["watson_crick","hoogsteen","sugar_edge"]),f=function(){var e=t[p];if(0===e.trim().length)return"continue";var r=Xe(e).map((function(e){return e.trim()}));if(r.length!==o.length)throw"Line #".concat(p+1," has ").concat(r.length," column(s); expected ").concat(o.length,".");var i=(0,s.Z)(r,9),l=i[0],f=i[1],h=i[2],v=i[3],m=i[4],x=i[5],g=i[6],y=i[7],b=i[8],N=Object.entries(n).find((function(e){return(0,s.Z)(e,2)[1].name===l}));if(!N)throw"Line #".concat(p+1,": Unknown RNA complex name '").concat(l,"'.");var I=parseInt(N[0]),C=n[I];if(!(f in C.rnaMoleculeProps))throw"Line #".concat(p+1,": Unknown RNA molecule #1 '").concat(f,"'.");if(!(v in C.rnaMoleculeProps))throw"Line #".concat(p+1,": Unknown RNA molecule #2 '").concat(v,"'.");var E=C.rnaMoleculeProps[f],S=C.rnaMoleculeProps[v];if(!/^[-+]?\d+$/.test(h))throw"Line #".concat(p+1,": formattedNucleotideIndex0 is not an integer.");if(!/^[-+]?\d+$/.test(m))throw"Line #".concat(p+1,": formattedNucleotideIndex1 is not an integer.");var P=parseInt(h),w=parseInt(m),A=P-E.firstNucleotideIndex,k=w-S.firstNucleotideIndex;if(!(A in E.nucleotideProps))throw"Line #".concat(p+1,": Nucleotide #1 index '").concat(P,"' does not exist in '").concat(f,"'.");if(!(k in S.nucleotideProps))throw"Line #".concat(p+1,": Nucleotide #2 index '").concat(w,"' does not exist in '").concat(v,"'.");var T,_=x.toLowerCase();if(!u.has(_))throw"Line #".concat(p+1,": Invalid typeBase '").concat(x,"'.");if("auto"===_)T=void 0;else if("canonical"===_)T=M.Ep.Type.CANONICAL;else if("wobble"===_)T=M.Ep.Type.WOBBLE;else if("mismatch"===_)T=M.Ep.Type.MISMATCH;else if("custom"===_){var R=g,j=y,O=b;if(!c.has(R))throw"Line #".concat(p+1,": orientation must be 'cis' or 'trans' for custom types.");if(!d.has(j)||!d.has(O))throw"Line #".concat(p+1,": edgeA/edgeB must be one of watson_crick, hoogsteen, sugar_edge.");if(!(T=sn(R,j,O)))throw"Line #".concat(p+1,": invalid custom type configuration.")}a.push({rnaComplexIndex:I,mol0:f,idx0:A,mol1:v,idx1:k,type:T})},p=1;p<t.length;p++)f();for(var h={},v=0,m=Object.entries(n);v<m.length;v++){var x=(0,s.Z)(m[v],2),g=x[0],y=x[1],b=parseInt(g);h[b]=[];for(var N=0,I=Object.entries(y.basePairs);N<I.length;N++)for(var C=(0,s.Z)(I[N],2),E=C[0],S=C[1],P=0,w=Object.entries(S);P<w.length;P++){var A,T=(0,s.Z)(w[P],2),_=T[0],R=T[1],j=parseInt(_),O=(0,l.Z)(R);try{for(O.s();!(A=O.n()).done;){var Z=A.value,L={rnaMoleculeName:E,nucleotideIndex:j},D=[L,{rnaMoleculeName:Z.rnaMoleculeName,nucleotideIndex:Z.nucleotideIndex}].sort(k.IK),F=(0,s.Z)(D,2),B=F[0],z=F[1];B.rnaMoleculeName===L.rnaMoleculeName&&B.nucleotideIndex===L.nucleotideIndex&&h[b].push({keys0:B,keys1:z})}}catch(fe){O.e(fe)}finally{O.f()}}}for(var W={},U=0,G=a;U<G.length;U++){var H=G[U];H.rnaComplexIndex in W||(W[H.rnaComplexIndex]=[]);var K=[{rnaMoleculeName:H.mol0,nucleotideIndex:H.idx0},{rnaMoleculeName:H.mol1,nucleotideIndex:H.idx1}].sort(k.IK),V=(0,s.Z)(K,2),q=V[0],X=V[1];W[H.rnaComplexIndex].push({keys0:q,keys1:X})}Oe();for(var $=0,Q=Object.entries(n);$<Q.length;$++){var Y=(0,s.Z)(Q[$],2),J=Y[0],ee=Y[1];parseInt(J);ee.basePairs={}}for(var ne=0,te=a;ne<te.length;ne++){var re=te[ne],oe=n[re.rnaComplexIndex];(0,k.P3)(oe,re.mol0,re.idx0,re.mol1,re.idx1,k.GN.DO_NOTHING,{basePairType:re.type})}var ae,ie={},le=new Set([].concat((0,i.Z)(Object.keys(n).map((function(e){return parseInt(e)}))),(0,i.Z)(a.map((function(e){return e.rnaComplexIndex}))))),se=(0,l.Z)(le);try{for(se.s();!(ae=se.n()).done;){var ue,ce,de=ae.value;ie[de]={add:null!==(ue=W[de])&&void 0!==ue?ue:[],delete:null!==(ce=h[de])&&void 0!==ce?ce:[]}}}catch(fe){se.e(fe)}finally{se.f()}Re(ie)}),[Xe,Re,Oe]),nn=(0,c.useCallback)((function(){var e;return null===(e=H.current)||void 0===e?void 0:e.click()}),[]),tn=(0,c.useCallback)(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null===(t=n.target.files)||void 0===t?void 0:t[0],n.currentTarget.value="",o){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,o.text();case 6:a=e.sent;try{en(a)}catch(r){alert("string"===typeof r?r:r.message)}case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[en]),rn=(0,c.useCallback)((function(e,n,t){var r,o=_e.current[e];if(!o)return"UNK";var a=o.rnaMoleculeProps[n];if(!a)return"UNK";var i=t-a.firstNucleotideIndex;if(!(i in a.nucleotideProps))return"UNK";var l=null===(r=a.nucleotideProps[i])||void 0===r?void 0:r.symbol;return l?l.toUpperCase():"UNK"}),[]),on=(0,c.useCallback)((function(e){var n=_e.current[e.rnaComplexIndex];if(n){Oe();var t=n.basePairs[e.rnaMoleculeName0];if(t&&e.nucleotideIndex0 in t){var r=t[e.nucleotideIndex0],o=r.findIndex((function(n){return n.rnaMoleculeName===e.rnaMoleculeName1&&n.nucleotideIndex===e.nucleotideIndex1}));-1!==o&&(1===r.length?delete t[e.nucleotideIndex0]:r.splice(o,1))}var a=n.basePairs[e.rnaMoleculeName1];if(a&&e.nucleotideIndex1 in a){var i=a[e.nucleotideIndex1],l=i.findIndex((function(n){return n.rnaMoleculeName===e.rnaMoleculeName0&&n.nucleotideIndex===e.nucleotideIndex0}));-1!==l&&(1===i.length?delete a[e.nucleotideIndex1]:i.splice(l,1))}var c=[{rnaMoleculeName:e.rnaMoleculeName0,nucleotideIndex:e.nucleotideIndex0},{rnaMoleculeName:e.rnaMoleculeName1,nucleotideIndex:e.nucleotideIndex1}].sort(k.IK),d=(0,s.Z)(c,2),f=d[0],p=d[1];Re((0,u.Z)({},e.rnaComplexIndex,{add:[],delete:[{keys0:f,keys1:p}]}))}}),[Oe,Re]),an=(0,c.useCallback)((function(){var e,n=_e.current,t=ee.current,r=he;if(null!=r.rnaComplexIndex){var o=n[r.rnaComplexIndex];if(o){var a=r.rnaMoleculeName0,i=r.rnaMoleculeName1,l=o.rnaMoleculeProps[a],c=o.rnaMoleculeProps[i];if(l&&c&&null!=r.formattedNucleotideIndex0&&null!=r.formattedNucleotideIndex1){var d=r.formattedNucleotideIndex0-l.firstNucleotideIndex,f=r.formattedNucleotideIndex1-c.firstNucleotideIndex;if(d in l.nucleotideProps&&f in c.nucleotideProps){var p=null!==(e=r.length)&&void 0!==e?e:1,h="custom"===r.typeBase?sn(r.orientation,r.edgeA,r.edgeB):"canonical"===r.typeBase?M.Ep.Type.CANONICAL:"wobble"===r.typeBase?M.Ep.Type.WOBBLE:"mismatch"===r.typeBase?M.Ep.Type.MISMATCH:void 0;Oe(),t&&Ee(o,a,i,d,f,p,h,Le);for(var v=[],m=0;m<p;m++){var x=d+m,g=f-m;if(!(x in l.nucleotideProps)||!(g in c.nucleotideProps))break;(0,k.P3)(o,a,x,i,g,k.GN.DELETE_PREVIOUS_MAPPING,{basePairType:h});var y=[{rnaMoleculeName:a,nucleotideIndex:x},{rnaMoleculeName:i,nucleotideIndex:g}].sort(k.IK),b=(0,s.Z)(y,2),N=b[0],I=b[1];v.push({keys0:N,keys1:I})}Re((0,u.Z)({},r.rnaComplexIndex,{add:v,delete:[]})),X(!1),ve({typeBase:"auto"})}}}}}),[he,Re,Oe]),cn=(0,c.useCallback)((function(e){ye("".concat(e.rnaComplexIndex,":").concat(e.rnaMoleculeName0,":").concat(e.nucleotideIndex0,":").concat(e.rnaMoleculeName1,":").concat(e.nucleotideIndex1));var n=I[e.rnaComplexIndex],t=n.rnaMoleculeProps[e.rnaMoleculeName0],r=n.rnaMoleculeProps[e.rnaMoleculeName1],o=ln(e.type);Pe({rnaComplexIndex:e.rnaComplexIndex,rnaMoleculeName0:e.rnaMoleculeName0,formattedNucleotideIndex0:e.nucleotideIndex0+t.firstNucleotideIndex,rnaMoleculeName1:e.rnaMoleculeName1,formattedNucleotideIndex1:e.nucleotideIndex1+r.firstNucleotideIndex,typeBase:un(e.type),orientation:o.orientation,edgeA:o.edgeA,edgeB:o.edgeB})}),[]),fn=(0,c.useCallback)((function(e){var n=Ie;if(null!=n.rnaComplexIndex&&n.rnaMoleculeName0&&n.rnaMoleculeName1&&null!=n.formattedNucleotideIndex0&&null!=n.formattedNucleotideIndex1){var t=n.rnaMoleculeName0,r=n.rnaMoleculeName1,o=I[n.rnaComplexIndex],a=o.rnaMoleculeProps[t],i=o.rnaMoleculeProps[r],l=n.formattedNucleotideIndex0-a.firstNucleotideIndex,s=n.formattedNucleotideIndex1-i.firstNucleotideIndex;if(l in a.nucleotideProps&&s in i.nucleotideProps){Oe();var c=I[e.rnaComplexIndex],d=c.basePairs[e.rnaMoleculeName0];if(d&&e.nucleotideIndex0 in d){var f=d[e.nucleotideIndex0],p=f.findIndex((function(n){return n.rnaMoleculeName===e.rnaMoleculeName1&&n.nucleotideIndex===e.nucleotideIndex1}));-1!==p&&(1===f.length?delete d[e.nucleotideIndex0]:f.splice(p,1))}var h=c.basePairs[e.rnaMoleculeName1];if(h&&e.nucleotideIndex1 in h){var v=h[e.nucleotideIndex1],m=v.findIndex((function(n){return n.rnaMoleculeName===e.rnaMoleculeName0&&n.nucleotideIndex===e.nucleotideIndex0}));-1!==m&&(1===v.length?delete h[e.nucleotideIndex1]:v.splice(m,1))}var x=void 0;"custom"===n.typeBase?x=sn(n.orientation,n.edgeA,n.edgeB):"canonical"===n.typeBase?x=M.Ep.Type.CANONICAL:"wobble"===n.typeBase?x=M.Ep.Type.WOBBLE:"mismatch"===n.typeBase&&(x=M.Ep.Type.MISMATCH),(0,k.P3)(c,t,l,r,s,k.GN.DELETE_PREVIOUS_MAPPING,{basePairType:x});var g=[{rnaMoleculeName:e.rnaMoleculeName0,nucleotideIndex:e.nucleotideIndex0},{rnaMoleculeName:e.rnaMoleculeName1,nucleotideIndex:e.nucleotideIndex1}].sort(k.IK),y=g[0],b=g[1],N=[{rnaMoleculeName:t,nucleotideIndex:l},{rnaMoleculeName:r,nucleotideIndex:s}].sort(k.IK),C=N[0],E=N[1];Re((0,u.Z)({},e.rnaComplexIndex,{add:[{keys0:C,keys1:E}],delete:[{keys0:y,keys1:b}]})),ye(null)}}}),[Ie]),pn=(0,c.useCallback)((function(e){var n=ln(e.type).orientation;if(n)return n;var t=un(e.type);return"canonical"===t||"wobble"===t||"mismatch"===t?"cis":"auto"===t?"auto":"cis"}),[]),hn=(0,c.useCallback)((function(e){var n=ln(e.type).edgeA;if(n)return n;var t=un(e.type);return"auto"===t?"auto":"canonical"===t||"wobble"===t?"watson_crick":"unknown"}),[]),vn=(0,c.useCallback)((function(e){var n=ln(e.type).edgeB;if(n)return n;var t=un(e.type);return"auto"===t?"auto":"canonical"===t?"watson_crick":"wobble"===t?"hoogsteen":"unknown"}),[]),mn=(0,c.useCallback)((function(e){return{position:"sticky",top:0,zIndex:1,textAlign:"center",fontSize:13,textTransform:"uppercase",letterSpacing:.3,padding:"10px 12px",minWidth:e,maxWidth:e,whiteSpace:"nowrap",background:E.colors.surfaceHover,borderBottom:"1px solid ".concat(E.colors.border),borderInline:"1px solid ".concat(E.colors.border),color:E.colors.text}}),[E]),xn=(0,c.useCallback)((function(e){return{padding:"8px 12px",minWidth:e,maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:12,textAlign:"center",color:E.colors.text}}),[E]),gn=(0,c.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{width:130,padding:"6px 8px",border:"1px solid ".concat(E.colors.border),borderRadius:6,fontSize:12,background:E.colors.background,color:E.colors.text,opacity:e?1:.6}}),[E]),yn=(0,c.useCallback)((function(){return{width:100,padding:"6px 8px",border:"1px solid ".concat(E.colors.border),borderRadius:6,fontSize:12,color:E.colors.text,background:E.colors.background}}),[E]),bn=((0,c.useCallback)((function(){return{padding:"6px 10px",borderRadius:8,border:"1px solid ".concat(E.colors.border),background:E.colors.background,fontSize:12,fontWeight:600,color:E.colors.text,cursor:"pointer"}}),[E]),(0,c.useCallback)((function(){return{width:"100%",padding:"4px 6px",border:"1px solid ".concat(E.colors.border),borderRadius:6,fontSize:12,color:E.colors.text,background:E.colors.background}}),[E])),Nn=((0,c.useCallback)((function(){return{padding:"4px 8px",borderRadius:6,border:"1px solid ".concat(E.colors.border),background:E.colors.background,fontSize:11,fontWeight:600,color:E.colors.text,cursor:"pointer"}}),[E]),(0,c.useMemo)((function(){return Le[se.pE.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED]}),[Le])),In=(0,c.useRef)(Nn);In.current=Nn;var Cn=(0,c.useCallback)((function(){(0,Ze.current)();var e,n=Be.current,t=In.current,r=_e.current,o=je.current,a=(0,de.qj)(r,t),i=Fe.current,s={},u=(0,l.Z)(a);try{for(u.s();!(e=u.n()).done;){var c=e.value,d=c.rnaComplexIndex,p=c.helixDataPerRnaMolecules,h=i[d],v=r[d],m=v.basePairs;d in s||(s[d]={add:[],delete:[]});var x,g=s[d],y=(0,l.Z)(p);try{for(y.s();!(x=y.n()).done;){var b,N=x.value,I=N.rnaMoleculeName0,C=N.helixData,E=v.rnaMoleculeProps[I],S=m[I],P=(0,l.Z)(C);try{var w=function(){for(var e=b.value,t=e.rnaMoleculeName1,r=e.start,o=e.stop,a=v.rnaMoleculeProps[t],i={0:E,1:a},l=E.nucleotideProps[r[0]],s=a.nucleotideProps[r[1]],u=(0,f.wK)((0,f.IH)(l,s),.5),c=(0,f.$X)(l,s),d=(0,f.Fv)(c),p=(0,f.K)(d),m={},x=0,y=0,N=[0,1];y<N.length;y++){var C=N[y],P=Math.min(r[C],o[C]),w=Math.max(r[C],o[C]);m[C]={min:P,max:w};for(var A=P;A<=w;A++){var k=i[C].nucleotideProps[A];x+=Math.sign((0,f.Ih)((0,f.$X)(k,u),p))}}x<0&&(p=(0,f.tk)(p));for(var T=n[se.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS],_=Number.isNaN(T)?h.helixDistance:T,R=(0,f.wK)(p,_),j=r[0],O=r[1],Z=Math.sign(o[0]-r[0]),L=Math.sign(o[1]-r[1]),D=m[0].max-m[0].min+1,F=0;F<D;F++){var B=i[0].nucleotideProps[j],z=i[1].nucleotideProps[O],W=S[j].find((function(e){return e.rnaMoleculeName===t&&e.nucleotideIndex===O})).basePairType;if(void 0===W)try{W=(0,M.iN)(B.symbol,z.symbol)}catch(Q){W=void 0}var U=void 0;switch(W){case M.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK:case M.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK:case M.ZP.Type.CANONICAL:var G=n[se.pE.CANONICAL_BASE_PAIR_DISTANCE];U=Number.isNaN(G)?h.distances[W]:G;break;case M.ZP.Type.WOBBLE:var H=n[se.pE.WOBBLE_BASE_PAIR_DISTANCE];U=Number.isNaN(H)?h.distances[W]:H;break;default:var K=n[se.pE.MISMATCH_BASE_PAIR_DISTANCE];U=Number.isNaN(K)?h.distances[M.ZP.Type.MISMATCH]:K}var V={keys0:{rnaMoleculeName:I,nucleotideIndex:j},keys1:{rnaMoleculeName:t,nucleotideIndex:O}};g.add.push(V),g.delete.push(V);var q=(0,f.wK)(d,.5*U),X=(0,f.IH)(u,q),$=(0,f.$X)(u,q);B.x=X.x,B.y=X.y,z.x=$.x,z.y=$.y,u=(0,f.IH)(u,R),j+=Z,O+=L}};for(P.s();!(b=P.n()).done;)w()}catch(R){P.e(R)}finally{P.f()}}}catch(R){y.e(R)}finally{y.f()}}}catch(R){u.e(R)}finally{u.f()}for(var A=0,T=Object.values(s);A<T.length;A++){var _=T[A];_.add.sort(k.T_),_.delete.sort(k.T_)}o(s)}),[]);return(0,c.useEffect)((function(){var e=1===Object.keys(I).length;oe(e),ce(e&&1===Object.keys(Object.values(I)[0].rnaMoleculeProps).length)}),[I]),(0,Ce.jsxs)("div",{ref:W,style:{position:"fixed",left:429,right:0,bottom:0,height:b?w:0,transform:b?"translateY(0)":"translateY(100%)",transition:"transform 0.3s ease, height 0.3s ease",background:E.colors.surface,borderTop:"1px solid ".concat(E.colors.border),zIndex:2100,display:"flex",flexDirection:"column"},children:[(0,Ce.jsx)("div",{onMouseDown:function(e){j(!0),U.current=e.clientY,G.current=w},style:{height:10,cursor:"ns-resize",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Ce.jsx)("div",{style:{width:48,height:4,borderRadius:2,background:E.colors.border}})}),(0,Ce.jsxs)("div",{style:{padding:"10px 16px",borderBottom:"1px solid ".concat(E.colors.border),display:"flex",alignItems:"center",justifyContent:"space-between",background:E.colors.surface},children:[(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,Ce.jsxs)("span",{style:{fontWeight:700,fontSize:13,color:E.colors.text,letterSpacing:.3},children:["Base-Pair Editor"," -- Select Representation:"]}),(0,Ce.jsx)("div",{style:{display:"flex",gap:6,background:E.colors.surfaceHover,padding:"4px",borderRadius:8},children:["Individual","Grouped"].map((function(e){return(0,Ce.jsx)("button",{onClick:function(){return z(e)},style:{padding:"6px 10px",borderRadius:6,border:"none",fontSize:12,fontWeight:600,background:B===e?E.colors.background:"transparent",color:E.colors.text,boxShadow:B===e?E.shadows.sm:"none",cursor:"pointer"},children:e},e)}))})]}),(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Ce.jsx)("input",{ref:H,type:"file",accept:".csv,text/csv",style:{display:"none"},onChange:tn}),(0,Ce.jsxs)("button",{onClick:Qe,title:"Export table to CSV",style:{padding:"8px 12px",borderRadius:8,border:"1px solid ".concat(E.colors.border),background:E.colors.background,color:E.colors.text,fontSize:12,fontWeight:700,letterSpacing:.3,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6},children:[(0,Ce.jsx)(Je,{size:14})," Export"]}),(0,Ce.jsxs)("button",{onClick:nn,title:"Import table from CSV",style:{padding:"8px 12px",borderRadius:8,border:"1px solid ".concat(E.colors.border),background:E.colors.background,color:E.colors.text,fontSize:12,fontWeight:700,letterSpacing:.3,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6},children:[(0,Ce.jsx)(Ye,{size:14})," Import"]}),(0,Ce.jsx)("button",{onClick:Cn,title:"Re-format all base pairs",style:{padding:"8px 12px",borderRadius:8,border:"1px solid ".concat(E.colors.primary),background:E.colors.primary,color:E.colors.textInverse,fontSize:12,fontWeight:700,letterSpacing:.3,cursor:"pointer"},children:"Re-format all"}),(0,Ce.jsx)("button",{onClick:N,style:{border:"none",background:"transparent",fontSize:16,color:E.colors.textSecondary,cursor:"pointer"},children:"\u2715"})]})]}),(0,Ce.jsxs)("div",{style:{flex:1,overflow:"auto"},children:[(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"8px 12px",gap:8},children:[q&&(0,Ce.jsxs)("div",{style:{padding:"8px 12px",display:"flex",alignItems:"center",borderTop:"1px dashed ".concat(E.colors.border),borderBottom:"1px dashed ".concat(E.colors.border)},children:[!re&&(0,Ce.jsxs)("select",{value:null!==(n=he.rnaComplexIndex)&&void 0!==n?n:"",onChange:function(e){var n=""===e.target.value?void 0:parseInt(e.target.value),t=void 0!==n&&1===Object.keys(I[n].rnaMoleculeProps).length;ce(t);var r={rnaComplexIndex:n};if(void 0!==n){var o=Object.keys(I[n].rnaMoleculeProps);o.length>0&&(r.rnaMoleculeName0=o[0],r.rnaMoleculeName1=o[0])}ve((function(e){return(0,a.Z)((0,a.Z)({},e),{},{newAddForm:r})}))},style:(0,a.Z)((0,a.Z)({},gn()),{},{marginRight:8}),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"Complex Name"}),Object.entries(I).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,Ce.jsx)("option",{value:t,children:r.name},t)}))]}),!le&&(0,Ce.jsxs)("select",{value:null!==(t=he.rnaMoleculeName0)&&void 0!==t?t:"",onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{rnaMoleculeName0:""===e.target.value?void 0:e.target.value})}))},style:(0,a.Z)((0,a.Z)({},gn()),{},{marginRight:8,opacity:null==he.rnaComplexIndex?.6:1,cursor:null==he.rnaComplexIndex?"not-allowed":"text",background:null==he.rnaComplexIndex?E.colors.surfaceHover:E.colors.background,color:null==he.rnaComplexIndex?E.colors.textSecondary:E.colors.text}),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"Mol Name #1"}),(void 0==he.rnaComplexIndex?[]:Object.entries(I[he.rnaComplexIndex].rnaMoleculeProps)).map((function(e){var n=(0,s.Z)(e,2),t=n[0];n[1];return(0,Ce.jsx)("option",{value:t,children:t},t)})),"disabled = ",null==he.rnaComplexIndex]}),(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,width:180,marginRight:8},children:[function(){var e=he.rnaComplexIndex,n=he.formattedNucleotideIndex0,t="UNK";if(null!=e&&null!=n){var r=he.rnaMoleculeName0;if(r){var o=rn(e,r,n);t="UNK"===o?"UNK":o[0].toUpperCase()}}return(0,Ce.jsx)("span",{title:t,style:{fontWeight:700},children:t})}(),(0,Ce.jsx)("input",{type:"number",placeholder:"nt #1",value:null!==(d=he.formattedNucleotideIndex0)&&void 0!==d?d:"",onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{formattedNucleotideIndex0:""===e.target.value?void 0:parseInt(e.target.value)})}))},disabled:null==he.rnaMoleculeName0,style:(0,a.Z)((0,a.Z)({},bn()),{},{opacity:null==he.rnaMoleculeName0?.6:1,cursor:null==he.rnaMoleculeName0?"not-allowed":"text",background:null==he.rnaMoleculeName0?E.colors.surfaceHover:E.colors.background,color:null==he.rnaMoleculeName0?E.colors.textSecondary:E.colors.text})})]}),!le&&(0,Ce.jsxs)("select",{value:null!==(p=he.rnaMoleculeName1)&&void 0!==p?p:"",onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{rnaMoleculeName1:""===e.target.value?void 0:e.target.value})}))},style:(0,a.Z)((0,a.Z)({},gn()),{},{marginRight:8,opacity:null==he.rnaComplexIndex?.6:1,cursor:null==he.rnaComplexIndex?"not-allowed":"text",background:null==he.rnaComplexIndex?E.colors.surfaceHover:E.colors.background,color:null==he.rnaComplexIndex?E.colors.textSecondary:E.colors.text}),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"Mol Name #2"}),(void 0==he.rnaComplexIndex?[]:Object.entries(I[he.rnaComplexIndex].rnaMoleculeProps)).map((function(e){var n=(0,s.Z)(e,2),t=n[0];n[1];return(0,Ce.jsx)("option",{value:t,children:t},t)})),"disabled = ",null==he.rnaComplexIndex]}),(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,width:180,marginRight:8},children:[function(){var e=he.rnaComplexIndex,n=he.formattedNucleotideIndex1,t="UNK";if(null!=e&&null!=n){var r=he.rnaMoleculeName1;if(r){var o=rn(e,r,n);t="UNK"===o?"UNK":o[0].toUpperCase()}}return(0,Ce.jsx)("span",{title:t,style:{fontWeight:700},children:t})}(),(0,Ce.jsx)("input",{type:"number",placeholder:"nt #2",value:null!==(h=he.formattedNucleotideIndex1)&&void 0!==h?h:"",onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{formattedNucleotideIndex1:""===e.target.value?void 0:parseInt(e.target.value)})}))},style:(0,a.Z)((0,a.Z)({},bn()),{},{opacity:null==he.rnaMoleculeName1?.6:1,cursor:null==he.rnaMoleculeName1?"not-allowed":"text",background:null==he.rnaMoleculeName1?E.colors.surfaceHover:E.colors.background,color:null==he.rnaMoleculeName1?E.colors.textSecondary:E.colors.text}),disabled:null==he.rnaMoleculeName1})]}),(0,Ce.jsxs)("select",{value:he.typeBase,onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{typeBase:e.target.value})}))},style:(0,a.Z)((0,a.Z)({},gn(!0)),{},{marginRight:8}),children:[(0,Ce.jsx)("option",{value:"auto",children:"auto"}),(0,Ce.jsx)("option",{value:"canonical",children:"canonical"}),(0,Ce.jsx)("option",{value:"wobble",children:"wobble"}),(0,Ce.jsx)("option",{value:"mismatch",children:"mismatch"}),(0,Ce.jsx)("option",{value:"custom",children:"custom"})]}),(0,Ce.jsxs)("select",{value:null!==(v=he.orientation)&&void 0!==v?v:"",disabled:"custom"!==he.typeBase,onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{orientation:e.target.value})}))},style:(0,a.Z)((0,a.Z)({},gn("custom"===he.typeBase)),{},{marginRight:8}),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"orientation (auto)"}),(0,Ce.jsx)("option",{value:"cis",children:"cis"}),(0,Ce.jsx)("option",{value:"trans",children:"trans"})]}),(0,Ce.jsxs)("select",{value:null!==(m=he.edgeA)&&void 0!==m?m:"",disabled:"custom"!==he.typeBase,onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{edgeA:e.target.value})}))},style:(0,a.Z)((0,a.Z)({},gn("custom"===he.typeBase)),{},{marginRight:8}),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"edge A (auto)"}),(0,Ce.jsx)("option",{value:"watson_crick",children:"watson_crick"}),(0,Ce.jsx)("option",{value:"hoogsteen",children:"hoogsteen"}),(0,Ce.jsx)("option",{value:"sugar_edge",children:"sugar_edge"})]}),(0,Ce.jsxs)("select",{value:null!==(x=he.edgeB)&&void 0!==x?x:"",disabled:"custom"!==he.typeBase,onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{edgeB:e.target.value})}))},style:(0,a.Z)((0,a.Z)({},gn("custom"===he.typeBase)),{},{marginRight:8}),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"edge B (auto)"}),(0,Ce.jsx)("option",{value:"watson_crick",children:"watson_crick"}),(0,Ce.jsx)("option",{value:"hoogsteen",children:"hoogsteen"}),(0,Ce.jsx)("option",{value:"sugar_edge",children:"sugar_edge"})]}),(0,Ce.jsx)("input",{type:"number",min:"1",max:"100",placeholder:"Length",value:null!==(g=he.length)&&void 0!==g?g:"",onChange:function(e){return ve((function(n){return(0,a.Z)((0,a.Z)({},n),{},{length:""===e.target.value?void 0:Math.max(1,parseInt(e.target.value)||1)})}))},style:(0,a.Z)((0,a.Z)({},yn()),{},{width:80,marginRight:8}),title:"Number of consecutive base pairs to create"}),(0,Ce.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",marginRight:"8px",padding:"4px 8px",borderRadius:"4px",backgroundColor:Y?E.colors.primary+"20":"transparent",border:Y?"1px solid ".concat(E.colors.primary):"1px solid transparent",transition:"all 0.2s ease",cursor:"pointer"},children:[(0,Ce.jsx)("input",{type:"checkbox",checked:Y,onChange:function(e){return J(e.target.checked)},style:{margin:0,transform:"scale(0.9)"}}),(0,Ce.jsx)("span",{style:{fontSize:"11px",fontWeight:Y?"600":"400",color:Y?E.colors.primary:E.colors.text,whiteSpace:"nowrap"},children:"Reposition"})]}),(0,Ce.jsx)("button",{onClick:an,style:{padding:"6px 10px",borderRadius:8,border:"1px solid ".concat(E.colors.border),background:E.colors.background,fontSize:12,fontWeight:700,color:E.colors.text},disabled:null==he.rnaComplexIndex||void 0===he.rnaMoleculeName0||void 0===he.rnaMoleculeName1||null==he.formattedNucleotideIndex0||null==he.formattedNucleotideIndex1||(null!==(y=he.length)&&void 0!==y?y:1)<1,children:"Add"})]}),(0,Ce.jsx)("button",{onClick:function(){if(!q){var e=re?Number.parseInt(Object.keys(I)[0]):void 0,n=void 0,t=void 0;if(void 0!==e){var r=Object.keys(I[e].rnaMoleculeProps);r.length>0&&(n=r[0],t=r[0])}ve({rnaComplexIndex:e,rnaMoleculeName0:n,rnaMoleculeName1:t,formattedNucleotideIndex0:void 0,formattedNucleotideIndex1:void 0,length:1,typeBase:"auto"})}X(!q)},style:{padding:"6px 10px",borderRadius:8,border:"1px solid ".concat(E.colors.border),background:E.colors.background,fontSize:12,fontWeight:600,color:E.colors.text,marginLeft:"auto"},children:q?"Cancel":"Add Base Pair"})]}),(0,Ce.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ce.jsx)("thead",{children:(0,Ce.jsxs)("tr",{children:[!re&&(0,Ce.jsx)("th",{style:mn(120),children:"Complex"}),!le&&(0,Ce.jsx)("th",{style:mn(80),children:"Mol#1"}),(0,Ce.jsx)("th",{style:mn(80),children:"Nt (index) a"}),!le&&(0,Ce.jsx)("th",{style:mn(80),children:"Mol#2"}),(0,Ce.jsx)("th",{style:mn(80),children:"Nt (index) b"}),"Grouped"===B&&(0,Ce.jsx)("th",{style:mn(60),children:"Length"}),(0,Ce.jsx)("th",{style:mn(120),children:"Type"}),(0,Ce.jsx)("th",{style:mn(100),children:"Orientation"}),(0,Ce.jsx)("th",{style:mn(130),children:"Edge A"}),(0,Ce.jsx)("th",{style:mn(130),children:"Edge B"}),(0,Ce.jsx)("th",{style:mn(90),children:"Action"})]})}),(0,Ce.jsxs)("tbody",{children:[Ve.map((function(e,n){var t,r,o,i,l,u,c,d=$e(e),f=d?"".concat(e.rnaComplexIndex,":").concat(e.rnaMoleculeName0,":").concat(e.nucleotideIndex0Start,"-").concat(e.nucleotideIndex0End,":").concat(e.rnaMoleculeName1,":").concat(e.nucleotideIndex1Start,"-").concat(e.nucleotideIndex1End):"".concat(e.rnaComplexIndex,":").concat(e.rnaMoleculeName0,":").concat(e.nucleotideIndex0,":").concat(e.rnaMoleculeName1,":").concat(e.nucleotideIndex1),p=!d&&ge===f,h=p&&null!==(t=Ie.typeBase)&&void 0!==t?t:un(e.type),v=ln(e.type),m=p?null!==(r=null!==(o=Ie.orientation)&&void 0!==o?o:v.orientation)&&void 0!==r?r:"auto"===h?void 0:"cis":void 0,x=p&&null!==(i=Ie.edgeA)&&void 0!==i?i:void 0,g=p&&null!==(l=Ie.edgeB)&&void 0!==l?l:void 0;return(0,Ce.jsxs)("tr",{style:{borderBottom:"1px solid ".concat(E.colors.border),background:n%2===0?E.colors.background:E.colors.surface},children:[!re&&(0,Ce.jsx)("td",{style:xn(120),children:e.rnaComplexName}),!le&&(0,Ce.jsx)("td",{style:xn(60),children:(0,Ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:p?(0,Ce.jsx)("select",{value:null!==(u=Ie.rnaMoleculeName0)&&void 0!==u?u:e.rnaMoleculeName0,onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{rnaMoleculeName0:""===e.target.value?void 0:e.target.value})}))},children:Object.entries(I[e.rnaComplexIndex].rnaMoleculeProps).map((function(e){var n=(0,s.Z)(e,2),t=n[0];n[1];return(0,Ce.jsx)("option",{value:t,children:t},t)}))}):(0,Ce.jsx)("span",{children:e.rnaMoleculeName0})})}),(0,Ce.jsx)("td",{style:xn(60),children:(0,Ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:function(){var n,t;if(d){var r=rn(e.rnaComplexIndex,e.rnaMoleculeName0,e.formattedNucleotideIndex0Start),o="UNK"===r?"UNK":r[0].toUpperCase();return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{title:"".concat(e.rnaMoleculeName0," (").concat(r,")"),style:{fontWeight:700},children:o}),(0,Ce.jsx)("span",{children:e.formattedNucleotideIndex0Start})]})}var i=rn(e.rnaComplexIndex,e.rnaMoleculeName0,p&&null!==(n=Ie.formattedNucleotideIndex0)&&void 0!==n?n:e.formattedNucleotideIndex0),l="UNK"===i?"UNK":i[0].toUpperCase();return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{title:"".concat(e.rnaMoleculeName0," (").concat(i,")"),style:{fontWeight:700},children:l}),p?(0,Ce.jsx)("input",{type:"number",value:null!==(t=Ie.formattedNucleotideIndex0)&&void 0!==t?t:e.formattedNucleotideIndex0,onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{formattedNucleotideIndex0:""===e.target.value?void 0:parseInt(e.target.value)})}))},style:bn()}):(0,Ce.jsx)("span",{children:e.formattedNucleotideIndex0})]})}()})}),!le&&(0,Ce.jsx)("td",{style:xn(60),children:(0,Ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:p?(0,Ce.jsx)("select",{value:null!==(c=Ie.rnaMoleculeName1)&&void 0!==c?c:e.rnaMoleculeName1,onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{rnaMoleculeName1:""===e.target.value?void 0:e.target.value})}))},children:Object.entries(I[e.rnaComplexIndex].rnaMoleculeProps).map((function(e){var n=(0,s.Z)(e,2),t=n[0];n[1];return(0,Ce.jsx)("option",{value:t,children:t},t)}))}):(0,Ce.jsx)("span",{children:e.rnaMoleculeName1})})}),(0,Ce.jsx)("td",{style:xn(60),children:(0,Ce.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:function(){var n,t;if(d){var r=rn(e.rnaComplexIndex,e.rnaMoleculeName1,e.formattedNucleotideIndex1Start),o="UNK"===r?"UNK":r[0].toUpperCase();return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{title:"".concat(e.rnaMoleculeName1," (").concat(r,")"),style:{fontWeight:700},children:o}),(0,Ce.jsx)("span",{children:e.formattedNucleotideIndex1Start})]})}var i=rn(e.rnaComplexIndex,e.rnaMoleculeName1,p&&null!==(n=Ie.formattedNucleotideIndex1)&&void 0!==n?n:e.formattedNucleotideIndex1),l="UNK"===i?"UNK":i[0].toUpperCase();return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("span",{title:"".concat(e.rnaMoleculeName1," (").concat(i,")"),style:{fontWeight:700},children:l}),p?(0,Ce.jsx)("input",{type:"number",value:null!==(t=Ie.formattedNucleotideIndex1)&&void 0!==t?t:e.formattedNucleotideIndex1,onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{formattedNucleotideIndex1:""===e.target.value?void 0:parseInt(e.target.value)})}))},style:bn()}):(0,Ce.jsx)("span",{children:e.formattedNucleotideIndex1})]})}()})}),"Grouped"===B&&(0,Ce.jsx)("td",{style:xn(60),children:(0,Ce.jsx)("span",{style:{fontSize:12,color:E.colors.text},children:d?e.length:1})}),(0,Ce.jsx)("td",{style:xn(120),children:p?(0,Ce.jsxs)("select",{value:h,onChange:function(n){var t=n.target.value;if("custom"===t){var r,o,i,l,s,u,c=ln(e.type),d=un(e.type),f=null!==(r=null!==(o=Ie.orientation)&&void 0!==o?o:c.orientation)&&void 0!==r?r:"cis",p=null!==(i=null!==(l=Ie.edgeA)&&void 0!==l?l:c.edgeA)&&void 0!==i?i:"watson_crick",h=null!==(s=null!==(u=Ie.edgeB)&&void 0!==u?u:c.edgeB)&&void 0!==s?s:"wobble"===d?"hoogsteen":"watson_crick";Pe((function(e){return(0,a.Z)((0,a.Z)({},e),{},{typeBase:t,orientation:f,edgeA:p,edgeB:h})}))}else Pe((function(e){return(0,a.Z)((0,a.Z)({},e),{},{typeBase:t})}))},style:gn(!0),children:[(0,Ce.jsx)("option",{value:"auto",children:"auto"}),(0,Ce.jsx)("option",{value:"canonical",children:"canonical"}),(0,Ce.jsx)("option",{value:"wobble",children:"wobble"}),(0,Ce.jsx)("option",{value:"mismatch",children:"mismatch"}),(0,Ce.jsx)("option",{value:"custom",children:"LW Schema"})]}):(0,Ce.jsx)("span",{style:{fontSize:12,color:E.colors.text},children:un(e.type)})}),(0,Ce.jsx)("td",{style:xn(100),children:p&&"custom"===h?(0,Ce.jsxs)("select",{value:null!==m&&void 0!==m?m:"",onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{orientation:e.target.value||void 0})}))},style:gn(!0),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"\u2014"}),(0,Ce.jsx)("option",{value:"cis",children:"cis"}),(0,Ce.jsx)("option",{value:"trans",children:"trans"})]}):(0,Ce.jsx)("span",{style:{fontSize:12,color:E.colors.text},children:pn(e)})}),(0,Ce.jsx)("td",{style:xn(130),children:p&&"custom"===h?(0,Ce.jsxs)("select",{value:null!==x&&void 0!==x?x:"",onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{edgeA:e.target.value||void 0})}))},style:gn(!0),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"\u2014"}),(0,Ce.jsx)("option",{value:"watson_crick",children:"watson_crick"}),(0,Ce.jsx)("option",{value:"hoogsteen",children:"hoogsteen"}),(0,Ce.jsx)("option",{value:"sugar_edge",children:"sugar_edge"})]}):(0,Ce.jsx)("span",{style:{fontSize:12,color:E.colors.text},children:hn(e)})}),(0,Ce.jsx)("td",{style:xn(130),children:p&&"custom"===h?(0,Ce.jsxs)("select",{value:null!==g&&void 0!==g?g:"",onChange:function(e){return Pe((function(n){return(0,a.Z)((0,a.Z)({},n),{},{edgeB:e.target.value||void 0})}))},style:gn(!0),children:[(0,Ce.jsx)("option",{value:"",hidden:!0,children:"\u2014"}),(0,Ce.jsx)("option",{value:"watson_crick",children:"watson_crick"}),(0,Ce.jsx)("option",{value:"hoogsteen",children:"hoogsteen"}),(0,Ce.jsx)("option",{value:"sugar_edge",children:"sugar_edge"})]}):(0,Ce.jsx)("span",{style:{fontSize:12,color:E.colors.text},children:vn(e)})}),(0,Ce.jsx)("td",{style:(0,a.Z)((0,a.Z)({},xn(70)),{},{textAlign:"center"}),children:d?(0,Ce.jsx)("span",{style:{fontSize:11,color:E.colors.textSecondary},children:"\u2014"}):p?(0,Ce.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:6},children:[(0,Ce.jsx)(dn,{title:"Save",onClick:function(){fn(e),Te((function(e){return!e}))},kind:"save",theme:E}),(0,Ce.jsx)(dn,{title:"Cancel",onClick:function(){return ye(null)},kind:"cancel",theme:E})]}):(0,Ce.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:6},children:[(0,Ce.jsx)(dn,{title:"Edit",onClick:function(){return cn(e)},kind:"edit",theme:E}),(0,Ce.jsx)(dn,{title:"Delete",onClick:function(){on(e),Te((function(e){return!e}))},kind:"delete",theme:E})]})})]},"".concat(f,":").concat(n))})),0===Ve.length&&(0,Ce.jsx)("tr",{children:(0,Ce.jsx)("td",{colSpan:10,style:{padding:16,textAlign:"center",color:E.colors.textSecondary},children:'No base pairs found. Use the "Add Base Pair" button above to create new ones.'})})]})]})]})]})},pn=c.memo(fn),hn=function(e){var n=e.rnaComplexProps,t=(0,c.useState)(!1),r=(0,s.Z)(t,2),o=r[0],a=r[1],d=(0,c.useState)(""),f=(0,s.Z)(d,2),p=f[0],h=f[1],v=(0,c.useState)([]),m=(0,s.Z)(v,2),x=m[0],g=m[1],y=(0,c.useState)(-1),b=(0,s.Z)(y,2),N=b[0],I=b[1],C=(0,c.useRef)(null),E=(0,c.useRef)(null),S=(0,c.useContext)(ue._.BasePair.SetKeysToEdit),P=(0,c.useContext)(ue._.Nucleotide.SetKeysToRerender),w=(0,c.useContext)(ue._.App.PushToUndoStack),A=(0,Se.Fg)().theme,T=(0,c.useMemo)((function(){return["add","delete","edit","reformat","color"]}),[]),_=(0,c.useMemo)((function(){var e=p.trim(),n=/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(?/.exec(e);if(!n)return null;switch(n[1].toLowerCase()){case"add":return{signature:"add(nt1_index:int, nt2_index:int, complex:str?, bp_type:str=auto, subtype:str?, length:int=\xb1n, safe:bool=True)",lines:["nt1_index: required integer (formatted index)","nt2_index: required integer (formatted index)","complex: optional string; required in multi-complex scenes","bp_type: 'auto'|'canonical'|'wobble'|'mismatch' (ignored if subtype provided)","subtype: optional custom directed type like cWW/tHS","length: positive \u2192 nt1++, nt2--; negative \u2192 nt1--, nt2++ (default 1)","safe: boolean (default True); True=error on duplicates, False=warn and add"]};case"delete":return{signature:"delete(nt1_index:int, nt2_index:int, complex:str?, length:int=\xb1n, safe:bool=True)",lines:["nt1_index, nt2_index: required integers","complex: optional string; required in multi-complex scenes","length: positive \u2192 nt1++, nt2--; negative \u2192 nt1--, nt2++","safe: boolean (default True); True=error if not found, False=warn and skip"]};case"edit":return{signature:"edit(nt1_index:int, nt2_index:int, complex:str?, bp_type:str, subtype:str?, length:int=\xb1n, safe:bool=True)",lines:["Requires bp_type or subtype","length: positive \u2192 nt1++, nt2--; negative \u2192 nt1--, nt2++","safe: True=error if not found, False=warn and create"]};case"reformat":return{signature:"reformat(start:int?, end:int?)",lines:["If both omitted: full reformat","If provided: repositions nucleotides only within [start, end]"]};case"color":return{signature:"color(target:int|string, color_value:string)",lines:["target: 'start-end' for a range, or single index; multiple segments separated by ';'","color_value: CSS color name or hex (e.g., 'red', '#FF0000')"]};default:return null}}),[p]);function j(e,n){g((function(t){return[].concat((0,i.Z)(t),[{ts:new Date,level:e,text:n}])}))}function O(e){if(e)for(var t=0,r=Object.entries(n);t<r.length;t++){var o=(0,s.Z)(r[t],2),a=o[0];if(o[1].name.toLowerCase()===e.toLowerCase())return parseInt(a)}else{var i=Object.keys(n);if(1===i.length)return parseInt(i[0])}}function Z(e,t){var r=n[e];if(r)for(var o=0,a=Object.entries(r.rnaMoleculeProps);o<a.length;o++){var i=(0,s.Z)(a[o],2),l=i[0],u=i[1];if(t-u.firstNucleotideIndex in u.nucleotideProps)return l}}function L(e,n,t,r,o){var a,i=null===(a=e.basePairs[n])||void 0===a?void 0:a[t];return!!i&&!!i.find((function(e){return e.rnaMoleculeName===r&&e.nucleotideIndex===o}))}function D(e){return e.replace(/^['"]|['"]$/g,"")}function F(){var e=p;if(e.trim()){j("command","> ".concat(e)),I(-1);try{var t=function(e){var n=e.trim(),t=/^([a-zA-Z_][a-zA-Z0-9_]*)\((.*)\)$/.exec(n);if(!t)return{error:"Syntax error: commands must be in form name(arg1, ..., key=value, ...)"};var r,o=t[1],a=t[2].trim(),i=a.length?a.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})):[],s=[],u={},c=(0,l.Z)(i);try{for(c.s();!(r=c.n()).done;){var d=r.value,f=d.indexOf("=");if(-1===f)s.push(d);else{var p=d.slice(0,f).trim(),h=d.slice(f+1).trim();if(!p)return{error:"Syntax error: empty parameter name"};u[p]=D(h)}}}catch(E){c.e(E)}finally{c.f()}var v=o.toLowerCase();if("reformat"===v){var m=void 0!==u.start?parseInt(u.start):void 0,x=void 0!==u.end?parseInt(u.end):void 0;return void 0!==u.start&&Number.isNaN(m)||void 0!==u.end&&Number.isNaN(x)?{error:"Type error: reformat parameters start/end must be integers"}:{kind:"reformat",start:m,end:x}}if("color"===v)return 2!==s.length?{error:"Syntax error: color(target, color_value)"}:{kind:"color",target:D(s[0]),color:D(s[1])};if("add"!==v&&"delete"!==v&&"edit"!==v)return{error:"Unknown command: ".concat(o)};if(s.length<2)return{error:"Syntax error: first two positional arguments must be nt1_index, nt2_index"};if(s.length>2)return{error:"Syntax error: too many positional arguments"};var g=parseInt(s[0]),y=parseInt(s[1]);if(Number.isNaN(g)||Number.isNaN(y))return{error:"Type error: nt1_index and nt2_index must be integers"};var b=u.complex,N=u.bp_type,I=u.subtype,C=void 0!==u.length?parseInt(u.length):1;return Number.isNaN(C)||0===C?{error:"Type error: length must be a non-zero integer"}:{kind:v,nt1:g,nt2:y,complexName:b,bpType:N,subtype:I,length:C,safe:void 0===u.safe||"true"===u.safe.toLowerCase()||"false"!==u.safe.toLowerCase()&&function(){throw new Error("Type error: safe must be true or false")}()}}(e);t.error?j("error",t.error):function(e){if("reformat"===e.kind){if(void 0===e.start&&void 0===e.end)window.dispatchEvent(new CustomEvent("triggerReformatAll")),j("success","Reformat triggered");else{var t=e.start,r=e.end;window.dispatchEvent(new CustomEvent("triggerReformatRange",{detail:{start:t,end:r}})),j("success","Reformat range ".concat(null!==t&&void 0!==t?t:"-\u221e","..").concat(null!==r&&void 0!==r?r:"+\u221e"," triggered"))}return}if("color"===e.kind){var o=O(void 0);if(void 0===o)return void j("error","Ambiguous complex: specify a single complex in scene to use color()");var a=n[o],i=e,c=i.target,d=i.color;try{var f=function(e){var n=e.trim().replace(/^['"]|['"]$/g,"");if(/^#?[0-9a-fA-F]{3,4}$/.test(n)||/^#?[0-9a-fA-F]{6}([0-9a-fA-F]{2})?$/.test(n)){var t=n.startsWith("#")?n:"#".concat(n);return(0,R.Jq)(t,void 0,R.pd.THROW_ERROR)}return(0,R.Jq)(n.toLowerCase(),void 0,R.pd.THROW_ERROR)}(d),p=function(e){var n=e.split(";").map((function(e){return e.trim()})).filter(Boolean);if(0===n.length)throw new Error("color(): target is empty");var t,r=[],o=(0,l.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(/^\d+$/.test(a)){var i=parseInt(a);r.push({start:i,end:i})}else{var s=/^(\d+)\s*-\s*(\d+)$/.exec(a);if(!s)throw new Error("color(): invalid target segment '".concat(a,"'"));var u=parseInt(s[1]),c=parseInt(s[2]),d=Math.min(u,c),f=Math.max(u,c);r.push({start:d,end:f})}}}catch(p){o.e(p)}finally{o.f()}return r}(c);w();for(var h=0,v=0,m=Object.entries(a.rnaMoleculeProps);v<m.length;v++)for(var x=(0,s.Z)(m[v],2),g=(x[0],x[1]),y=0,b=Object.entries(g.nucleotideProps);y<b.length;y++){var N=(0,s.Z)(b[y],2),I=N[0],C=N[1];if(z(parseInt(I)+g.firstNucleotideIndex,p)){var E;C.color=f;var A=null!==(E=C.labelContentProps)&&void 0!==E?E:{};A.color=f,C.labelContentProps=A,h++}}var T={};if(h>0){for(var _=0,D=Object.entries(a.rnaMoleculeProps);_<D.length;_++){for(var F=(0,s.Z)(D[_],2),B=F[0],W=F[1],U=[],G=0,H=Object.entries(W.nucleotideProps);G<H.length;G++){var K=(0,s.Z)(H[G],1)[0],V=parseInt(K);z(V+W.firstNucleotideIndex,p)&&U.push(V)}U.length&&(T[B]=U)}P((0,u.Z)({},o,T))}j("success","Applied color to ".concat(h," nucleotide(s)"))}catch(Ke){var q;j("error",null!==(q=null===Ke||void 0===Ke?void 0:Ke.message)&&void 0!==q?q:String(Ke))}return}var X=e,$=O(X.complexName);if(void 0===$){var Q;if(Object.keys(n).length>1&&!X.complexName)j("error","Ambiguous complex: specify complex=[name]");else j("error","Unknown complex: ".concat(null!==(Q=X.complexName)&&void 0!==Q?Q:"(unspecified)"));return}for(var Y=n[$],J=X.length>0?1:-1,ee=-J,ne=Math.abs(X.length),te=[],re=0;re<ne;re++){var oe=X.nt1+re*J,ae=X.nt2+re*ee,ie=Z($,oe),le=Z($,ae);if(ie&&le){var se=Y.rnaMoleculeProps[ie],ue=Y.rnaMoleculeProps[le],ce=oe-se.firstNucleotideIndex,de=ae-ue.firstNucleotideIndex;ce in se.nucleotideProps&&de in ue.nucleotideProps?te.push({idx1:oe,idx2:ae,mol0:ie,mol1:le,i0:ce,i1:de}):te.push({error:"Out of bounds: (".concat(oe,", ").concat(ae,")")})}else te.push({error:"Out of bounds: (".concat(oe,", ").concat(ae,")")})}var fe=te.find((function(e){return"error"in e}));if(fe)return void j("error",fe.error);var pe=void 0;if("delete"!==X.kind&&"custom_error"===(pe=function(e,n){if(n){var t=function(e){if(!/^[ct][WHS]{2}$/.test(e))return null;var n={W:"watson_crick",H:"hoogsteen",S:"sugar_edge"};return{orientation:"c"===e[0]?"cis":"trans",edgeA:n[e[1]],edgeB:n[e[2]]}}(n);if(!t)return"custom_error";var r=t.orientation,o=t.edgeA,a=t.edgeB;return"".concat(r,"_").concat(o,"_").concat(a)}switch((e||"auto").toLowerCase()){case"auto":return;case"canonical":return M.Ep.Type.CANONICAL;case"wobble":return M.Ep.Type.WOBBLE;case"mismatch":return M.Ep.Type.MISMATCH;default:return"custom_error"}}(X.bpType,X.subtype)))return void j("error","Invalid type: provide bp_type=[auto|canonical|wobble|mismatch] or subtype like cWW/tHS");if("add"===X.kind){if(X.safe){var he,ve=(0,l.Z)(te);try{for(ve.s();!(he=ve.n()).done;){var me=he.value;if(L(Y,me.mol0,me.i0,me.mol1,me.i1))return void j("error","Base pair already exists at (".concat(me.idx1,", ").concat(me.idx2,")"))}}catch(Ve){ve.e(Ve)}finally{ve.f()}}w();var xe,ge=[],ye=(0,l.Z)(te);try{for(ye.s();!(xe=ye.n()).done;){var be=xe.value;L(Y,be.mol0,be.i0,be.mol1,be.i1)&&!X.safe&&j("warning","Duplicate at (".concat(be.idx1,", ").concat(be.idx2,") \u2014 adding anyway")),(0,k.P3)(Y,be.mol0,be.i0,be.mol1,be.i1,k.GN.DO_NOTHING,{basePairType:pe});var Ne=[{rnaMoleculeName:be.mol0,nucleotideIndex:be.i0},{rnaMoleculeName:be.mol1,nucleotideIndex:be.i1}].sort(k.IK),Ie=(0,s.Z)(Ne,2),Ce=Ie[0],Ee=Ie[1];ge.push({keys0:Ce,keys1:Ee})}}catch(Ve){ye.e(Ve)}finally{ye.f()}return S((0,u.Z)({},$,{add:ge,delete:[]})),void j("success","Added ".concat(te.length," base pair(s)"))}if("delete"===X.kind){if(X.safe){var Se,Pe=(0,l.Z)(te);try{for(Pe.s();!(Se=Pe.n()).done;){var we=Se.value;if(!L(Y,we.mol0,we.i0,we.mol1,we.i1))return void j("error","No base pair at (".concat(we.idx1,", ").concat(we.idx2,")"))}}catch(Ve){Pe.e(Ve)}finally{Pe.f()}}w();var Ae,ke=[],Te=(0,l.Z)(te);try{var _e=function(){var e=Ae.value;if(!L(Y,e.mol0,e.i0,e.mol1,e.i1))return j("warning","No base pair at (".concat(e.idx1,", ").concat(e.idx2,") \u2014 skipping")),"continue";var n=Y.basePairs[e.mol0];if(n&&e.i0 in n){var t=n[e.i0],r=t.findIndex((function(n){return n.rnaMoleculeName===e.mol1&&n.nucleotideIndex===e.i1}));-1!==r&&(1===t.length?delete n[e.i0]:t.splice(r,1))}var o=Y.basePairs[e.mol1];if(o&&e.i1 in o){var a=o[e.i1],i=a.findIndex((function(n){return n.rnaMoleculeName===e.mol0&&n.nucleotideIndex===e.i0}));-1!==i&&(1===a.length?delete o[e.i1]:a.splice(i,1))}var l=[{rnaMoleculeName:e.mol0,nucleotideIndex:e.i0},{rnaMoleculeName:e.mol1,nucleotideIndex:e.i1}].sort(k.IK),u=(0,s.Z)(l,2),c=u[0],d=u[1];ke.push({keys0:c,keys1:d})};for(Te.s();!(Ae=Te.n()).done;)_e()}catch(Ve){Te.e(Ve)}finally{Te.f()}return ke.length&&S((0,u.Z)({},$,{add:[],delete:ke})),void j("success","Deleted ".concat(ke.length," base pair(s)"))}if("edit"===X.kind){if(void 0===pe)return void j("error","edit requires bp_type or subtype");var Me=pe;if(X.safe){var Re,je=(0,l.Z)(te);try{for(je.s();!(Re=je.n()).done;){var Oe=Re.value;if(!L(Y,Oe.mol0,Oe.i0,Oe.mol1,Oe.i1))return void j("error","No base pair at (".concat(Oe.idx1,", ").concat(Oe.idx2,")"))}}catch(Ve){je.e(Ve)}finally{je.f()}}w();var Ze,Le=[],De=[],Fe=(0,l.Z)(te);try{for(Fe.s();!(Ze=Fe.n()).done;){var Be=Ze.value,ze=L(Y,Be.mol0,Be.i0,Be.mol1,Be.i1);ze||X.safe||j("warning","No base pair at (".concat(Be.idx1,", ").concat(Be.idx2,") \u2014 creating new")),(0,k.P3)(Y,Be.mol0,Be.i0,Be.mol1,Be.i1,ze?k.GN.DELETE_PREVIOUS_MAPPING:k.GN.DO_NOTHING,{basePairType:Me});var We=[{rnaMoleculeName:Be.mol0,nucleotideIndex:Be.i0},{rnaMoleculeName:Be.mol1,nucleotideIndex:Be.i1}].sort(k.IK),Ue=(0,s.Z)(We,2),Ge=Ue[0],He=Ue[1];Le.push({keys0:Ge,keys1:He}),ze&&De.push({keys0:Ge,keys1:He})}}catch(Ve){Fe.e(Ve)}finally{Fe.f()}S((0,u.Z)({},$,{add:Le,delete:De})),j("success","Edited ".concat(te.length," base pair(s)"))}}(t)}catch(o){var r;j("error",null!==(r=null===o||void 0===o?void 0:o.message)&&void 0!==r?r:String(o))}finally{h("")}}}(0,c.useEffect)((function(){function e(e){"Backquote"===e.code&&(e.preventDefault(),a((function(e){return!e})))}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),(0,c.useEffect)((function(){o&&setTimeout((function(){var e;return null===(e=C.current)||void 0===e?void 0:e.focus()}),0)}),[o]),(0,c.useEffect)((function(){var e;null===(e=E.current)||void 0===e||e.scrollTo({top:E.current.scrollHeight})}),[x.length]);var B=(0,c.useMemo)((function(){var e=p.trim(),n=/^([a-zA-Z_]*)$/.exec(e),t=n?n[1]:"";return T.filter((function(e){return e.startsWith(t)})).slice(0,4)}),[p,T]);function z(e,n){var t,r=(0,l.Z)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(e>=o.start&&e<=o.end)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return o?(0,Ce.jsxs)("div",{style:{position:"fixed",left:0,right:0,bottom:0,height:260,background:A.colors.surface,color:A.colors.text,fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',borderTop:"1px solid ".concat(A.colors.border),boxShadow:A.shadows.lg,zIndex:2500,display:"flex",flexDirection:"column"},onClick:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.focus()},children:[(0,Ce.jsxs)("div",{style:{padding:"6px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid ".concat(A.colors.border)},children:[(0,Ce.jsx)("div",{style:{fontWeight:700,fontSize:A.typography.fontSize.sm,color:A.colors.primary},children:"XRNA Terminal"}),(0,Ce.jsx)("div",{style:{fontSize:A.typography.fontSize.xs,color:A.colors.textSecondary},children:"Press ~ to hide"})]}),(0,Ce.jsx)("div",{ref:E,style:{flex:1,overflowY:"auto",padding:"8px 10px"},children:x.map((function(e,n){return(0,Ce.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"baseline",whiteSpace:"pre-wrap"},children:[(0,Ce.jsxs)("span",{style:{color:A.colors.textSecondary,fontSize:A.typography.fontSize.xs},children:["[",W(e.ts),"]"]}),(0,Ce.jsx)("span",{style:{color:U(e.level)},children:e.text})]},n)}))}),(0,Ce.jsxs)("div",{style:{padding:"8px 10px",borderTop:"1px solid ".concat(A.colors.border)},children:[(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Ce.jsx)("span",{style:{color:A.colors.primary},children:">"}),(0,Ce.jsx)("input",{ref:C,value:p,onChange:function(e){return h(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),void F();if("ArrowUp"===e.key){var n;e.preventDefault();var t=x.filter((function(e){return"command"===e.level})).map((function(e){return e.text.slice(2)})),r=N<0?t.length-1:Math.max(0,N-1);return I(r),void h(null!==(n=t[r])&&void 0!==n?n:p)}if("ArrowDown"===e.key){var o;e.preventDefault();var a=x.filter((function(e){return"command"===e.level})).map((function(e){return e.text.slice(2)})),i=N<0?-1:Math.min(a.length-1,N+1);return I(i),void h(-1===i?"":null!==(o=a[i])&&void 0!==o?o:"")}if("Tab"!==e.key);else{e.preventDefault();var l=p.trim(),s=/^([a-zA-Z_]*)$/.exec(l);if(s){var u=s[1],c=T.find((function(e){return e.startsWith(u)}));c&&h(c+"()")}}},style:{flex:1,background:"transparent",border:"none",outline:"none",color:A.colors.text,fontFamily:"inherit",fontSize:A.typography.fontSize.md},placeholder:"add(1, 150, length=3)"})]}),(B.length>0||_)&&(0,Ce.jsxs)("div",{style:{marginTop:6},children:[B.length>0&&(0,Ce.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:_?6:0},children:B.map((function(e){return(0,Ce.jsx)("span",{style:{background:A.colors.surfaceHover,border:"1px solid ".concat(A.colors.border),borderRadius:A.borderRadius.md,padding:"2px 6px",fontSize:A.typography.fontSize.xs,color:A.colors.textSecondary},children:e},e)}))}),_&&(0,Ce.jsxs)("div",{style:{background:A.colors.backgroundSecondary,border:"1px solid ".concat(A.colors.border),borderRadius:A.borderRadius.md,padding:"6px 8px"},children:[(0,Ce.jsx)("div",{style:{fontSize:A.typography.fontSize.xs,color:A.colors.text,marginBottom:4},children:_.signature}),(0,Ce.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",rowGap:2},children:_.lines.map((function(e,n){return(0,Ce.jsxs)("div",{style:{fontSize:A.typography.fontSize.xs,color:A.colors.textSecondary},children:["- ",e]},n)}))})]})]})]})]}):(0,Ce.jsx)("div",{style:{display:"none"}});function W(e){var n=function(e){return e.toString().padStart(2,"0")};return"".concat(n(e.getHours()),":").concat(n(e.getMinutes()),":").concat(n(e.getSeconds()))}function U(e){switch(e){case"command":return A.colors.primary;case"error":return A.colors.error;case"warning":return A.colors.warning;case"success":return A.colors.success;default:return A.colors.text}}},vn=c.memo(hn),mn=function(e){var n=e.open,t=e.onClose,r=e.children,o=(0,Se.Fg)().theme;return(0,Ce.jsxs)("div",{style:{position:"fixed",top:56,right:0,height:"100%",width:"480px",background:o.colors.backgroundSecondary,transform:n?"translateX(0)":"translateX(100%)",transition:o.transitions.default,zIndex:2e3,display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(o.colors.border)},children:[(0,Ce.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid ".concat(o.colors.border),display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ce.jsx)("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:o.colors.primary}}),(0,Ce.jsx)("span",{style:{fontSize:o.typography.fontSize.sm,fontWeight:700,letterSpacing:"0.5px",textTransform:"uppercase",color:o.colors.text},children:"Properties Panel"})]}),(0,Ce.jsx)("button",{onClick:t,style:{border:"none",background:o.colors.surfaceHover,cursor:"pointer",fontSize:o.typography.fontSize.md,color:o.colors.text,padding:"6px 8px",borderRadius:o.borderRadius.md,width:"28px",height:"28px"},children:"\u2715"})]}),(0,Ce.jsx)("div",{style:{flex:1,overflow:"auto"},children:r})]})},xn=c.memo(mn);function gn(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nucleotide",r=e.rnaComplexIndex,o=e.rnaMoleculeName,a=e.nucleotideIndex;try{var l,s,u,c=n[r];if(!c)return{type:"unknown",rnaComplexIndex:r,rnaMoleculeName:o,nucleotideIndex:a};var d=null===(l=c.rnaMoleculeProps)||void 0===l?void 0:l[o];if(!d)return{type:"unknown",rnaComplexIndex:r,rnaMoleculeName:o,nucleotideIndex:a};var f=null===(s=d.nucleotideProps)||void 0===s?void 0:s[a];if(!f){var p=d.firstNucleotideIndex;if(void 0!==p&&!Number.isNaN(p)){var h,v=a-p;(f=null===(h=d.nucleotideProps)||void 0===h?void 0:h[v])&&(e.nucleotideIndex=v)}}if(!f){var m=d.firstNucleotideIndex;if(void 0!==m&&!Number.isNaN(m)){var x,g=a+m;f=null===(x=d.nucleotideProps)||void 0===x?void 0:x[g]}}if(!f)return{type:"unknown",rnaComplexIndex:r,rnaMoleculeName:o,nucleotideIndex:a};var y,b,N,I,C={type:t,nucleotideSymbol:f.symbol,nucleotideIndex:a,rnaComplexIndex:r,rnaMoleculeName:o,complexName:c.name||"Complex ".concat(r),moleculeName:o,position:{x:f.x||0,y:f.y||0}};if(f.color)C.color=(null===(y=(b=f.color).asHex)||void 0===y?void 0:y.call(b))||(null===(N=(I=f.color).toString)||void 0===N?void 0:N.call(I))||"Unknown";var E=null===(u=c.basePairs)||void 0===u?void 0:u[o];if(E){var S=E[a];if(S){var P,w,A=S.partnerMolecule||o,k=null===(P=c.rnaMoleculeProps)||void 0===P?void 0:P[A],T=null===k||void 0===k||null===(w=k.nucleotideProps)||void 0===w?void 0:w[S.partnerIndex];C.basePairType=S.type||"Watson-Crick",C.basePairPartner={nucleotideIndex:S.partnerIndex,nucleotideSymbol:null===T||void 0===T?void 0:T.symbol,rnaMoleculeName:A}}}C.structureInfo=function(e,n,t,r){try{var o,a=(null===(o=t.basePairs)||void 0===o?void 0:o[r])||{},l=n.nucleotideProps||{},s=a[e];if(s){for(var u=s.partnerIndex,c=e,d=e,f=u,p=u;c>1;){var h=a[c-1];if(!h||h.partnerIndex!==f+1)break;c--,f++}for(var v=Math.max.apply(Math,(0,i.Z)(Object.keys(l).map(Number)));d<v;){var m=a[d+1];if(!m||m.partnerIndex!==p-1)break;d++,p--}var x=d-c+1;if(x>=2){for(var g=0,y=c;y<=d;y++){var b=l[y];!b||"G"!==b.symbol&&"C"!==b.symbol||g++}var N=Math.round(g/x*100);return{type:x>=4?"helix":"stacked_helix",name:"Helix (".concat(c,"-").concat(d,")"),range:{start:c,end:d},helixInfo:{length:x,gcContent:N}}}}for(var I=e,C=e;I>1&&!a[I-1];)I--;for(var E=Math.max.apply(Math,(0,i.Z)(Object.keys(l).map(Number)));C<E&&!a[C+1];)C++;if(C>I){var S=C-I+1,P=a[I-1]||a[C+1],w="single_strand",A="Single Strand (".concat(I,"-").concat(C,")");return P&&(S<=3?(w="bulge",A="Bulge (".concat(I,"-").concat(C,")")):S<=10?(w="loop",A="Loop (".concat(I,"-").concat(C,")")):(w="junction",A="Junction (".concat(I,"-").concat(C,")"))),{type:w,name:A,range:{start:I,end:C}}}return{type:"unknown",name:"Unknown Structure"}}catch(k){return console.warn("Error detecting structure info:",k),{type:"unknown",name:"Unknown Structure"}}}(a,d,c,o),"label"===t&&f.labelContentProps&&(C.labelContent=f.labelContentProps.text||f.labelContentProps.content);var _,M={};if(f.labelLineProps)M.hasLabelLine=!0,M.labelLinePoints=(null===(_=f.labelLineProps.points)||void 0===_?void 0:_.length)||0;return f.labelContentProps&&(M.hasLabelContent=!0,f.labelContentProps.font&&(M.labelFont=f.labelContentProps.font)),Object.keys(M).length>0&&(C.additionalInfo=M),C}catch(R){return console.warn("Error extracting element info:",R),{type:"unknown",rnaComplexIndex:r,rnaMoleculeName:o,nucleotideIndex:a}}}for(var yn,bn,Nn=t(6902),In=(0,Pe.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Cn=(0,Pe.Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),En=(0,Pe.Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Sn=(0,Pe.Z)("file-down",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Pn=function(e){var n=e.value,t=e.options,r=e.onChange,o=e.theme,a=(0,c.useState)(!1),i=(0,s.Z)(a,2),l=i[0],u=i[1],d=(0,c.useState)(null),f=(0,s.Z)(d,2),p=f[0],h=f[1],v=(0,c.useRef)(null),m=t.find((function(e){return e.value===n}));return(0,c.useEffect)((function(){var e=function(e){v.current&&!v.current.contains(e.target)&&(u(!1),h(null))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]),(0,c.useEffect)((function(){l||h(null)}),[l]),(0,Ce.jsxs)("div",{ref:v,style:{position:"relative",minWidth:80},children:[(0,Ce.jsxs)("button",{onClick:function(){return u(!l)},style:{height:o.buttonSizes.md.height,padding:o.buttonSizes.md.padding,border:"1px solid ".concat(o.colors.border),borderRadius:o.buttonSizes.md.borderRadius,fontSize:o.buttonSizes.md.fontSize,background:o.colors.background,color:o.colors.text,cursor:"pointer",outline:"none",transition:o.transitions.default,fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeight.normal,display:"flex",alignItems:"center",justifyContent:"space-between",minWidth:"100%"},onFocus:function(e){e.currentTarget.style.borderColor=o.colors.primary,e.currentTarget.style.boxShadow="0 0 0 3px ".concat(o.colors.primary,"25")},onBlur:function(e){e.currentTarget.style.borderColor=o.colors.border,e.currentTarget.style.boxShadow="none"},children:[(0,Ce.jsx)("span",{children:(null===m||void 0===m?void 0:m.label)||"Select"}),(0,Ce.jsx)(In,{size:16,style:{transition:o.transitions.default,transform:l?"rotate(180deg)":"rotate(0deg)"}})]}),l&&(0,Ce.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:o.colors.surface,border:"1px solid ".concat(o.colors.border),borderRadius:o.borderRadius.md,boxShadow:o.shadows.lg,zIndex:1e3,maxHeight:240,overflowY:"auto",marginTop:4},children:t.map((function(e){return(0,Ce.jsx)("div",{onClick:function(){r(e.value),u(!1),h(null)},style:{padding:"8px 12px",cursor:"pointer",fontSize:o.typography.fontSize.sm,fontFamily:o.typography.fontFamily,borderBottom:"1px solid ".concat(o.colors.borderLight),transition:o.transitions.fast,background:e.value===n?o.colors.primary:"transparent",color:e.value===n?o.colors.textInverse:o.colors.text},onMouseEnter:function(t){if(e.value!==n&&(t.currentTarget.style.background=o.colors.surfaceHover),e.tooltip){var r=t.currentTarget.getBoundingClientRect();h({text:e.tooltip,x:Math.max(r.left+r.width/2,100),y:r.top-8})}},onMouseLeave:function(t){e.value!==n&&(t.currentTarget.style.background="transparent"),h(null)},children:e.label},e.value)}))}),p&&(0,Ce.jsxs)("div",{style:{position:"fixed",left:p.x,top:p.y,transform:"translateX(-50%) translateY(-100%)",background:o.colors.surface,color:o.colors.text,padding:"8px 12px",borderRadius:o.borderRadius.md,border:"1px solid ".concat(o.colors.border),boxShadow:o.shadows.lg,fontSize:o.typography.fontSize.sm,fontFamily:o.typography.fontFamily,whiteSpace:"nowrap",zIndex:1001,pointerEvents:"none"},children:[p.text,(0,Ce.jsx)("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid ".concat(o.colors.surface),filter:"drop-shadow(0 1px 1px ".concat(o.colors.border,")")}})]})]})},wn=(yn={},(0,u.Z)(yn,G.json,"Structured format, maximum support for all features"),(0,u.Z)(yn,G.bpseq,"Base Pair Sequence - No support for non-canonical base pairs"),(0,u.Z)(yn,G.svg,"Scalable Vector Graphics - Suitable for publications"),(0,u.Z)(yn,G.csv,"Comma Separated Values - No support for non-canonical base pairs"),(0,u.Z)(yn,G.tr,"Traveler Format - No support for non-canonical base pairs"),(0,u.Z)(yn,G.xrna,"XRNA native format - No support for non-canonical base pairs"),yn),An=H.map((function(e){return{value:e,label:e.toUpperCase(),tooltip:wn[e]||"Export as ".concat(e.toUpperCase()," format")}})),kn=56,Tn=function(e){var n=e.onOpenFile,t=e.onSave,r=e.onExportWithFormat,o=e.fileName,a=void 0===o?"":o,i=e.onFileNameChange,l=e.exportFormat,s=e.exportFormats,u=void 0===s?An:s,c=e.onExportFormatChange,d=e.downloadButtonReference,f=e.fileNameInputReference,p=(0,Se.Fg)().theme;return(0,Ce.jsxs)("div",{style:{position:"absolute",top:0,left:Vn,right:0,height:kn,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",background:p.colors.surface,borderBottom:"1px solid ".concat(p.colors.border),zIndex:1200,transition:p.transitions.default},children:[(0,Ce.jsx)("div",{style:{height:"4px",background:"linear-gradient(90deg, ".concat(p.colors.accent,", ").concat(p.colors.primary,")"),position:"absolute",top:0,left:0,right:0,zIndex:10}}),(0,Ce.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Ce.jsx)(Te.z,{label:"Open",onClick:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.click()},variant:"secondary",icon:(0,Ce.jsx)(Cn,{size:12})}),(0,Ce.jsx)("input",{ref:function(e){null!==e&&(f.current=e)},style:{display:"none"},type:"file",accept:oe.map((function(e){return".".concat(e)})).join(","),onChange:n,onClick:function(e){e.currentTarget.value=""}}),(0,Ce.jsx)("input",{type:"text",placeholder:"Filename",value:a,onChange:function(e){return null===i||void 0===i?void 0:i(e.target.value)},style:{height:p.buttonSizes.md.height,padding:p.buttonSizes.md.padding,border:"1px solid ".concat(p.colors.border),borderRadius:p.buttonSizes.md.borderRadius,fontSize:p.buttonSizes.md.fontSize,background:p.colors.background,color:p.colors.text,minWidth:180,transition:p.transitions.default},onFocus:function(e){e.currentTarget.style.borderColor=p.colors.primary,e.currentTarget.style.boxShadow="0 0 0 3px ".concat(p.colors.primary,"25")},onBlur:function(e){e.currentTarget.style.borderColor=p.colors.border,e.currentTarget.style.boxShadow="none"}}),(0,Ce.jsx)(Pn,{value:null!==l&&void 0!==l?l:"",options:u,onChange:function(e){return null===c||void 0===c?void 0:c(e)},theme:p}),(0,Ce.jsx)(Te.z,{label:"Save",onClick:t,variant:"secondary",icon:(0,Ce.jsx)(En,{size:12}),ref:d}),(0,Ce.jsx)(Te.z,{label:"Export",variant:"primary",icon:(0,Ce.jsx)(Sn,{size:12}),disabled:!a||!l,onClick:function(){l&&(null===r||void 0===r||r(a,l))}})]}),(0,Ce.jsx)(Nn.T,{})]})},_n=function(e){var n,t,r=e.mouseOverText,o=e.mouseOverTextDimensions,a=e.mouseUIPosition,i=e.parentDivResizeDetector,l=e.TOPBAR_HEIGHT,s=e.MOUSE_OVER_TEXT_FONT_SIZE,u=e.mouseOverTextSvgTextElementReference,d=(0,c.useMemo)((function(){return 0===r.length?null:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("rect",{x:0,y:0,width:o.width+16,height:o.height+16,fill:"#f8fafc",stroke:"#cbd5e1",rx:8,ry:8,strokeWidth:1.5}),(0,Ce.jsx)("text",{fill:"#1e293b",stroke:"none",x:8,y:8+s,ref:u,xmlSpace:"preserve",fontFamily:"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontSize:s,fontWeight:"500",children:r.split("\n").map((function(e,n){return(0,Ce.jsx)("tspan",{x:8,dy:0===n?0:1.4*s,children:e},n)}))})]})}),[r,o,s,u]),f=Math.max(0,Math.min(a.x+12,Math.max((null!==(n=i.width)&&void 0!==n?n:0)-Vn,0)-(o.width+12))),p=Math.max(0,Math.min(a.y+12,Math.max((null!==(t=i.height)&&void 0!==t?t:0)-l,0)-(o.height+12)));return(0,Ce.jsx)("g",{id:"structure-tooltip",style:{display:"inline",filter:"url(#xrTooltipShadow)"},transform:"translate(".concat(f,", ").concat(p,")"),children:d})},Mn=function(e){var n=e.settings,t=e.viewportWidth,r=e.viewportHeight,o=e.viewportScale,a=(0,Se.Fg)().isDarkMode,i=(n[se.pE.GRID_ENABLED],n[se.pE.GRID_HORIZONTAL_LINES]),l=n[se.pE.GRID_VERTICAL_LINES],s=n[se.pE.GRID_LEFT_RIGHT_DIAGONAL],u=n[se.pE.GRID_RIGHT_LEFT_DIAGONAL],d=n[se.pE.GRID_CONCENTRIC_CIRCLES],f=n[se.pE.GRID_DOTTED],p=n[se.pE.GRID_SPACING],h=n[se.pE.GRID_COLOR],v=(0,c.useMemo)((function(){return h||(a?"#E0E0E0":"#404040")}),[h,a]),m=Math.max(10,.5*p),x=Math.max(1,m*o),g=Math.max(.3,Math.max(.1,o)),y=(0,c.useMemo)((function(){if(x<=0)return{left:0,right:0,top:0,bottom:0};var e=.2*Math.max(t,r),n=-e,o=t+e,a=-e,i=r+e;return{left:Math.floor(n/x)*x,right:Math.ceil(o/x)*x,top:Math.floor(a/x)*x,bottom:Math.ceil(i/x)*x}}),[t,r,x]),b=(0,c.useMemo)((function(){if(!i)return[];for(var e=[],n=y.top;n<=y.bottom;n+=x)e.push((0,Ce.jsx)("line",{x1:y.left,y1:n,x2:y.right,y2:n,stroke:v,strokeWidth:g,opacity:.25},"h-".concat(n)));return e}),[i,y,x,v,g]),N=(0,c.useMemo)((function(){if(!l)return[];for(var e=[],n=y.left;n<=y.right;n+=x)e.push((0,Ce.jsx)("line",{x1:n,y1:y.top,x2:n,y2:y.bottom,stroke:v,strokeWidth:g,opacity:.25},"v-".concat(n)));return e}),[l,y,x,v,g]),I=(0,c.useMemo)((function(){if(!s)return[];for(var e=x*Math.sqrt(2),n=Math.max(t,r),o=y.left-n,a=y.right+n,i=[],l=0;l<=a-o;l+=e){var u=o+l,c=y.top,d=u+n,f=y.bottom;i.push((0,Ce.jsx)("line",{x1:u,y1:c,x2:d,y2:f,stroke:v,strokeWidth:g,opacity:.15},"lr-".concat(l)))}return i}),[s,y,x,v,g,t,r]),C=(0,c.useMemo)((function(){if(!u)return[];for(var e=x*Math.sqrt(2),n=Math.max(t,r),o=y.left-n,a=y.right+n,i=[],l=0;l<=a-o;l+=e){var s=o+l,c=y.bottom,d=s+n,f=y.top;i.push((0,Ce.jsx)("line",{x1:s,y1:c,x2:d,y2:f,stroke:v,strokeWidth:g,opacity:.15},"rl-".concat(l)))}return i}),[u,y,x,v,g,t,r]),E=(0,c.useMemo)((function(){if(!d)return[];for(var e=t/2,n=r/2,o=.6*Math.max(t,r),a=[],i=x;i<=o;i+=x)a.push((0,Ce.jsx)("circle",{cx:e,cy:n,r:i,stroke:v,strokeWidth:g,fill:"none",opacity:.15},"c-".concat(i)));return a}),[d,x,v,g,t,r]),S=(0,c.useMemo)((function(){if(!f)return[];for(var e=[],n=2*x,o=1.5*Math.max(t,r),a=-o;a<=o;a+=n){var i=a,l=a+o,s=o;e.push((0,Ce.jsx)("line",{x1:i,y1:0,x2:l,y2:s,stroke:v,strokeWidth:.5*g,opacity:.1},"cross-lr-".concat(a)))}for(var u=-o;u<=o;u+=n){var c=u,d=o,p=u+o;e.push((0,Ce.jsx)("line",{x1:c,y1:d,x2:p,y2:0,stroke:v,strokeWidth:.5*g,opacity:.1},"cross-rl-".concat(u)))}return e}),[f,x,v,g,t,r]);return i||l||s||u||d||f?(0,Ce.jsxs)("g",{id:"canvas-grid","data-theme-ignore":!0,pointerEvents:"none",children:[b,N,I,C,E,S]}):null},Rn=(0,Pe.Z)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),jn=(0,Pe.Z)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),On=(0,Pe.Z)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),Zn=(0,Pe.Z)("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),Ln=(0,Pe.Z)("move-horizontal",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]]),Dn=(0,Pe.Z)("move-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]),Fn=(0,Pe.Z)("move-up-left",[["path",{d:"M5 11V5H11",key:"3q78g9"}],["path",{d:"M5 5L19 19",key:"5zm2fv"}]]),Bn=(0,Pe.Z)("move-up-right",[["path",{d:"M13 5H19V11",key:"1n1gyv"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]]),zn=function(e){var n=e.settings,t=e.setSettings,r=e.onZoomIn,o=e.onZoomOut,i=e.onResetViewport,l=e.position,d=void 0===l?{top:80,right:20}:l,f=(0,Se.Fg)(),p=f.theme,h=f.isDarkMode,v=(0,c.useState)(!1),m=(0,s.Z)(v,2),x=m[0],g=m[1],y=function(){return g(!x)},b=function(e,r){t((0,a.Z)((0,a.Z)({},n),{},(0,u.Z)({},e,r)))},N=function(e){var n=e.currentColor,t=e.onColorChange,r=e.label,o=(0,c.useState)(!1),a=(0,s.Z)(o,2),i=a[0],l=a[1],u=(0,c.useState)(n||"#808080"),d=(0,s.Z)(u,2),f=d[0],v=d[1],m=(0,c.useRef)(null);if((0,c.useEffect)((function(){if(i){var e=function(e){m.current&&(m.current.contains(e.target)||l(!1))};return document.addEventListener("mousedown",e),setTimeout((function(){var e;return null===(e=m.current)||void 0===e?void 0:e.focus()}),0),function(){return document.removeEventListener("mousedown",e)}}}),[i]),"Grid Lines"===r){var x=h?["#FFB3BA","#BAFFC9","#BAE1FF","#FFFFBA"]:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"];return(0,Ce.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ce.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:(0,Ce.jsx)("label",{style:{color:p.colors.text,fontSize:"13px"},children:r})}),(0,Ce.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"8px"},children:[(0,Ce.jsxs)("div",{style:{position:"relative"},children:[(0,Ce.jsx)("button",{onClick:function(){i?l(!1):(v(n&&/^#([0-9A-Fa-f]{3}){1,2}$/.test(n)?n:h?"#E0E0E0":"#404040"),l(!0))},title:"Pick custom color",style:{width:"24px",height:"24px",borderRadius:"6px",background:n||"transparent",border:"2px solid ".concat(i?"#007AFF":p.colors.border),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:p.colors.textSecondary,cursor:"pointer",transition:"all 0.2s ease"},children:n?"":"..."}),i&&(0,Ce.jsxs)("div",{ref:m,style:{position:"absolute",top:"32px",left:0,background:p.colors.surface,border:"1px solid ".concat(p.colors.border),borderRadius:"10px",padding:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.2)",zIndex:2e3,minWidth:"200px"},tabIndex:-1,onKeyDown:function(e){if("Escape"===e.key&&l(!1),"Enter"===e.key){var n=/^#([0-9A-Fa-f]{3}){1,2}$/.test(f)?f:h?"#E0E0E0":"#404040";t(n),l(!1)}},children:[(0,Ce.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"12px"},children:[(0,Ce.jsx)("input",{type:"color",value:/^#([0-9A-Fa-f]{3}){1,2}$/.test(f)?f:"#808080",onChange:function(e){return v(e.target.value)},style:{width:"40px",height:"32px",border:"none",padding:0,background:"transparent",cursor:"pointer"}}),(0,Ce.jsx)("input",{type:"text",value:f,onChange:function(e){return v(e.target.value)},placeholder:"#RRGGBB",style:{flex:1,padding:"8px 10px",borderRadius:"8px",border:"1px solid ".concat(p.colors.border),background:p.colors.surface,color:p.colors.text,fontSize:"12px"}})]}),(0,Ce.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,Ce.jsx)("button",{onClick:function(){return l(!1)},style:{padding:"6px 10px",borderRadius:"8px",border:"1px solid ".concat(p.colors.border),background:p.colors.surface,color:p.colors.textSecondary,cursor:"pointer",fontSize:"12px"},children:"Cancel"}),(0,Ce.jsx)("button",{onClick:function(){var e=/^#([0-9A-Fa-f]{3}){1,2}$/.test(f)?f:h?"#E0E0E0":"#404040";t(e),l(!1)},style:{padding:"6px 10px",borderRadius:"8px",border:"1px solid ".concat(p.colors.primary),background:p.colors.primary,color:"#FFFFFF",cursor:"pointer",fontSize:"12px",fontWeight:600},children:"OK"})]})]})]}),x.map((function(e){return(0,Ce.jsx)("button",{onClick:function(){t(e),i&&l(!1)},style:{width:"24px",height:"24px",background:e,border:"2px solid ".concat(n===e?"#007AFF":"transparent"),borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease"},title:e},e)}))]})]})}var g=h?["#E0E0E0","#B0B0B0","#808080","#404040"]:["#404040","#606060","#808080","#A0A0A0"];return(0,Ce.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ce.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:(0,Ce.jsx)("label",{style:{color:p.colors.text,fontSize:"13px"},children:r})}),(0,Ce.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"8px"},children:[(0,Ce.jsxs)("div",{style:{position:"relative"},children:[(0,Ce.jsx)("button",{onClick:function(){i?l(!1):(v(n&&/^#([0-9A-Fa-f]{3}){1,2}$/.test(n)?n:h?"#E0E0E0":"#404040"),l(!0))},title:"Pick custom color",style:{width:"24px",height:"24px",borderRadius:"6px",background:n||"transparent",border:"2px solid ".concat(i?"#007AFF":p.colors.border),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:p.colors.textSecondary,cursor:"pointer",transition:"all 0.2s ease"},children:n?"":"..."}),i&&(0,Ce.jsxs)("div",{ref:m,style:{position:"absolute",top:"32px",left:0,background:p.colors.surface,border:"1px solid ".concat(p.colors.border),borderRadius:"10px",padding:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.2)",zIndex:2e3,minWidth:"200px"},tabIndex:-1,onKeyDown:function(e){if("Escape"===e.key&&l(!1),"Enter"===e.key){var n=/^#([0-9A-Fa-f]{3}){1,2}$/.test(f)?f:h?"#E0E0E0":"#404040";t(n),l(!1)}},children:[(0,Ce.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"12px"},children:[(0,Ce.jsx)("input",{type:"color",value:/^#([0-9A-Fa-f]{3}){1,2}$/.test(f)?f:"#808080",onChange:function(e){return v(e.target.value)},style:{width:"40px",height:"32px",border:"none",padding:0,background:"transparent",cursor:"pointer"}}),(0,Ce.jsx)("input",{type:"text",value:f,onChange:function(e){return v(e.target.value)},placeholder:"#RRGGBB",style:{flex:1,padding:"8px 10px",borderRadius:"8px",border:"1px solid ".concat(p.colors.border),background:p.colors.surface,color:p.colors.text,fontSize:"12px"}})]}),(0,Ce.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,Ce.jsx)("button",{onClick:function(){return l(!1)},style:{padding:"6px 10px",borderRadius:"8px",border:"1px solid ".concat(p.colors.border),background:p.colors.surface,color:p.colors.textSecondary,cursor:"pointer",fontSize:"12px"},children:"Cancel"}),(0,Ce.jsx)("button",{onClick:function(){var e=/^#([0-9A-Fa-f]{3}){1,2}$/.test(f)?f:h?"#E0E0E0":"#404040";t(e),l(!1)},style:{padding:"6px 10px",borderRadius:"8px",border:"1px solid ".concat(p.colors.primary),background:p.colors.primary,color:"#FFFFFF",cursor:"pointer",fontSize:"12px",fontWeight:600},children:"OK"})]})]})]}),g.map((function(e){return(0,Ce.jsx)("button",{onClick:function(){t(e),i&&l(!1)},style:{width:"24px",height:"24px",background:e,border:"2px solid ".concat(n===e?"#007AFF":"transparent"),borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease"},title:e},e)}))]})]})},I=function(e){var r=e.setting,o=e.icon,i=e.label,l=e.isActive,s=e.onMouseEnter,c=e.onMouseLeave;return(0,Ce.jsxs)("button",{onClick:function(){return function(e){t((0,a.Z)((0,a.Z)({},n),{},(0,u.Z)({},e,!n[e])))}(r)},onMouseEnter:s,onMouseLeave:c,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"8px",borderRadius:"8px",border:"none",background:l?p.colors.primary:"transparent",color:l?"#FFFFFF":p.colors.text,cursor:"pointer",transition:"all 0.2s ease",minWidth:"48px",minHeight:"48px",justifyContent:"center"},title:i,children:[(0,Ce.jsx)(o,{size:20}),(0,Ce.jsx)("span",{style:{fontSize:"10px",textAlign:"center"},children:i})]})};return(0,Ce.jsxs)("div",{style:{position:"absolute",top:d.top,right:d.right,zIndex:1e3,display:"flex",flexDirection:"column",gap:"12px",alignItems:"flex-end"},children:[(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[(0,Ce.jsx)("button",{onClick:r,style:{width:"35px",height:"35px",borderRadius:"50%",border:"none",background:p.colors.surface,color:p.colors.text,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transition:"all 0.2s ease"},title:"Zoom In",children:(0,Ce.jsx)(Rn,{size:20})}),(0,Ce.jsx)("button",{onClick:o,style:{width:"35px",height:"35px",borderRadius:"50%",border:"none",background:p.colors.surface,color:p.colors.text,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transition:"all 0.2s ease"},title:"Zoom Out",children:(0,Ce.jsx)(jn,{size:20})}),(0,Ce.jsx)("button",{onClick:i,style:{width:"35px",height:"35px",borderRadius:"50%",border:"none",background:p.colors.surface,color:p.colors.text,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transition:"all 0.2s ease"},title:"Reset View",children:(0,Ce.jsx)(Ze,{size:20})})]}),(0,Ce.jsxs)("div",{style:{position:"relative"},children:[(0,Ce.jsx)("button",{onClick:y,style:{width:"35px",height:"35px",borderRadius:"50%",border:"none",background:p.colors.primary,color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",transition:"all 0.2s ease",transform:x?"rotate(90deg)":"rotate(0deg)"},title:"View Settings",children:(0,Ce.jsx)(Ve,{size:20})}),x&&(0,Ce.jsxs)("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"12px",background:p.colors.surface,border:"1px solid ".concat(p.colors.border),borderRadius:"16px",padding:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",minWidth:"320px",zIndex:1e3},children:[(0,Ce.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ce.jsx)("h3",{style:{margin:0,color:p.colors.text,fontSize:"18px",fontWeight:"600"},children:"View Settings"}),(0,Ce.jsx)("button",{onClick:y,style:{background:"none",border:"none",color:p.colors.text,cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Ce.jsx)(Qe.Z,{size:20})})]}),(0,Ce.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ce.jsx)("h4",{style:{margin:"0 0 12px 0",color:p.colors.text,fontSize:"14px",fontWeight:"500"},children:"Layout modes"}),(0,Ce.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",padding:"4px",background:p.colors.backgroundSecondary,borderRadius:"10px"},children:[(0,Ce.jsxs)("button",{onClick:function(){return t((0,a.Z)((0,a.Z)({},n),{},(0,u.Z)({},se.pE.PATH_MODE,!1)))},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px 12px",borderRadius:"8px",border:"none",background:n[se.pE.PATH_MODE]?"transparent":p.colors.primary,color:n[se.pE.PATH_MODE]?p.colors.text:"#FFFFFF",cursor:"pointer",transition:"all 0.2s ease",fontSize:"13px",fontWeight:"600"},title:"Show nucleotide sequence text",children:[(0,Ce.jsx)(On,{size:16}),"Sequence"]}),(0,Ce.jsxs)("button",{onClick:function(){return t((0,a.Z)((0,a.Z)({},n),{},(0,u.Z)({},se.pE.PATH_MODE,!0)))},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px 12px",borderRadius:"8px",border:"none",background:n[se.pE.PATH_MODE]?p.colors.primary:"transparent",color:n[se.pE.PATH_MODE]?"#FFFFFF":p.colors.text,cursor:"pointer",transition:"all 0.2s ease",fontSize:"13px",fontWeight:"600"},title:"Show path lines tracing nucleotide centers",children:[(0,Ce.jsx)(Zn,{size:16}),"Path"]})]}),(0,Ce.jsx)("p",{style:{margin:"8px 0 0 0",color:p.colors.textSecondary,fontSize:"11px",lineHeight:"1.4"},children:n[se.pE.PATH_MODE]?"Path mode shows lines tracing nucleotide centers for an abstracted view of larger structures.":"Sequence mode displays nucleotide text with full details."})]}),(0,Ce.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ce.jsx)("h4",{style:{margin:"0 0 12px 0",color:p.colors.text,fontSize:"14px",fontWeight:"500"},children:"Grid Types"}),(0,Ce.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[(0,Ce.jsx)(I,{setting:se.pE.GRID_HORIZONTAL_LINES,icon:Ln,label:"Horizontal",isActive:n[se.pE.GRID_HORIZONTAL_LINES],onMouseEnter:function(){},onMouseLeave:function(){}}),(0,Ce.jsx)(I,{setting:se.pE.GRID_VERTICAL_LINES,icon:Dn,label:"Vertical",isActive:n[se.pE.GRID_VERTICAL_LINES],onMouseEnter:function(){},onMouseLeave:function(){}}),(0,Ce.jsx)(I,{setting:se.pE.GRID_LEFT_RIGHT_DIAGONAL,icon:Fn,label:"LR Diagonal",isActive:n[se.pE.GRID_LEFT_RIGHT_DIAGONAL],onMouseEnter:function(){},onMouseLeave:function(){}}),(0,Ce.jsx)(I,{setting:se.pE.GRID_RIGHT_LEFT_DIAGONAL,icon:Bn,label:"RL Diagonal",isActive:n[se.pE.GRID_RIGHT_LEFT_DIAGONAL],onMouseEnter:function(){},onMouseLeave:function(){}}),(0,Ce.jsx)(I,{setting:se.pE.GRID_CONCENTRIC_CIRCLES,icon:We,label:"Circles",isActive:n[se.pE.GRID_CONCENTRIC_CIRCLES],onMouseEnter:function(){},onMouseLeave:function(){}}),(0,Ce.jsxs)("button",{onClick:function(){var e,r=(e={},(0,u.Z)(e,se.pE.GRID_ENABLED,se.Z[se.pE.GRID_ENABLED]),(0,u.Z)(e,se.pE.GRID_HORIZONTAL_LINES,se.Z[se.pE.GRID_HORIZONTAL_LINES]),(0,u.Z)(e,se.pE.GRID_VERTICAL_LINES,se.Z[se.pE.GRID_VERTICAL_LINES]),(0,u.Z)(e,se.pE.GRID_LEFT_RIGHT_DIAGONAL,se.Z[se.pE.GRID_LEFT_RIGHT_DIAGONAL]),(0,u.Z)(e,se.pE.GRID_RIGHT_LEFT_DIAGONAL,se.Z[se.pE.GRID_RIGHT_LEFT_DIAGONAL]),(0,u.Z)(e,se.pE.GRID_CONCENTRIC_CIRCLES,se.Z[se.pE.GRID_CONCENTRIC_CIRCLES]),(0,u.Z)(e,se.pE.GRID_DOTTED,se.Z[se.pE.GRID_DOTTED]),(0,u.Z)(e,se.pE.GRID_SPACING,se.Z[se.pE.GRID_SPACING]),(0,u.Z)(e,se.pE.GRID_COLOR,se.Z[se.pE.GRID_COLOR]),(0,u.Z)(e,se.pE.CANVAS_COLOR,se.Z[se.pE.CANVAS_COLOR]),e);t((0,a.Z)((0,a.Z)({},n),r))},onMouseEnter:function(e){e.currentTarget.style.background=p.colors.surfaceHover,e.currentTarget.style.borderColor=p.colors.borderDark,e.currentTarget.style.color=p.colors.text},onMouseLeave:function(e){e.currentTarget.style.background=p.colors.surface,e.currentTarget.style.borderColor=p.colors.border,e.currentTarget.style.color=p.colors.textSecondary},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"8px",borderRadius:"8px",border:"none",background:"transparent",color:p.colors.textSecondary,cursor:"pointer",transition:"all 0.2s ease",minWidth:"48px",minHeight:"48px",justifyContent:"center"},title:"Reset all canvas and grid settings to default",children:[(0,Ce.jsx)(Ze,{size:20}),(0,Ce.jsx)("span",{style:{fontSize:"10px",textAlign:"center"},children:"Reset"})]})]})]}),(0,Ce.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ce.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Ce.jsx)("label",{style:{color:p.colors.text,fontSize:"14px",fontWeight:"500"},children:"Grid Spacing"}),(0,Ce.jsx)("span",{style:{color:p.colors.textSecondary,fontSize:"12px"},children:n[se.pE.GRID_SPACING]})]}),(0,Ce.jsx)("input",{type:"range",min:"5",max:"100",step:"2",value:n[se.pE.GRID_SPACING],onChange:function(e){return t((0,a.Z)((0,a.Z)({},n),{},(0,u.Z)({},se.pE.GRID_SPACING,parseInt(e.target.value))))},style:{width:"100%",height:"6px",borderRadius:"3px",background:p.colors.border,outline:"none",cursor:"pointer"}})]}),(0,Ce.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Ce.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:(0,Ce.jsx)("h4",{style:{margin:0,color:p.colors.text,fontSize:"14px",fontWeight:"500"},children:"Colors"})}),(0,Ce.jsx)(N,{currentColor:n[se.pE.CANVAS_COLOR],onColorChange:function(e){return b(se.pE.CANVAS_COLOR,e)},label:"Canvas Background"}),(0,Ce.jsx)(N,{currentColor:n[se.pE.GRID_COLOR],onColorChange:function(e){return b(se.pE.GRID_COLOR,e)},label:"Grid Lines"})]})]})]})]})},Wn=c.memo(zn),Un={},Gn=-50;Gn<=50;Gn++)Un[Gn]=Math.pow(O._h,Gn);var Hn,Kn={top:80,right:17},Vn=420,qn="viewport",Xn="testSpace",$n="mouse_over_text_group",Qn="svg_background",Yn="svg_scene_group",Jn="nucleotide",et="basePair",nt="label",tt="noStroke",rt="|",ot=function(e){return e.IndicesOfFrozenNucleotides="IndicesOfFrozenNucleotides",e.RnaComplexProps="RnaComplexProps",e}(ot||{}),at=function(e){return e.URL_PARSING_ERROR="URL parsing error",e.NO_DATA="No data",e.DATA_IS_LOADING="Data is loading",e.DATA_IS_LOADED="Data is loaded",e.DATA_LOADING_FAILED="Data loading failed",e}(at||{}),it=(bn={},(0,u.Z)(bn,d.OK.EDIT,"red"),(0,u.Z)(bn,d.OK.FORMAT,"blue"),(0,u.Z)(bn,d.OK.ANNOTATE,"rgb(0,110,51)"),bn);(Hn||(Hn={})).Component=function(e){var n,t,p,h,v,m,x=e.r2dtLegacyVersionFlag,g=(0,c.useState)(""),y=(0,s.Z)(g,2),N=y[0],C=y[1],E=(0,c.useState)({}),S=(0,s.Z)(E,2),A=S[0],T=S[1],_=(0,c.useState)(0),j=(0,s.Z)(_,2),Z=j[0],L=j[1],D=(0,c.useState)(""),F=(0,s.Z)(D,2),B=(F[0],F[1]),W=(0,c.useState)(""),U=(0,s.Z)(W,2),G=U[0],H=U[1],q=(0,c.useState)(void 0),X=(0,s.Z)(q,2),$=X[0],Q=X[1],Y=(0,c.useState)({x:0,y:0,width:1,height:1}),J=(0,s.Z)(Y,2),ee=J[0],ne=J[1],te=(0,c.useState)({}),oe=(0,s.Z)(te,2),xe=oe[0],ge=oe[1],ye=(0,c.useState)(!1),be=(0,s.Z)(ye,2),Ne=be[0],Ie=(be[1],(0,c.useState)({})),Se=(0,s.Z)(Ie,2),Pe=Se[0],we=Se[1],Ae=(0,c.useState)([]),ke=(0,s.Z)(Ae,2),Te=ke[0],_e=ke[1],Me=(0,c.useState)([]),Re=(0,s.Z)(Me,2),je=Re[0],Oe=Re[1],Ze=(0,c.useState)(d.OK.EDIT),Le=(0,s.Z)(Ze,2),De=Le[0],Fe=Le[1],Be=(0,c.useRef)(d.OK.EDIT);(0,c.useEffect)((function(){Be.current=De}),[De]),(0,c.useEffect)((function(){var e=function(e){if("f"===e.key||"F"===e.key){var n=e.target;if("INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable)return;e.preventDefault();var t=Zo.current,r=Oo.current;if(!(Object.keys(t).length>0))return;for(var o=!1,a=0,u=Object.entries(t);a<u.length;a++){var c=(0,s.Z)(u[a],2),d=c[0],f=c[1],p=Number.parseInt(d);if(p in r)for(var h=0,v=Object.entries(f);h<v.length;h++){var m=(0,s.Z)(v[h],2),x=m[0],g=m[1];if(x in r[p]){var y,b=(0,l.Z)(g);try{for(b.s();!(y=b.n()).done;){var N=y.value;if(r[p][x].has(N)){o=!0;break}}}catch(J){b.e(J)}finally{b.f()}}if(o)break}if(o)break}if(o){for(var I=structuredClone(r),C=0,E=Object.entries(t);C<E.length;C++){var S=(0,s.Z)(E[C],2),P=S[0],w=S[1],A=Number.parseInt(P);if(A in I){for(var k=0,T=Object.entries(w);k<T.length;k++){var _=(0,s.Z)(T[k],2),M=_[0],R=_[1];if(M in I[A]){var j,O=(0,l.Z)(R);try{for(O.s();!(j=O.n()).done;){var Z=j.value;I[A][M].delete(Z)}}catch(J){O.e(J)}finally{O.f()}0===I[A][M].size&&delete I[A][M]}}0===Object.keys(I[A]).length&&delete I[A]}}we(I)}else{for(var L=structuredClone(r),D=0,F=Object.entries(t);D<F.length;D++){var B=(0,s.Z)(F[D],2),z=B[0],W=B[1],U=Number.parseInt(z);U in L||(L[U]={});for(var G=0,H=Object.entries(W);G<H.length;G++){var K=(0,s.Z)(H[G],2),V=K[0],q=K[1];V in L[U]||(L[U][V]=new Set);var X,$=(0,l.Z)(q);try{for($.s();!(X=$.n()).done;){var Q=X.value;L[U][V].add(Q)}}catch(J){$.e(J)}finally{$.f()}}}we(L)}var Y=Lo.current;_e([].concat((0,i.Z)(Y),[{data:structuredClone(r),dataType:ot.IndicesOfFrozenNucleotides}])),Oe([])}};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var ze=(0,c.useState)(de.Uq.Enum.SINGLE_NUCLEOTIDE),We=(0,s.Z)(ze,2),Ue=We[0],Ge=We[1],He=(0,c.useState)(se.Z),Ke=(0,s.Z)(He,2),Ve=Ke[0],qe=Ke[1],Xe=(0,c.useState)((0,Ce.jsx)(Ce.Fragment,{})),Qe=(0,s.Z)(Xe,2),Ye=Qe[0],Je=Qe[1],nn=(0,c.useState)({}),tn=(0,s.Z)(nn,2),on=tn[0],an=tn[1],ln=(0,c.useState)({}),sn=(0,s.Z)(ln,2),un=sn[0],cn=sn[1],dn=(0,c.useState)(at.NO_DATA),fn=(0,s.Z)(dn,2),hn=fn[0],mn=fn[1],yn=(0,c.useState)(""),bn=(0,s.Z)(yn,2),Nn=bn[0],In=bn[1],Cn=(0,c.useState)({width:0,height:0}),En=(0,s.Z)(Cn,2),Sn=En[0],Pn=En[1],wn=(0,c.useState)({x:0,y:0}),An=(0,s.Z)(wn,2),Rn=An[0],jn=An[1],On=(0,c.useState)({x:0,y:0}),Zn=(0,s.Z)(On,2),Ln=Zn[0],Dn=Zn[1],Fn=(0,c.useState)(void 0),Bn=(0,s.Z)(Fn,2),zn=Bn[0],Gn=Bn[1],Hn=(0,c.useState)({x:0,y:0}),$n=(0,s.Z)(Hn,2),rt=$n[0],lt=$n[1],st=(0,c.useState)(null),ut=(0,s.Z)(st,2),ct=ut[0],dt=ut[1],ft=(0,c.useState)(!1),pt=(0,s.Z)(ft,2),ht=pt[0],vt=pt[1],mt=(0,c.useState)(""),xt=(0,s.Z)(mt,2),gt=xt[0],yt=xt[1],bt=(0,c.useState)(""),Nt=(0,s.Z)(bt,2),It=(Nt[0],Nt[1]),Ct=(0,c.useState)(""),Et=(0,s.Z)(Ct,2),St=Et[0],Pt=Et[1],wt=(0,c.useState)(""),At=(0,s.Z)(wt,2),kt=At[0],Tt=At[1],_t=(0,c.useState)(de.Uq.DEFAULT_OPTIONS),Mt=(0,s.Z)(_t,2),Rt=Mt[0],jt=Mt[1],Ot=(0,c.useState)((0,Ce.jsx)(Ce.Fragment,{})),Zt=(0,s.Z)(Ot,2),Lt=Zt[0],Dt=(Zt[1],(0,c.useState)({})),Ft=(0,s.Z)(Dt,2),Bt=Ft[0],zt=Ft[1],Wt=(0,c.useState)({}),Ut=(0,s.Z)(Wt,2),Gt=Ut[0],Ht=Ut[1],Kt=(0,c.useState)({}),Vt=(0,s.Z)(Kt,2),qt=Vt[0],Xt=Vt[1],$t=(0,c.useState)({}),Qt=(0,s.Z)($t,2),Yt=Qt[0],Jt=Qt[1],er=(0,c.useState)(""),nr=(0,s.Z)(er,2),tr=(nr[0],nr[1]),rr=(0,c.useState)(void 0),or=(0,s.Z)(rr,2),ar=or[0],ir=or[1],lr=(0,c.useState)(0),sr=(0,s.Z)(lr,2),ur=sr[0],cr=sr[1],dr=(0,c.useState)(0),fr=(0,s.Z)(dr,2),pr=fr[0],hr=fr[1],vr=(0,c.useState)(1),mr=(0,s.Z)(vr,2),xr=mr[0],gr=mr[1],yr=(0,c.useState)(0),br=(0,s.Z)(yr,2),Nr=br[0],Ir=br[1],Cr=(0,c.useState)([]),Er=(0,s.Z)(Cr,2),Sr=Er[0],Pr=Er[1],wr=(0,c.useState)(void 0),Ar=(0,s.Z)(wr,2),kr=Ar[0],Tr=Ar[1],_r=(0,c.useState)(0),Mr=(0,s.Z)(_r,2),Rr=Mr[0],jr=Mr[1],Or=function(e){return e.NONE="none",e.PROPERTIES="properties",e.BASEPAIR="basepair",e.BASE_PAIR_EDITOR="basePairEditor",e.SETTINGS="settings",e.ABOUT="about",e}({}),Zr=(0,c.useState)(Or.NONE),Lr=(0,s.Z)(Zr,2),Dr=Lr[0],Fr=Lr[1],Br=(0,c.useState)(!1),zr=(0,s.Z)(Br,2),Wr=zr[0],Ur=zr[1],Gr=(0,c.useState)(""),Hr=(0,s.Z)(Gr,2),Kr=(Hr[0],Hr[1]),Vr=(0,c.useState)(void 0),qr=(0,s.Z)(Vr,2),Xr=(qr[0],qr[1]),$r=(0,c.useState)({}),Qr=(0,s.Z)($r,2),Yr=Qr[0],Jr=Qr[1];function eo(e,n){null!==e&&lt(e.initiateDrag()),dt(e),Jt(n)}var no=(0,c.useRef)(null),to=(0,c.createRef)(),ro=function(e){void 0===e&&(e={});var n=e.skipOnMount,t=void 0!==n&&n,r=e.refreshMode,o=e.refreshRate,a=void 0===o?1e3:o,i=e.refreshOptions,l=e.handleWidth,s=void 0===l||l,u=e.handleHeight,d=void 0===u||u,f=e.targetRef,p=e.observerOptions,h=e.onResize,v=(0,c.useRef)(t),m=(0,c.useRef)(null),x=(0,c.useRef)(),g=null!==f&&void 0!==f?f:m,y=(0,c.useState)({width:void 0,height:void 0}),N=y[0],C=y[1];return w((function(){if(s||d){var e=P(h,C,s,d);x.current=I((function(n){(s||d)&&n.forEach((function(n){var t=n&&n.contentRect||{},r=t.width,o=t.height;!v.current&&e({width:r,height:o}),v.current=!1}))}),r,a,i);var n=new window.ResizeObserver(x.current);return g.current&&n.observe(g.current,p),function(){var e,t;n.disconnect(),null===(t=(e=x.current).cancel)||void 0===t||t.call(e)}}}),[r,a,i,s,d,h,p,g.current]),b({ref:g},N)}(),oo=(0,c.useRef)(Ue);oo.current=Ue;var ao=(0,c.useRef)();ao.current=De;var io=(0,c.useRef)(NaN);io.current=ur;var lo=(0,c.useRef)(NaN);lo.current=pr;var so=(0,c.useRef)();so.current=A;var uo=(0,c.useRef)(),co=(0,c.useRef)();co.current=Rt;var fo=(0,c.useRef)();fo.current=Bt;var po=(0,c.useRef)();po.current=Gt;var ho=(0,c.useRef)();ho.current=ct;var vo=(0,c.useRef)();vo.current=Ln;var mo=(0,c.useRef)();mo.current=rt;var xo=(0,c.useRef)(),go=(0,c.useRef)();go.current=xr;var yo=(0,c.useRef)(),bo=(0,c.useRef)(),No=(0,c.useRef)();No.current=Nr;var Io=(0,c.useRef)(),Co=(0,c.useRef)();Co.current=ee;var Eo=(0,c.useRef)();Eo.current=ht,(0,c.useRef)().current=Lt;var So=(0,c.useRef)();So.current=Ve;var Po=(0,c.useRef)();Po.current=G;var wo=(0,c.useRef)();wo.current=$,(0,c.useRef)().current=gt;var Ao=(0,c.useRef)(null),ko=(0,c.useRef)(0);ko.current=Z;var To=(0,c.useRef)(),_o=(0,c.useRef)(),Mo=(0,c.useRef)();Mo.current=zn;var Ro=(0,c.useRef)(),jo=(0,c.useRef)(),Oo=(0,c.useRef)();Oo.current=Pe;var Zo=(0,c.useRef)();Zo.current=qt;var Lo=(0,c.useRef)();Lo.current=Te;var Do=(0,c.useRef)();Do.current=je;var Fo=(0,c.useRef)();Fo.current=xe;var Bo=(0,c.useRef)();Bo.current=N;var zo=(0,c.useRef)();zo.current=kr;var Wo=(0,c.useRef)();Wo.current=ar;var Uo=x?V:K,Go=(0,c.useMemo)((function(){return{initiateDrag:function(){return{x:io.current,y:lo.current}},continueDrag:function(e){cr(e.x),hr(e.y)}}}),[]),Ho=(0,c.useMemo)((function(){var e=Object.entries(A);return L(e.length),Ro.current=e,e}),[A]),Ko=(0,c.useMemo)((function(){var e;return Math.max((null!==(e=ro.width)&&void 0!==e?e:0)-Vn,0)}),[ro.width,Vn]),Vo=(0,c.useMemo)((function(){var e;return Math.max((null!==(e=ro.height)&&void 0!==e?e:0)-kn,0)}),[ro.height,kn]),qo=(0,c.useMemo)((function(){return{width:1/(ee.width+7),height:1/ee.height}}),[ee]),Xo=(0,c.useMemo)((function(){return window.widthScale=Ko,window.heightScale=Vo,Math.min(Ko*qo.width,Vo*qo.height)}),[Ko,Vo,qo]);xo.current=Xo;var $o=(0,c.useMemo)((function(){var e={x:-ee.x,y:-(ee.y+ee.height)},n={asVector:e,asString:"translate(".concat(e.x,", ").concat(e.y,")")};return To.current=n,n}),[ee]),Qo=(0,c.useMemo)((function(){var e={x:ur,y:pr},n={asVector:e,asString:"translate(".concat(e.x,", ").concat(e.y,")")};return _o.current=n,n}),[ur,pr]),Yo=(0,c.useMemo)((function(){var e=xr*Xo;return{positiveScale:e,negativeScale:1/e,asTransform:["scale(".concat(Xo,")"),"scale(".concat(xr,")")]}}),[xr,Xo]);Io.current=Yo;var Jo=(0,c.useMemo)((function(){if(!ar)return null;var e=ar.rnaComplexIndex,n=ar.rnaMoleculeName,t=ar.nucleotideIndex,r=so.current;if(!r||!(e in r))return null;var o=r[e].rnaMoleculeProps[n];if(!o||!(t in o.nucleotideProps))return null;var a=o.nucleotideProps[t],i=Math.max(1.5*Rr,6*O.tA);return(0,Ce.jsxs)("g",{children:[(0,Ce.jsx)("circle",{cx:a.x,cy:a.y,r:i+1,fill:"rgba(99, 102, 241, 0.12)",stroke:"rgba(99, 102, 241, 0.25)",strokeWidth:1,pointerEvents:"none"}),(0,Ce.jsx)("circle",{cx:a.x,cy:a.y,r:i,fill:"rgba(99, 102, 241, 0.15)",stroke:"none",strokeWidth:0,opacity:.8,pointerEvents:"none"})]})}),[ar,Rr]),ea=(0,c.useMemo)((function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oo.current;if(ao.current===d.OK.EDIT){if(void 0===n||!de.Uq.isEnum(n))return void da((0,Ce.jsx)("b",{style:{color:"red"},children:"Select a constraint first!"}),{});var t=so.current,r=co.current;try{var o=Oo.current,a=new de.Uq.record[n](t,an,cn,Pr,De,o,r,e);da((0,Ce.jsx)(ve.Component,{rnaComplexProps:t,indicesOfAffectedNucleotides:a.indicesOfAffectedNucleotides,setNucleotideKeysToRerender:an}),a.indicesOfAffectedNucleotides)}catch(i){if("object"!==typeof i||!("errorMessage"in i))throw i;Fr(Or.PROPERTIES),da((0,Ce.jsx)("b",{style:{color:"red"},children:i.errorMessage}),{})}}}}),[]),na=(0,c.useMemo)((function(){return function(e,n){var t=n.rnaComplexIndex,r=n.rnaMoleculeName,o=n.nucleotideIndex;if(e.ctrlKey&&e.button===O.cb.Left){e.preventDefault(),e.stopPropagation(),Aa();var i=so.current[t].rnaMoleculeProps[r].nucleotideProps[o],l=!1;return void 0!==i.labelContentProps&&(delete i.labelContentProps,l=!0),void 0!==i.labelLineProps&&(delete i.labelLineProps,l=!0),void(l&&an((0,u.Z)({},t,(0,u.Z)({},r,[o]))))}switch(e.button){case O.cb.Left:var s=Go;if(ao.current===d.OK.EDIT){var c=so.current[t].rnaMoleculeProps[r].nucleotideProps[o],f=c.labelContentProps;s={initiateDrag:function(){return{x:f.x,y:f.y}},continueDrag:function(e){c.labelContentProps=(0,a.Z)((0,a.Z)({},f),e),f.x=e.x,f.y=e.y,an((0,u.Z)({},t,(0,u.Z)({},r,[o])))}}}var p=new Set;p.add(o),eo(s,(0,u.Z)({},t,(0,u.Z)({},r,p)));break;case O.cb.Right:ea(n)}}}),[]),ta=(0,c.useMemo)((function(){return function(e,n,t){var r=n.rnaComplexIndex,o=n.rnaMoleculeName,a=n.nucleotideIndex;if(e.ctrlKey&&e.button===O.cb.Left){e.preventDefault(),e.stopPropagation(),Aa();var i=so.current[r].rnaMoleculeProps[o].nucleotideProps[a],l=!1;return void 0!==i.labelContentProps&&(delete i.labelContentProps,l=!0),void 0!==i.labelLineProps&&(delete i.labelLineProps,l=!0),void(l&&an((0,u.Z)({},r,(0,u.Z)({},o,[a]))))}var s=so.current[r].rnaMoleculeProps[o].nucleotideProps[a].labelLineProps;switch(e.button){case O.cb.Left:var c=Go;if(ao.current===d.OK.EDIT){var p=s.points[0],h=s.points.map((function(e){return(0,f.$X)(e,p)}));c={initiateDrag:function(){return{x:p.x,y:p.y}},continueDrag:function(e){for(var n=0;n<s.points.length;n++){var i=s.points[n],l=(0,f.IH)(e,h[n]);i.x=l.x,i.y=l.y}t(),an((0,u.Z)({},r,(0,u.Z)({},o,[a])))}}}var v=new Set;v.add(a),eo(c,(0,u.Z)({},r,(0,u.Z)({},o,v)));break;case O.cb.Right:ea(n)}}}),[]),ra=(0,c.useMemo)((function(){return function(e,n,t,r){var o=n.rnaComplexIndex,a=n.rnaMoleculeName,i=n.nucleotideIndex;if(e.ctrlKey&&e.button===O.cb.Left){e.preventDefault(),e.stopPropagation(),Aa();var l=so.current[o].rnaMoleculeProps[a].nucleotideProps[i],s=!1;return void 0!==l.labelContentProps&&(delete l.labelContentProps,s=!0),void 0!==l.labelLineProps&&(delete l.labelLineProps,s=!0),void(s&&an((0,u.Z)({},o,(0,u.Z)({},a,[i]))))}var c=so.current[o].rnaMoleculeProps[a].nucleotideProps[i].labelLineProps;switch(e.button){case O.cb.Left:var f=Go;if(ao.current===d.OK.EDIT){var p=c.points[t];f={initiateDrag:function(){return{x:p.x,y:p.y}},continueDrag:function(e){p.x=e.x,p.y=e.y,r(),an((0,u.Z)({},o,(0,u.Z)({},a,[i])))}}}var h=new Set;h.add(i),eo(f,(0,u.Z)({},o,(0,u.Z)({},a,h)));break;case O.cb.Right:ao.current===d.OK.EDIT&&ea(n)}}}),[]),oa=(0,c.useMemo)((function(){return function(e,n,t){var r=Oo.current,o=co.current;try{var a=new de.Uq.record[n](so.current,an,cn,Pr,t,r,o,e),i=a.createRightClickMenu(t);vt(!ht),da(i,a.indicesOfAffectedNucleotides)}catch(l){if("object"!==typeof l||!("errorMessage"in l))throw l;return Fr(Or.PROPERTIES),void da((0,Ce.jsx)("b",{style:{color:"red"},children:l.errorMessage}),{})}}}),[]),aa=(0,c.useMemo)((function(){return function(e,n){if(e.button===O.cb.Left&&e.ctrlKey){e.preventDefault(),e.stopPropagation();var t=Wo.current;if(!t)return void ir(n);if(t.rnaComplexIndex!==n.rnaComplexIndex)return void ir(n);if(t.rnaMoleculeName===n.rnaMoleculeName&&t.nucleotideIndex===n.nucleotideIndex)return void ir(void 0);var r=so.current[n.rnaComplexIndex];if(!r)return void ir(void 0);if(Aa(),e.shiftKey)try{var o=Oo.current,a=n.rnaComplexIndex,l=t.rnaMoleculeName,c=n.rnaMoleculeName,f=t.nucleotideIndex,p=n.nucleotideIndex,h=r,v=h.rnaMoleculeProps[l],m=h.rnaMoleculeProps[c];if(v&&m){var x,g,y,b,N,I,C,E=null!==(x=null===(g=o[a])||void 0===g||null===(y=g[l])||void 0===y?void 0:y.has(f))&&void 0!==x&&x,S=null!==(b=null===(N=o[a])||void 0===N||null===(I=N[c])||void 0===I?void 0:I.has(p))&&void 0!==b&&b;E||S||(Ee(h,l,c,f,p,1,void 0,So.current),an((0,u.Z)({},a,(C={},(0,u.Z)(C,l,[f]),(0,u.Z)(C,c,[p]),C))))}}catch(ve){}(0,k.P3)(r,t.rnaMoleculeName,t.nucleotideIndex,n.rnaMoleculeName,n.nucleotideIndex,k.GN.DELETE_PREVIOUS_MAPPING,{});var P=[{rnaMoleculeName:t.rnaMoleculeName,nucleotideIndex:t.nucleotideIndex},{rnaMoleculeName:n.rnaMoleculeName,nucleotideIndex:n.nucleotideIndex}].sort(k.IK),w=(0,s.Z)(P,2),A=w[0],T=w[1];return ge((0,u.Z)({},n.rnaComplexIndex,{add:[{keys0:A,keys1:T}],delete:[]})),void ir(void 0)}var _=oo.current;if(void 0!==_&&de.Uq.isEnum(_)){var M=Oo.current,R=ao.current,j=co.current,Z={};switch(e.button){case O.cb.Left:var L=Go;if(R===d.OK.EDIT)try{var D=new de.Uq.record[_](so.current,an,cn,Pr,R,M,j,n),F=D.drag();Z=D.indicesOfAffectedNucleotides,void 0!=F&&(L=F)}catch(me){if("object"!==typeof me||!("errorMessage"in me))throw me;return Fr(Or.PROPERTIES),void da((0,Ce.jsx)("b",{style:{color:"red"},children:me.errorMessage}),{})}eo(L,Z);break;case O.cb.Middle:try{var B=co.current,z=new de.Uq.record[_](so.current,an,cn,Pr,R,M,B,n).indicesOfAffectedNucleotides,W=Zo.current,U=structuredClone(M),G=!0,H=n.rnaComplexIndex,K=n.rnaMoleculeName,V=n.nucleotideIndex;if(H in M){var q=M[H];K in q&&q[K].has(V)&&(G=!1)}for(var X=!1,$=0,Q=Object.entries(z);$<Q.length;$++)for(var Y=(0,s.Z)(Q[$],2),J=Y[0],ee=Y[1],ne=Number.parseInt(J),te=0,re=Object.entries(ee);te<re.length;te++)for(var oe=(0,s.Z)(re[te],2),ae=oe[0],ie=oe[1],le=0,se=Array.from(ie);le<se.length;le++){var ue=se[le];ne in U||(U[ne]={});var ce=U[ne];ae in ce||(ce[ae]=new Set);var fe=ce[ae];if(G?fe.add(ue):fe.has(ue)&&fe.delete(ue),ne in W){var pe=W[ne];ae in pe&&pe[ae].has(ue)&&(X=!0)}}we(U);var he=Lo.current;_e([].concat((0,i.Z)(he),[{data:M,dataType:ot.IndicesOfFrozenNucleotides}])),Oe([]),X&&da((0,Ce.jsx)("b",{style:{color:"red"},children:"The current right-click menu is no longer valid, due to a newly frozen nucleotide"}),{})}catch(me){if("object"!==typeof me||!("errorMessage"in me))throw me;Fr(Or.PROPERTIES),da((0,Ce.jsx)("b",{style:{color:"red"},children:me.errorMessage}),{})}break;case O.cb.Right:de.Uq.isSupportedTab(R)&&oa(n,_,R)}}else da((0,Ce.jsx)("b",{style:{color:"red"},children:"Select a constraint first!"}),{})}}),[]),ia=(0,c.useMemo)((function(){return function(e,n,t){if(e.ctrlKey&&e.button===O.cb.Left){oo.current;var r=so.current,o=(ao.current,n.rnaComplexIndex),a=n.rnaMoleculeName,i=n.nucleotideIndex,l=t.rnaMoleculeName,c=t.nucleotideIndex;Aa();var d=r[o];if(d){var f=d.basePairs[a];if(f&&i in f){var p=f[i],h=p.findIndex((function(e){return e.rnaMoleculeName===l&&e.nucleotideIndex===c}));-1!==h&&(1===p.length?delete f[i]:p.splice(h,1))}var v=d.basePairs[l];if(v&&c in v){var m=v[c],x=m.findIndex((function(e){return e.rnaMoleculeName===a&&e.nucleotideIndex===i}));-1!==x&&(1===m.length?delete v[c]:m.splice(x,1))}var g=[{rnaMoleculeName:a,nucleotideIndex:i},{rnaMoleculeName:l,nucleotideIndex:c}].sort(k.IK),y=(0,s.Z)(g,2),b=y[0],N=y[1];ge((0,u.Z)({},o,{add:[],delete:[{keys0:b,keys1:N}]}))}}else{var I=oo.current,C=so.current,E=(Oo.current,co.current),S=ao.current;switch(e.button){case O.cb.Left:eo(Go,{});break;case O.cb.Middle:var P=n.rnaComplexIndex,w=n.rnaMoleculeName,A=n.nucleotideIndex,T=t.rnaMoleculeName,_=t.nucleotideIndex;Aa();var M=C[P];if(!M)break;var R=M.basePairs[w];if(R&&A in R){var j=R[A],Z=j.findIndex((function(e){return e.rnaMoleculeName===T&&e.nucleotideIndex===_}));-1!==Z&&(1===j.length?delete R[A]:j.splice(Z,1))}var L=M.basePairs[T];if(L&&_ in L){var D=L[_],F=D.findIndex((function(e){return e.rnaMoleculeName===w&&e.nucleotideIndex===A}));-1!==F&&(1===D.length?delete L[_]:D.splice(F,1))}var B=[{rnaMoleculeName:w,nucleotideIndex:A},{rnaMoleculeName:T,nucleotideIndex:_}].sort(k.IK),z=(0,s.Z)(B,2),W=z[0],U=z[1];ge((0,u.Z)({},P,{add:[],delete:[{keys0:W,keys1:U}]}));break;case O.cb.Right:if(de.Uq.isSupportedTab(S))try{var G=Oo.current,H=new de.Uq.record[I](C,an,cn,Pr,S,G,E,n,t),K=H.createRightClickMenu(S);vt(!ht),da(K,H.indicesOfAffectedNucleotides)}catch(V){if("object"!==typeof V||!("errorMessage"in V))throw V;Fr(Or.PROPERTIES),da((0,Ce.jsx)("b",{style:{color:"red"},children:V.errorMessage}),{})}}}}}),[]),la=(0,c.useMemo)((function(){return function(e,n,t){for(var r=so.current[e],o=r.basePairs,a=0,i=Object.keys(r.rnaMoleculeProps);a<i.length;a++){var s=i[a];if(s in o)for(var c=o[s],d=0,f=Object.values(c);d<f.length;d++){var p,h=f[d],v=(0,l.Z)(h);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.rnaMoleculeName===n&&(m.rnaMoleculeName=t)}}catch(g){v.e(g)}finally{v.f()}}}r.rnaMoleculeProps[t]=r.rnaMoleculeProps[n],delete r.rnaMoleculeProps[n];var x=o[n];delete o[n],o[t]=x,an((0,u.Z)({},e,{}))}}),[]),sa=(0,c.useMemo)((function(){return function(e,n){var t=fo.current;zt((0,a.Z)((0,a.Z)({},t),{},(0,u.Z)({},e,n)))}}),[]),ua=(0,c.useMemo)((function(){return function(e,n,t){var r=po.current,o=structuredClone(r);e in o||(o[e]={});var i=o[e];i[n]=(0,a.Z)((0,a.Z)({},i[n]),t),Ht(o)}}),[]),ca=(0,c.useMemo)((function(){return function(e){da((0,Ce.jsx)("b",{style:{color:"red"},children:"The current right-click menu is no longer valid, due to updated interaction-constraint options."}),{}),jt((0,a.Z)((0,a.Z)({},co.current),e))}}),[]),da=(0,c.useCallback)((function(e,n){var t=so.current;if(Je((0,Ce.jsx)("div",{style:{width:"auto",display:"inline-block"},children:e})),Xt(n),Object.keys(n).length>0){try{var r=parseInt(Object.keys(n)[0]),o=Object.keys(n[r])[0],a=Array.from(n[r][o]);if(a.length>0){var i={rnaComplexIndex:r,rnaMoleculeName:o,nucleotideIndex:a[0]},l="nucleotide",s=e.toString();(s.includes("basepair")||s.includes("BasePair"))&&(l="basepair");var u=gn(i,t,l);Xr(u)}}catch(c){console.warn("Error extracting element info:",c),Xr(void 0)}Be.current!==d.OK.FORMAT&&(Kr("Properties"),Fr(Or.PROPERTIES))}else Xr(void 0)}),[]),fa=(0,c.useMemo)((function(){var e,n=Fo.current;return(0,Ce.jsx)(ue._.App.RnaComplexProps.Provider,{value:A,children:(0,Ce.jsx)(ue._.Nucleotide.LabelsOnlyFlag.Provider,{value:Ne&&De==d.OK.EDIT,children:(0,Ce.jsx)(ue._.App.SetMouseOverText.Provider,{value:In,children:(0,Ce.jsx)(ue._.Nucleotide.OnMouseDownHelper.Provider,{value:aa,children:(0,Ce.jsx)(ue._.Label.Content.OnMouseDownHelper.Provider,{value:na,children:(0,Ce.jsx)(ue._.Label.Line.Body.OnMouseDownHelper.Provider,{value:ta,children:(0,Ce.jsx)(ue._.Label.Line.Endpoint.OnMouseDownHelper.Provider,{value:ra,children:(0,Ce.jsx)("g",(0,a.Z)((0,a.Z)({id:Yn},(e={},(0,u.Z)(e,z.IQ,z.Fr.SCENE),(0,u.Z)(e,z.JX,N),(0,u.Z)(e,z.s5,!0),(0,u.Z)(e,z.BM,!1),e)),{},{ref:function(e){null!==e&&(uo.current=e)},children:Ho.map((function(e){var t,r,o,i=(0,s.Z)(e,2),l=i[0],u=i[1],c=Number.parseInt(l);return(0,Ce.jsx)(ue._.RnaComplex.Index.Provider,{value:c,children:(0,Ce.jsx)(ue._.BasePair.DataToEditPerRnaComplex.Provider,{value:n[c],children:(0,Ce.jsx)(k.kJ.Component,(0,a.Z)((0,a.Z)({},u),{},{nucleotideKeysToRerenderPerRnaComplex:null!==(t=on[c])&&void 0!==t?t:{},basePairKeysToRerenderPerRnaComplex:null!==(r=un[c])&&void 0!==r?r:[],basePairUpdateTrigger:null!==(o=Yr[c])&&void 0!==o?o:0}),c)})},c)}))}))})})})})})})})}),[A,on,un,Ne&&De==d.OK.EDIT,xe,Yr]),pa=(0,c.useMemo)((function(){for(var e=0,n=Object.entries(Yt);e<n.length;e++){var t=(0,s.Z)(n[e],2),r=t[0],o=t[1],a=Number.parseInt(r);if(a in qt)for(var i=qt[a],u=0,c=Object.entries(o);u<c.length;u++){var d=(0,s.Z)(c[u],2),f=d[0],p=d[1];if(f in i){var h,v=i[f],m=(0,l.Z)(p.values());try{for(m.s();!(h=m.n()).done;){var x=h.value;if(v.has(x))return!0}}catch(g){m.e(g)}finally{m.f()}}}}return!1}),[qt,Yt]);bo.current=pa;var ha=(0,c.useMemo)((function(){return Ve[se.pE.AUTOMATICALLY_REPOSITION_ANNOTATIONS]}),[Ve]);yo.current=ha;var va=(0,c.useMemo)((function(){return function(){ne(uo.current.getBBox()),cr(0),hr(0),Ir(0),gr(1)}}),[]),ma=(0,c.useMemo)((function(){return function(e,n,t){try{for(var r=(x?ie:ae)[n](e),o=new Set,i=0,c=Object.values(r.rnaComplexProps);i<c.length;i++){var d=c[i],p=d.name,h=d.basePairs;if(o.has(p))throw"RNA complexes must have distinct names.";o.add(p);for(var v=0,m=Object.entries(d.rnaMoleculeProps);v<m.length;v++){var g=(0,s.Z)(m[v],2),y=g[0],b=g[1];y in h||(h[y]={});for(var N=0,I=Object.values(b.nucleotideProps);N<I.length;N++){var E=I[N];if(void 0===E.color&&(E.color=structuredClone(R.E5)),void 0!==E.labelContentProps){var S=E.labelContentProps;void 0===S.color&&(S.color=structuredClone(R.E5))}if(void 0!==E.labelLineProps){var P=E.labelLineProps;void 0===P.color&&(P.color=structuredClone(R.E5))}}}}if(void 0===t&&(t=le[n]),t){var w,A=(0,l.Z)(r.rnaComplexProps);try{for(A.s();!(w=A.n()).done;){var k=w.value;Object.values(k.rnaMoleculeProps).forEach((function(e){Object.values(e.nucleotideProps).forEach((function(e){if(e.y*=-1,void 0!==e.labelLineProps)for(var n=0;n<e.labelLineProps.points.length;n++)e.labelLineProps.points[n].y*=-1;void 0!==e.labelContentProps&&(e.labelContentProps.y*=-1)}))}))}}catch(O){A.e(O)}finally{A.f()}}_e([]),Oe([]),ge({});var _=function(e){var n,t=[],r=[],o=[],a=[],i=(0,l.Z)(e);try{for(i.s();!(n=i.n()).done;)for(var u=n.value,c=0,d=Object.entries(u.rnaMoleculeProps);c<d.length;c++)for(var p=(0,s.Z)(d[c],2),h=p[0],v=p[1],m=0,x=Object.entries(v.nucleotideProps);m<x.length;m++){var g,y=(0,s.Z)(x[m],2),b=y[0],N=y[1],I=null===(g=u.basePairs[h])||void 0===g?void 0:g[parseInt(b)];if(I){var C,E=(0,l.Z)(I);try{for(E.s();!(C=E.n()).done;){var S,P=C.value,w=P.rnaMoleculeName,A=P.nucleotideIndex,k=null===(S=u.rnaMoleculeProps[w])||void 0===S?void 0:S.nucleotideProps[A];if(k){var T=(0,f.TE)(N,k);switch(P.basePairType||he(N.symbol,k.symbol)){case M.Ep.Type.CANONICAL:case M.Ep.Type.CIS_WATSON_CRICK_WATSON_CRICK:case M.Ep.Type.TRANS_WATSON_CRICK_WATSON_CRICK:t.push(T);break;case M.Ep.Type.WOBBLE:r.push(T);break;case M.Ep.Type.MISMATCH:default:o.push(T)}}}}catch(O){E.e(O)}finally{E.f()}}}}catch(O){i.e(O)}finally{i.f()}var _,R=(0,l.Z)(e);try{for(R.s();!(_=R.n()).done;)for(var j=_.value,Z=0,L=Object.entries(j.rnaMoleculeProps);Z<L.length;Z++)for(var D=(0,s.Z)(L[Z],2),F=D[0],B=D[1],z=Object.keys(B.nucleotideProps).map(Number).sort((function(e,n){return e-n})),W=0;W<z.length-1;W++){var U,G,H=z[W],K=z[W+1],V=null===(U=j.basePairs[F])||void 0===U?void 0:U[H],q=null===(G=j.basePairs[F])||void 0===G?void 0:G[K];if(V&&V.length>0&&q&&q.length>0){var X=B.nucleotideProps[H],$=B.nucleotideProps[K],Q=(0,f.TE)(X,$);a.push(Q)}}}catch(O){R.e(O)}finally{R.f()}var Y=pe(t);return{canonicalDistance:Y||1,wobbleDistance:pe(r)||Y||1,mismatchDistance:1.2*Y||1,contiguousDistance:pe(a)||1}}(r.rnaComplexProps);qe((function(e){var n;return(0,a.Z)((0,a.Z)({},e),{},(n={},(0,u.Z)(n,se.pE.CANONICAL_BASE_PAIR_DISTANCE,_.canonicalDistance),(0,u.Z)(n,se.pE.WOBBLE_BASE_PAIR_DISTANCE,_.wobbleDistance),(0,u.Z)(n,se.pE.MISMATCH_BASE_PAIR_DISTANCE,_.mismatchDistance),(0,u.Z)(n,se.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS,_.contiguousDistance),n))})),T(r.rnaComplexProps),Object.keys(r.rnaComplexProps).length>0?setTimeout((function(){Ve[se.pE.RESET_VIEWPORT_AFTER_FILE_UPLOAD]&&va();for(var e=0,n=0,t=0,r=Array.from(document.querySelectorAll(".".concat(Jn)));t<r.length;t++)e+=r[t].getBBox().height,n++;jr(0==n?1:e/n*.25),mn(at.DATA_IS_LOADED)}),2e3):mn(at.NO_DATA),C(r.complexDocumentName)}catch(Z){if(Fr(Or.PROPERTIES),mn(at.DATA_LOADING_FAILED),"string"===typeof Z)Pt(Z),Tt(Z);else if(Z&&"string"===typeof Z.message){var j;Pt(Z.message),Tt(null!==(j=Z.stack)&&void 0!==j?j:String(Z))}else Pt("Failed to load data. The file may be in an unsupported format or contain invalid data."),Tt(String(null!==Z&&void 0!==Z?Z:""))}}}),[x]),xa=(0,c.useMemo)((function(){return function(e){fetch(e,{method:"GET"}).then((function(e){e.text().then((function(e){ma(e,re.json)}))}))}}),[]),ga=(0,c.useMemo)((function(){return function(e,n,t,r){var o=Oo.current,a=so.current,l=Zo.current;if(Object.keys(l).length>0)alert("Cannot use undo/redo while a right-click menu is open. Close the menu first to use undo/redo.");else if(e.length>0){var s=(0,i.Z)(e),u=s.pop(),c=u.data,d=u.dataType;switch(t(s),d){case ot.IndicesOfFrozenNucleotides:r([].concat((0,i.Z)(n),[{data:o,dataType:d}]));break;case ot.RnaComplexProps:r([].concat((0,i.Z)(n),[{data:a,dataType:d}]))}switch(d){case ot.IndicesOfFrozenNucleotides:we(c);break;case ot.RnaComplexProps:ge({}),T(c);break;default:throw"Unhandled switch case"}}}}),[]),ya=(0,c.useMemo)((function(){return function(){ga(Lo.current,Do.current,_e,Oe)}}),[]),ba=(0,c.useMemo)((function(){return function(){ga(Do.current,Lo.current,Oe,_e)}}),[]),Na=(0,c.useMemo)((function(){return function(e){var n=e.currentTarget.getBoundingClientRect();if(jn({x:e.clientX-n.left,y:e.clientY-n.top}),0!==ko.current){var t={x:e.clientX,y:e.clientY},r=ho.current;if(null!==r){var o=vo.current,a=mo.current,i=go.current,l=xo.current,s=yo.current,u=bo.current,c=Eo.current,d=(0,f.$X)(t,o);d.y=-d.y,r.continueDrag((0,f.IH)(a,(0,f.uh)(d,i*l)),s),u&&vt(!c)}var p=Mo.current,h=ao.current;if(void 0!==p&&de.Uq.isSupportedTab(h)){var v=Ma(t),m=[p.x,v.x].sort(ce.cV),x=[p.y,v.y].sort(ce.cV),g=m[0],y=x[0];Pr([(0,Ce.jsx)("rect",{x:g,y:y,width:m[1]-g,height:x[1]-y,fill:"none",stroke:it[h],strokeWidth:O.tA},0)])}e.preventDefault()}}}),[]),Ia=(0,c.useMemo)((function(){return function(e){var n={x:e.clientX,y:e.clientY};switch(e.button){case O.cb.Left:Dn(n);break;case O.cb.Right:var t=Ma(n);Gn(t)}}}),[]),Ca=(0,c.useMemo)((function(){return function(e){var n=So.current[se.pE.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED],t=ho.current;null!==t&&(void 0!==t.terminateDrag&&t.terminateDrag(),eo(null,{}));var r=Mo.current,o=ao.current;if(void 0!==r&&de.Uq.isSupportedTab(o)){Pr([]);var a={x:e.clientX,y:e.clientY},i=Ma(a),u=[r.x,i.x].sort(ce.cV),c=[r.y,i.y].sort(ce.cV),d=u[0],p=c[0],h=u[1],v=c[1];if(h-d>.5||v-p>.5){for(var m=function(e,n){var t=e.rnaMoleculeName,r=e.nucleotideIndex,o=n.x,a=n.y;if(o<d||o>h||a<p||a>v)return!1;t in g||(g[t]=new Set);var i=g[t];return!i.has(r)&&(i.add(r),!0)},x=new Array,g={},y=new Array,b=so.current,N=0,I=Object.entries(b);N<I.length;N++)for(var C=(0,s.Z)(I[N],2),E=C[0],S=C[1].rnaMoleculeProps,P=Number.parseInt(E),w=0,A=Object.entries(S);w<A.length;w++)for(var k=(0,s.Z)(A[w],2),T=k[0],_=k[1].nucleotideProps,M=0,R=Object.entries(_);M<R.length;M++){var j=(0,s.Z)(R[M],2),O=j[0],Z=j[1],L=Z.labelContentProps,D=Z.labelLineProps,F={rnaComplexIndex:P,rnaMoleculeName:T,nucleotideIndex:Number.parseInt(O)};if(m(F,Z)&&x.push(F),void 0!==L&&m(F,(0,f.IH)(Z,L))&&y.push(F),void 0!==D){var B,z=(0,l.Z)(D.points);try{for(z.s();!(B=z.n()).done;){var W=B.value;m(F,(0,f.IH)(Z,W))&&y.push(F)}}catch($){z.e($)}finally{z.f()}}}var U=(0,de.P7)(x,b,n);if(tr("Auto-detected"),void 0!==U){var G=U,H=G.fullKeys,K=G.interactionConstraint;Ge(K),oa(H,K,o)}else if(void 0!==(U=(0,de.P7)(y,b,n))){var V=U,q=V.fullKeys,X=V.interactionConstraint;Ge(X),ea(q,X)}}}Gn(void 0)}}),[]),Ea=(0,c.useMemo)((function(){return function(){eo(null,{}),Pr([]),Gn(void 0),In("")}}),[]),Sa=(0,c.useMemo)((function(){return function(e){if(0!==ko.current){var n=No.current,t=Io.current,r=Co.current,o=io.current,a=lo.current,i=xo.current,l=n-(0,ce.Xx)(e.deltaY),s=l in Un?Un[l]:Math.pow(O._h,l);gr(s),Ir(l);var u=e.clientX-Vn-2,c=e.clientY-kn,d=t.negativeScale,f=u*d+r.x-o,p=c*d-r.y+a-r.height,h=u*(d=1/(s*i))-f+r.x,v=-(c*d-p-r.y-r.height);cr(h),hr(v)}}}),[]),Pa=(0,c.useMemo)((function(){return function(){if(0!==ko.current){var e=No.current+1,n=e in Un?Un[e]:Math.pow(O._h,e);e<=50&&(gr(n),Ir(e))}}}),[]),wa=(0,c.useMemo)((function(){return function(){if(0!==ko.current){var e=No.current-1,n=e in Un?Un[e]:Math.pow(O._h,e);e>=-50&&(gr(n),Ir(e))}}}),[]),Aa=(0,c.useMemo)((function(){return function(){var e=so.current,n=Lo.current;_e([].concat((0,i.Z)(n),[{data:structuredClone(e),dataType:ot.RnaComplexProps}])),Oe([])}}),[]),ka=(0,c.useMemo)((function(){return function(e){switch(e.key.toLowerCase()){case"0":e.ctrlKey&&(e.preventDefault(),va());break;case"o":e.ctrlKey&&(e.preventDefault(),Ao.current.click());break;case"s":e.ctrlKey&&(e.preventDefault(),""==gt?no.current.click():Pt(gt));break;case"y":ba();break;case"z":e.shiftKey?ba():ya()}}}),[Ao.current,no.current,gt]),Ta=(0,c.useMemo)((function(){return De===d.OK.EDIT?nt:tt}),[De]),_a=(0,c.useMemo)((function(){return De in it?et:tt}),[De]),Ma=(0,c.useCallback)((function(e){var n=xo.current,t=go.current,r=To.current,o=_o.current,a=structuredClone(e);return a.x-=Vn,(a=(0,f.uh)(a,n*t)).y-=kn,a.y=-a.y,a=(0,f.$X)(a,(0,f.IH)(r.asVector,o.asVector))}),[]),Ra=(0,c.useMemo)((function(){return function(){var e=Ro.current,n=ao.current,t="";if(0===e.length){var r="You must load a non-empty input file before attempting to ";switch(n){case d.OK.EDIT:t=r+"edit.";break;case d.OK.FORMAT:t=r+"format.";break;case d.OK.ANNOTATE:t=r+"annotate."}}else{var o="Right-click on a nucleotide to begin ";switch(n){case d.OK.EDIT:t=o+"editing.";break;case d.OK.FORMAT:t=o+"formating.";break;case d.OK.ANNOTATE:t=o+"annotating."}}da((0,Ce.jsx)("b",{style:{color:"red",width:"100%"},children:t}),{})}}),[]),ja=(0,c.useMemo)((function(){return Ve[se.pE.DARK_MODE]?"#514646":"#F0F0F0"}),[Ve]),Oa=(0,c.useMemo)((function(){return(0,o.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Po.current,t=wo.current,"showSaveFilePicker"in window&&"function"===typeof window.showSaveFilePicker){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,window.showSaveFilePicker({suggestedName:"".concat(n,".").concat(t),types:[{description:"",accept:{"text/plain":[".".concat(t)]}}]});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))}),[]),Za=(0,c.useMemo)((function(){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wo.current,o=so.current,a=Bo.current,e.next=5,n.createWritable();case 5:return i=e.sent,e.next=8,i.write(Uo[t](o,a));case 8:return e.next=10,i.close();case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),[]),La=(0,c.useMemo)((function(){var e,n=So.current,t=fo.current;switch(Dr){case Or.NONE:e=(0,Ce.jsx)(Ce.Fragment,{});break;case Or.PROPERTIES:e=(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,Ce.jsx)("div",{style:{padding:"12px 10px",background:"var(--color-surface)",borderBottom:"1px solid var(--color-border)",fontSize:11,fontWeight:700,textTransform:"uppercase",color:"var(--color-text)"},children:"Selected Element"}),(0,Ce.jsx)("div",{style:{flex:1,overflow:"auto",padding:12},children:Ye})]});break;case Or.BASEPAIR:e=(0,Ce.jsx)("div",{style:{height:"100%",overflow:"auto"},children:(0,Ce.jsx)(fe.BasePairsEditor.Component,{rnaComplexProps:A,approveBasePairs:function(){}})});break;case Or.SETTINGS:e=(0,Ce.jsx)(en,{open:!0,onClose:function(){return Fr(Or.NONE)},settings:n,setSettings:qe,getDistanceDefaults:function(){var e=Ro.current;if(e&&e.length>0){var n,r=Number.parseInt(e[0][0]),o=t[r],a=o.helixDistance,i=o.distances;if(null!=a&&i)return n={},(0,u.Z)(n,se.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS,a),(0,u.Z)(n,se.pE.CANONICAL_BASE_PAIR_DISTANCE,i[M.ZP.Type.CANONICAL]),(0,u.Z)(n,se.pE.MISMATCH_BASE_PAIR_DISTANCE,i[M.ZP.Type.MISMATCH]),(0,u.Z)(n,se.pE.WOBBLE_BASE_PAIR_DISTANCE,i[M.ZP.Type.WOBBLE]),n}return{}}});break;case Or.ABOUT:e=(0,Ce.jsx)(rn,{open:!0,onClose:function(){return Fr(Or.NONE)},renderTabInstructions:function(e){switch(e){case d.OK.INPUT_OUTPUT:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"Upload and download RNA structure files in various formats including JSON, SVG, and more."}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Upload files to import RNA structures"}),(0,Ce.jsx)("li",{children:"Download files to save your work"}),(0,Ce.jsx)("li",{children:"Support for multiple file formats"})]})]});case d.OK.VIEWPORT:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"Control the viewport and navigation of your RNA structure."}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Zoom in/out with mouse wheel"}),(0,Ce.jsx)("li",{children:"Pan by dragging the canvas"}),(0,Ce.jsx)("li",{children:"Reset viewport to default position"})]})]});case d.OK.EDIT:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"Edit RNA structures by modifying nucleotides, positions, and properties."}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Move nucleotides by dragging"}),(0,Ce.jsx)("li",{children:"Edit nucleotide properties"}),(0,Ce.jsx)("li",{children:"Modify labels and annotations"})]})]});case d.OK.FORMAT:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"Format RNA structures by adjusting base pairs and structural elements."}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Add/remove base pairs"}),(0,Ce.jsx)("li",{children:"Adjust base pair distances"}),(0,Ce.jsx)("li",{children:"Optimize structure layout"})]})]});case d.OK.ANNOTATE:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"Add annotations and labels to your RNA structure."}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Add text labels"}),(0,Ce.jsx)("li",{children:"Create annotation regions"}),(0,Ce.jsx)("li",{children:"Customize annotation styles"})]})]});case d.OK.SETTINGS:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"Configure application preferences and behavior."}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Adjust display settings"}),(0,Ce.jsx)("li",{children:"Configure interaction constraints"}),(0,Ce.jsx)("li",{children:"Import/export settings"})]})]});case d.OK.ABOUT:return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("p",{children:"XRNA.js is an interactive web app for editing, formatting, and annotating 2D RNA diagrams with precision."}),(0,Ce.jsx)("h4",{children:"Getting Started:"}),(0,Ce.jsxs)("ol",{children:[(0,Ce.jsx)("li",{children:"Download a sample input file from the Input/Output area"}),(0,Ce.jsx)("li",{children:"Upload it via the File panel in the left sidebar"}),(0,Ce.jsx)("li",{children:"Use Edit/Format/Annotate tools for operations on nucleotides and base pairs"})]}),(0,Ce.jsx)("h4",{children:"Shortcuts:"}),(0,Ce.jsxs)("ul",{children:[(0,Ce.jsx)("li",{children:"Ctrl + O \u2014 Open file"}),(0,Ce.jsx)("li",{children:"Ctrl + S \u2014 Save file"}),(0,Ce.jsx)("li",{children:"Ctrl + 0 \u2014 Reset viewport"}),(0,Ce.jsx)("li",{children:"Ctrl + Z \u2014 Undo"}),(0,Ce.jsx)("li",{children:"Ctrl + Shift + Z / Ctrl + Y \u2014 Redo"})]}),(0,Ce.jsx)("h4",{children:"Contact Us:"}),(0,Ce.jsx)("p",{children:(0,Ce.jsx)("a",{href:"https://github.com/LDWLab/XRNA-React/issues",target:"_blank",rel:"noopener noreferrer",children:"Report a bug"})})]});default:return(0,Ce.jsx)("div",{children:"No instructions available for this tab."})}}});break;default:throw"Unhandled switch case."}return(0,Ce.jsx)(xn,{open:Dr!==Or.NONE,onClose:function(){Fr(Or.NONE),da((0,Ce.jsx)(Ce.Fragment,{}),{}),Xr(void 0)},children:e})}),[Ve,Bt,Dr,Ye]),Da=(0,c.useMemo)((function(){return(0,Ce.jsx)(pn,{open:Wr,onClose:function(){Ur(!1),Fe(d.OK.EDIT)},rnaComplexProps:A,selected:qt,formatMode:De===d.OK.FORMAT})}),[Wr,A,qt,De]),Fa=(0,c.useMemo)((function(){var e;return(0,Ce.jsx)(Mn,{settings:Ve,viewportWidth:Ko,viewportHeight:Math.max((null!==(e=ro.height)&&void 0!==e?e:0)-kn,0),viewportScale:xr})}),[Ve,Ko,ro.height,kn,xr]),Ba=(0,c.useMemo)((function(){return(0,Ce.jsx)(Tn,{onOpenFile:function(e){var n=e.target.files;if(null!==n&&0!==n.length){mn(at.DATA_IS_LOADING);var t=n[0].name;jo.current=t,B(t);var r=/^(.*)\.(.+)$/.exec(t),o=r[1],a=r[2];Ve[se.pE.COPY_FILE_NAME]&&H(o),Ve[se.pE.COPY_FILE_EXTENSION]&&a in Uo&&Q(a);var i=new FileReader;i.addEventListener("load",(function(e){ma(e.target.result,a.toLocaleLowerCase())})),i.readAsText(n[0])}},onSave:(0,o.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=zo.current,t=n,void 0!==n){e.next=7;break}return e.next=5,Oa();case 5:t=e.sent,Tr(t);case 7:Za(t);case 8:case"end":return e.stop()}}),e)}))),onExportWithFormat:function(e,n){H(e),Q(n),Tr(void 0),Po.current=e,wo.current=n,setTimeout((function(){var e;null===(e=no.current)||void 0===e||e.click()}),0)},fileName:G,onFileNameChange:H,exportFormat:$,onExportFormatChange:Q,downloadButtonReference:no,fileNameInputReference:Ao})}),[G,$]),za=(0,c.useMemo)((function(){return 1===Ho.length}),[Ho]);return(0,c.useEffect)((function(){function e(){Ur(!0)}function n(){var e=document.getElementById("__hidden_reformat_button__");null===e||void 0===e||e.click()}function t(e){var t=e.detail||{};if(void 0!==t.start&&void 0!==t.end){Math.min(t.start,t.end),Math.max(t.start,t.end);var r=document.getElementById("__hidden_reformat_button__");r?r.click():n()}else n()}return window.addEventListener("openBasepairBottomSheet",e),window.addEventListener("triggerReformatAll",n),window.addEventListener("triggerReformatRange",t),function(){window.removeEventListener("openBasepairBottomSheet",e),window.removeEventListener("triggerReformatAll",n),window.removeEventListener("triggerReformatRange",t)}}),[]),(0,c.useEffect)((function(){window.onbeforeunload=function(e){if(!Ve[se.pE.DISABLE_NAVIGATE_AWAY_PROMPT])return""}}),[Ve]),(0,c.useEffect)((function(){var e=document.URL,n=e.indexOf("?");if(-1!=n){for(var t={},r=e.substring(n+1,e.length).split("&"),o=0;o<r.length;o++){var a=r[o].split("=");t[a[0]]=a[1]}var i="r2dt_job_id";i in t&&xa("https://www.ebi.ac.uk/Tools/services/rest/r2dt/result/r2dt-".concat(t[i],"/json"));var l="source_url";if(l in t&&xa(t[l]),"tab"in t){var s=t.tab,u=s.toLocaleLowerCase(),c=d.eA.find((function(e){return e.toLocaleLowerCase()===u}));void 0===c?(It('"'.concat(s,'" is not a valid, recognized Tab value.')),mn(at.URL_PARSING_ERROR)):Fe(c)}}}),[]),(0,c.useEffect)((function(){var e=to.current,n=null===e?{width:0,height:0}:e.getBBox();Pn(n)}),[Nn]),(0,c.useEffect)(Ra,[De,A]),(0,c.useEffect)((function(){if(0!==Object.keys(xe).length){for(var e={},n={},t=0,r=Object.entries(xe);t<r.length;t++){var o=(0,s.Z)(r[t],2),i=o[0],u=o[1],c=Number.parseInt(i);e[c]={},n[c]=[];var d,f=e[c],p=n[c],h=(0,l.Z)(u.add);try{for(h.s();!(d=h.n()).done;){var v=d.value,m=v.keys0,x=v.keys1;M(f,m),M(f,x),p.push(m,x)}}catch(R){h.e(R)}finally{h.f()}var g,y=(0,l.Z)(u.delete);try{for(y.s();!(g=y.n()).done;){var b=g.value,N=b.keys0,I=b.keys1;M(f,N),M(f,I),p.push(N,I)}}catch(R){y.e(R)}finally{y.f()}for(var C=0,E=Object.values(f);C<E.length;C++)E[C].sort(ce.cV);p.sort(k.IK)}cn(n);for(var S=(0,a.Z)({},Yr),P=0,w=Object.keys(xe);P<w.length;P++){var A,T=w[P],_=Number.parseInt(T);S[_]=(null!==(A=S[_])&&void 0!==A?A:0)+1}Jr(S),an({}),cn({}),ge({})}function M(e,n){var t=n.rnaMoleculeName,r=n.nucleotideIndex;t in e||(e[t]=[]);var o=e[t];o.includes(r)||o.push(r)}}),[xe,Yr]),(0,c.useEffect)((function(){var e="";(0,ce.xb)(A)?e="Import data to enable downloads.":""===G?e="Provide an output-file name to enable downloads.":void 0===$&&(e="Provide an output-file extension to enable downloads."),yt(e)}),[A,G,$]),(0,c.useEffect)((function(){vt((function(e){return!e}))}),[Ye]),(0,c.useEffect)((function(){null!==ct&&ct!==Go&&Aa()}),[ct]),(0,c.useEffect)((function(){var e=co.current;jt((0,a.Z)((0,a.Z)({},e),{},{treatNoncanonicalBasePairsAsUnpairedFlag:Ve[se.pE.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED]}))}),[Ve[se.pE.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED]]),(0,Ce.jsx)(ue._.MemoizedComponent,{settingsRecord:Ve,setSettingsRecord:qe,basePairOnMouseDownHelper:ia,labelClassName:Ta,basePairClassName:_a,pushToUndoStack:Aa,basePairRadius:Rr,indicesOfFrozenNucleotides:Pe,labelContentDefaultStyles:Gt,basePairAverageDistances:Bt,updateBasePairAverageDistances:sa,updateLabelContentDefaultStyles:ua,interactionConstraintOptions:Rt,updateInteractionConstraintOptions:ca,setNucleotideKeysToRerender:an,setBasePairKeysToRerender:cn,updateRnaMoleculeNameHelper:la,setBasePairKeysToEdit:ge,singularRnaComplexFlag:za,children:(0,Ce.jsxs)("div",{id:"parent_div",onKeyDown:ka,ref:ro.ref,style:{position:"absolute",display:"block",width:"100%",height:"100%",overflow:"hidden",background:"var(--color-background)",color:"var(--color-text)",marginLeft:"".concat(7,"px"),transition:"var(--transition-default)"},children:[(0,Ce.jsxs)("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:Vn,zIndex:1e3},children:[(Object.keys(Pe).length,Object.keys(qt).length,null),(0,Ce.jsx)($e,{onUndo:ya,onRedo:ba,onResetViewport:va,mode:De,onModeChange:Fe,constraint:Ue,onConstraintChange:Ge,onToggleBasePairEditor:function(){da((0,Ce.jsx)(Ce.Fragment,{}),{}),Ur((function(e){return!e}))},onTogglePropertiesDrawer:function(){"properties"===Dr?Fr(Or.NONE):(Kr("Properties"),Fr(Or.PROPERTIES))},onToggleSettingsDrawer:function(){"settings"===Dr?Fr(Or.NONE):(da((0,Ce.jsx)(Ce.Fragment,{}),{}),Kr("Settings"),Fr(Or.SETTINGS))},onToggleAboutDrawer:function(){"about"===Dr?Fr(Or.NONE):(da((0,Ce.jsx)(Ce.Fragment,{}),{}),Kr("About XRNA"),Fr(Or.ABOUT))},onOpenDocs:function(){window.location.hash="#/docs"},onLoadExample:(0,o.Z)((0,r.Z)().mark((function e(){var n,t,o,a,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,mn(at.DATA_IS_LOADING),e.next=4,fetch("".concat(null!==(n="/XRNA-React")?n:"","/7k00_23_b.json"));case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Failed to load example (status ".concat(t.status,")"));case 7:return e.next=9,t.text();case 9:o=e.sent,ma(o,re.json),i="".concat(a="7k00_23_b",".json"),B(i),jo.current=i,Ve[se.pE.COPY_FILE_NAME]&&(H(a),Po.current=a),Ve[se.pE.COPY_FILE_EXTENSION]&&(Q("json"),wo.current="json"),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(0),l=e.t0 instanceof Error?e.t0.message:String(e.t0),mn(at.DATA_LOADING_FAILED),Pt(l),Tt(l);case 25:case"end":return e.stop()}}),e,null,[[0,19]])}))),undoStack:Te,redoStack:je,onJumpToHistory:function(e){var n=Lo.current,t=Do.current;if(!(e<0||e>n.length+t.length)&&e!==n.length)if(e<n.length){var r=n[e];if(r){switch(r.dataType){case ot.IndicesOfFrozenNucleotides:we(r.data);break;case ot.RnaComplexProps:ge({}),T(r.data)}var o=n.slice(0,e+1),a=[].concat((0,i.Z)(t),(0,i.Z)(n.slice(e+1).reverse()));_e(o),Oe(a)}}else{var l=e-n.length,s=t[l];if(s){switch(s.dataType){case ot.IndicesOfFrozenNucleotides:we(s.data);break;case ot.RnaComplexProps:ge({}),T(s.data)}var u=[].concat((0,i.Z)(n),(0,i.Z)(t.slice(0,l+1))),c=t.slice(l+1);_e(u),Oe(c)}}},onResetToLastCheckpoint:function(){var e=Lo.current;if(e.length>0){var n=e[0];if(n){switch(n.dataType){case ot.IndicesOfFrozenNucleotides:we(n.data);break;case ot.RnaComplexProps:ge({}),T(n.data)}var t=[].concat((0,i.Z)(Do.current),(0,i.Z)(e.slice(1).reverse()));_e([n]),Oe(t)}}},onFormatModeClick:function(){if(da((0,Ce.jsx)(Ce.Fragment,{}),{}),Wr)Ur(!1),Fe(d.OK.EDIT);else{Ur(!0),Fr(Or.NONE),Fe(d.OK.FORMAT),console.log("Format mode clicked, current constraint:",Ue);var e={};Ue&&A&&Object.entries(A).forEach((function(n){var t=(0,s.Z)(n,2),r=t[0],o=t[1],a=parseInt(r,10);e[a]={},Object.entries(o.rnaMoleculeProps).forEach((function(n){var t=(0,s.Z)(n,2),r=t[0],o=t[1],i=new Set;Object.keys(o.nucleotideProps).forEach((function(e){var n=parseInt(e,10);i.add(n)})),i.size>0&&(e[a][r]=i)}))})),console.log("Format mode clicked, constraint-based selection:",e),Xt(e)}},onFreezeSelected:function(){if(Object.keys(qt).length>0)return function(){for(var e=structuredClone(Pe),n=0,t=Object.entries(qt);n<t.length;n++){var r=(0,s.Z)(t[n],2),o=r[0],a=r[1],u=Number.parseInt(o);u in e||(e[u]={});for(var c=0,d=Object.entries(a);c<d.length;c++){var f=(0,s.Z)(d[c],2),p=f[0],h=f[1];p in e[u]||(e[u][p]=new Set);var v,m=(0,l.Z)(h);try{for(m.s();!(v=m.n()).done;){var x=v.value;e[u][p].add(x)}}catch(y){m.e(y)}finally{m.f()}}}we(e);var g=Lo.current;_e([].concat((0,i.Z)(g),[{data:structuredClone(Pe),dataType:ot.IndicesOfFrozenNucleotides}])),Oe([])}}(),onUnfreezeSelected:function(){if(Object.keys(qt).length>0)return function(){for(var e=structuredClone(Pe),n=0,t=Object.entries(qt);n<t.length;n++){var r=(0,s.Z)(t[n],2),o=r[0],a=r[1],u=Number.parseInt(o);if(u in e){for(var c=0,d=Object.entries(a);c<d.length;c++){var f=(0,s.Z)(d[c],2),p=f[0],h=f[1];if(p in e[u]){var v,m=(0,l.Z)(h);try{for(m.s();!(v=m.n()).done;){var x=v.value;e[u][p].delete(x)}}catch(y){m.e(y)}finally{m.f()}0===e[u][p].size&&delete e[u][p]}}0===Object.keys(e[u]).length&&delete e[u]}}we(e);var g=Lo.current;_e([].concat((0,i.Z)(g),[{data:structuredClone(Pe),dataType:ot.IndicesOfFrozenNucleotides}])),Oe([])}}(),onUnfreezeAll:function(){if(Object.keys(Pe).length>0)return function(){if(window.confirm("Are you sure you want to unfreeze all nucleotides?")){var e=Lo.current;_e([].concat((0,i.Z)(e),[{data:structuredClone(Pe),dataType:ot.IndicesOfFrozenNucleotides}])),Oe([]),we({})}}}(),hasFrozenNucleotides:Object.keys(Pe).length>0,hasSelectedNucleotides:Object.keys(qt).length>0})]}),Ba,(0,Ce.jsxs)("svg",{id:qn,style:{top:kn,left:Vn,position:"absolute"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Math.max((null!==(n=ro.width)&&void 0!==n?n:0)-Vn,0)," ").concat(Math.max((null!==(t=ro.height)&&void 0!==t?t:0)-kn,0)),tabIndex:1,onMouseDown:Ia,onMouseMove:Na,onMouseUp:Ca,onMouseLeave:Ea,onContextMenu:function(e){e.preventDefault()},onWheel:Sa,fill:ja,stroke:de.Uq.isSupportedTab(De)?it[De]:"none",filter:"none",children:[(0,Ce.jsx)("style",{children:"\n              .".concat(Jn," { stroke:none; }\n              .").concat(Jn,":hover { stroke:inherit; }\n              .").concat(et," { stroke:none; }\n              .").concat(et,":hover { stroke:inherit; stroke-dasharray:0.5,0.5;}\n              .").concat(nt," { stroke:none; }\n              .").concat(nt,":hover { stroke:inherit; }\n              .").concat(tt," { stroke:none; }\n            ")}),(0,Ce.jsxs)("defs",{children:[(0,Ce.jsxs)("filter",{id:"xrTooltipShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[(0,Ce.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"3",floodColor:"#000000",floodOpacity:"0.15"}),(0,Ce.jsx)("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodColor:"#000000",floodOpacity:"0.05"})]}),(0,Ce.jsxs)("filter",{id:"xrTooltipGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,Ce.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,Ce.jsxs)("feMerge",{children:[(0,Ce.jsx)("feMergeNode",{in:"coloredBlur"}),(0,Ce.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,Ce.jsx)("rect",{id:Qn,width:"100%",height:"100%",stroke:"none",fill:Ve[se.pE.CANVAS_COLOR]?Ve[se.pE.CANVAS_COLOR]:void 0,onMouseDown:function(e){e.button===O.cb.Left&&(e.ctrlKey||void 0===ar||ir(void 0),eo(Go,{}))}}),Fa,(0,Ce.jsx)("g",{style:{visibility:hn===at.DATA_IS_LOADED?"visible":"hidden"},id:"viewport_scale_group_0",transform:Yo.asTransform[0],children:(0,Ce.jsx)("g",{id:"viewport_scale_group_1",transform:Yo.asTransform[1],children:(0,Ce.jsx)("g",{id:"viewport_translate_group_0",transform:"scale(1, -1) "+$o.asString,children:(0,Ce.jsxs)("g",{id:"viewport_translate_group_1",transform:Qo.asString,children:[Sr,fa,Jo]})})})}),(0,Ce.jsx)(_n,{mouseOverText:Nn,mouseOverTextDimensions:Sn,mouseUIPosition:Rn,parentDivResizeDetector:ro,TOPBAR_HEIGHT:kn,MOUSE_OVER_TEXT_FONT_SIZE:20,mouseOverTextSvgTextElementReference:to})]}),(0,Ce.jsx)(Wn,{settings:Ve,setSettings:qe,onZoomIn:Pa,onZoomOut:wa,onResetViewport:va,position:Kn}),hn===at.DATA_IS_LOADING&&(0,Ce.jsx)("img",{style:{top:.5*(null!==(p=ro.height)&&void 0!==p?p:0)-100,left:.5*(null!==(h=ro.width)&&void 0!==h?h:0)-50,position:"absolute"},src:me,alt:"Loading..."}),hn===at.DATA_LOADING_FAILED&&(0,Ce.jsxs)("div",{style:{position:"absolute",top:.5*(null!==(v=ro.height)&&void 0!==v?v:0)-60,left:.5*(null!==(m=ro.width)&&void 0!==m?m:0)-240,width:480,maxWidth:"90%",padding:"12px 16px",borderRadius:8,border:"1px solid #cc0000",background:"#fff5f5",color:"#7a1212",boxShadow:"0 4px 16px rgba(0,0,0,0.15)",zIndex:2e3,textAlign:"center",fontSize:13,lineHeight:1.4},children:[(0,Ce.jsx)("div",{style:{fontWeight:600,marginBottom:4},children:"Failed to open file"}),(0,Ce.jsx)("div",{children:St||"Unsupported file format or invalid file contents."}),(0,Ce.jsx)("div",{style:{marginTop:10},children:(0,Ce.jsx)("button",{onClick:function(){var e=(null===kt||void 0===kt?void 0:kt.trim())||"No additional error details available.";navigator.clipboard.writeText(e).catch((function(){}))},style:{marginTop:6,padding:"6px 10px",fontSize:12,borderRadius:6,border:"1px solid #b02a2a",background:"#ffe3e3",color:"#7a1212",cursor:"pointer"},children:"Copy error details"})})]}),(0,Ce.jsx)("div",{style:{position:"absolute",visibility:"hidden",height:"auto",width:"auto",whiteSpace:"nowrap",background:"inherit"},id:Xn}),La,(0,Ce.jsx)("div",{style:{display:"none"},children:(0,Ce.jsx)(fe.BasePairsEditor.Component,{rnaComplexProps:A,approveBasePairs:function(){}})}),Da,(0,Ce.jsx)(vn,{rnaComplexProps:A})]})})};var lt=Hn},4212:function(e,n,t){"use strict";t.d(n,{OK:function(){return r},eA:function(){return o}});var r=function(e){return e.INPUT_OUTPUT="Input/Output",e.VIEWPORT="Viewport",e.EDIT="Edit",e.FORMAT="Format",e.ANNOTATE="Annotate",e.SETTINGS="Settings",e.ABOUT="About",e}({}),o=Object.values(r);r.INPUT_OUTPUT},7089:function(e,n,t){"use strict";t.d(n,{Ep:function(){return r},UK:function(){return v},iN:function(){return h}});var r,o=t(1413),a=t(4942),i=t(2791),l=t(3413),s=t(3871),u=t(6559),c=t(9287),d=t(4861),f=t(9766),p=t(184);function h(e,n){if(e>n){var t=e;e=n,n=t}var o=r.typeRecord,a=void 0;if(e in o&&(a=o[e][n]),void 0===a)throw"Unsupported base-pair type between ".concat(e," and ").concat(n);return a}function v(e){return r.types.includes(e)}!function(e){var n,t,v,m,x,g,y,b,N,I,C,E,S=function(e){return e.CANONICAL="canonical",e.WOBBLE="wobble",e.MISMATCH="mismatch",e.CIS_WATSON_CRICK_WATSON_CRICK="cis_watson_crick_watson_crick",e.TRANS_WATSON_CRICK_WATSON_CRICK="trans_watson_crick_watson_crick",e.CIS_WATSON_CRICK_HOOGSTEEN="cis_watson_crick_hoogsteen",e.CIS_HOOGSTEEN_WATSON_CRICK="cis_hoogsteen_watson_crick",e.TRANS_WATSON_CRICK_HOOGSTEEN="trans_watson_crick_hoogsteen",e.TRANS_HOOGSTEEN_WATSON_CRICK="trans_hoogsteen_watson_crick",e.CIS_WATSON_CRICK_SUGAR_EDGE="cis_watson_crick_sugar_edge",e.CIS_SUGAR_EDGE_WATSON_CRICK="cis_sugar_edge_watson_crick",e.TRANS_WATSON_CRICK_SUGAR_EDGE="trans_watson_crick_sugar_edge",e.TRANS_SUGAR_EDGE_WATSON_CRICK="trans_sugar_edge_watson_crick",e.CIS_HOOGSTEEN_HOOGSTEEN="cis_hoogsteen_hoogsteen",e.TRANS_HOOGSTEEN_HOOGSTEEN="trans_hoogsteen_hoogsteen",e.CIS_HOOGSTEEN_SUGAR_EDGE="cis_hoogsteen_sugar_edge",e.CIS_SUGAR_EDGE_HOOGSTEEN="cis_sugar_edge_hoogsteen",e.TRANS_HOOGSTEEN_SUGAR_EDGE="trans_hoogsteen_sugar_edge",e.TRANS_SUGAR_EDGE_HOOGSTEEN="trans_sugar_edge_hoogsteen",e.CIS_SUGAR_EDGE_SUGAR_EDGE="cis_sugar_edge_sugar_edge",e.TRANS_SUGAR_EDGE_SUGAR_EDGE="trans_sugar_edge_sugar_edge",e}({});e.Type=S;e.types=Object.values(S);var P=e.DirectedType=(n={},(0,a.Z)(n,S.CIS_WATSON_CRICK_HOOGSTEEN,S.CIS_WATSON_CRICK_HOOGSTEEN),(0,a.Z)(n,S.CIS_HOOGSTEEN_WATSON_CRICK,S.CIS_HOOGSTEEN_WATSON_CRICK),(0,a.Z)(n,S.TRANS_WATSON_CRICK_HOOGSTEEN,S.TRANS_WATSON_CRICK_HOOGSTEEN),(0,a.Z)(n,S.TRANS_HOOGSTEEN_WATSON_CRICK,S.TRANS_HOOGSTEEN_WATSON_CRICK),(0,a.Z)(n,S.CIS_WATSON_CRICK_SUGAR_EDGE,S.CIS_WATSON_CRICK_SUGAR_EDGE),(0,a.Z)(n,S.CIS_SUGAR_EDGE_WATSON_CRICK,S.CIS_SUGAR_EDGE_WATSON_CRICK),(0,a.Z)(n,S.TRANS_WATSON_CRICK_SUGAR_EDGE,S.TRANS_WATSON_CRICK_SUGAR_EDGE),(0,a.Z)(n,S.TRANS_SUGAR_EDGE_WATSON_CRICK,S.TRANS_SUGAR_EDGE_WATSON_CRICK),(0,a.Z)(n,S.CIS_HOOGSTEEN_SUGAR_EDGE,S.CIS_HOOGSTEEN_SUGAR_EDGE),(0,a.Z)(n,S.CIS_SUGAR_EDGE_HOOGSTEEN,S.CIS_SUGAR_EDGE_HOOGSTEEN),(0,a.Z)(n,S.TRANS_HOOGSTEEN_SUGAR_EDGE,S.TRANS_HOOGSTEEN_SUGAR_EDGE),(0,a.Z)(n,S.TRANS_SUGAR_EDGE_HOOGSTEEN,S.TRANS_SUGAR_EDGE_HOOGSTEEN),n),w=e.directedTypes=Object.values(P),A=e.RedundantLeontisWesthofType=(t={},(0,a.Z)(t,S.CIS_SUGAR_EDGE_WATSON_CRICK,S.CIS_SUGAR_EDGE_WATSON_CRICK),(0,a.Z)(t,S.CIS_HOOGSTEEN_WATSON_CRICK,S.CIS_HOOGSTEEN_WATSON_CRICK),(0,a.Z)(t,S.CIS_SUGAR_EDGE_HOOGSTEEN,S.CIS_SUGAR_EDGE_HOOGSTEEN),(0,a.Z)(t,S.TRANS_SUGAR_EDGE_WATSON_CRICK,S.TRANS_SUGAR_EDGE_WATSON_CRICK),(0,a.Z)(t,S.TRANS_HOOGSTEEN_WATSON_CRICK,S.TRANS_HOOGSTEEN_WATSON_CRICK),(0,a.Z)(t,S.TRANS_SUGAR_EDGE_HOOGSTEEN,S.TRANS_SUGAR_EDGE_HOOGSTEEN),t),k=e.redundantLeontisWesthofTypes=Object.values(A);e.isRedundantLeontisWesthofType=function(e){return k.includes(e)};e.reverseDirectedTypeMap=(v={},(0,a.Z)(v,S.CIS_WATSON_CRICK_HOOGSTEEN,S.CIS_HOOGSTEEN_WATSON_CRICK),(0,a.Z)(v,S.CIS_HOOGSTEEN_WATSON_CRICK,S.CIS_WATSON_CRICK_HOOGSTEEN),(0,a.Z)(v,S.TRANS_WATSON_CRICK_HOOGSTEEN,S.TRANS_HOOGSTEEN_WATSON_CRICK),(0,a.Z)(v,S.TRANS_HOOGSTEEN_WATSON_CRICK,S.TRANS_WATSON_CRICK_HOOGSTEEN),(0,a.Z)(v,S.CIS_WATSON_CRICK_SUGAR_EDGE,S.CIS_SUGAR_EDGE_WATSON_CRICK),(0,a.Z)(v,S.CIS_SUGAR_EDGE_WATSON_CRICK,S.CIS_WATSON_CRICK_SUGAR_EDGE),(0,a.Z)(v,S.TRANS_WATSON_CRICK_SUGAR_EDGE,S.TRANS_SUGAR_EDGE_WATSON_CRICK),(0,a.Z)(v,S.TRANS_SUGAR_EDGE_WATSON_CRICK,S.TRANS_WATSON_CRICK_SUGAR_EDGE),(0,a.Z)(v,S.CIS_HOOGSTEEN_SUGAR_EDGE,S.CIS_SUGAR_EDGE_HOOGSTEEN),(0,a.Z)(v,S.CIS_SUGAR_EDGE_HOOGSTEEN,S.CIS_HOOGSTEEN_SUGAR_EDGE),(0,a.Z)(v,S.TRANS_HOOGSTEEN_SUGAR_EDGE,S.TRANS_SUGAR_EDGE_HOOGSTEEN),(0,a.Z)(v,S.TRANS_SUGAR_EDGE_HOOGSTEEN,S.TRANS_HOOGSTEEN_SUGAR_EDGE),v),e.shortenedTypeNameMap=(m={},(0,a.Z)(m,S.CANONICAL,"Can."),(0,a.Z)(m,S.WOBBLE,"Wob."),(0,a.Z)(m,S.MISMATCH,"Mis."),(0,a.Z)(m,S.CIS_WATSON_CRICK_WATSON_CRICK,"cWW"),(0,a.Z)(m,S.TRANS_WATSON_CRICK_WATSON_CRICK,"tWW"),(0,a.Z)(m,S.CIS_WATSON_CRICK_HOOGSTEEN,"cWH"),(0,a.Z)(m,S.CIS_HOOGSTEEN_WATSON_CRICK,"cHW"),(0,a.Z)(m,S.TRANS_WATSON_CRICK_HOOGSTEEN,"tWH"),(0,a.Z)(m,S.TRANS_HOOGSTEEN_WATSON_CRICK,"tHW"),(0,a.Z)(m,S.CIS_WATSON_CRICK_SUGAR_EDGE,"cWS"),(0,a.Z)(m,S.CIS_SUGAR_EDGE_WATSON_CRICK,"cSW"),(0,a.Z)(m,S.TRANS_WATSON_CRICK_SUGAR_EDGE,"tWS"),(0,a.Z)(m,S.TRANS_SUGAR_EDGE_WATSON_CRICK,"tSW"),(0,a.Z)(m,S.CIS_HOOGSTEEN_HOOGSTEEN,"cHH"),(0,a.Z)(m,S.TRANS_HOOGSTEEN_HOOGSTEEN,"tHH"),(0,a.Z)(m,S.CIS_HOOGSTEEN_SUGAR_EDGE,"cHS"),(0,a.Z)(m,S.CIS_SUGAR_EDGE_HOOGSTEEN,"cSH"),(0,a.Z)(m,S.TRANS_HOOGSTEEN_SUGAR_EDGE,"tHS"),(0,a.Z)(m,S.TRANS_SUGAR_EDGE_HOOGSTEEN,"tSH"),(0,a.Z)(m,S.CIS_SUGAR_EDGE_SUGAR_EDGE,"cSS"),(0,a.Z)(m,S.TRANS_SUGAR_EDGE_SUGAR_EDGE,"tSS"),m);var T=e.fullTypeNameMap=(x={},(0,a.Z)(x,S.CANONICAL,"canonical"),(0,a.Z)(x,S.WOBBLE,"wobble"),(0,a.Z)(x,S.MISMATCH,"mismatch"),(0,a.Z)(x,S.CIS_WATSON_CRICK_WATSON_CRICK,"cis Watson\u2013Crick/Watson\u2013Crick"),(0,a.Z)(x,S.TRANS_WATSON_CRICK_WATSON_CRICK,"trans Watson\u2013Crick/Watson\u2013Crick"),(0,a.Z)(x,S.CIS_WATSON_CRICK_HOOGSTEEN,"cis Watson\u2013Crick/Hoogsteen"),(0,a.Z)(x,S.CIS_HOOGSTEEN_WATSON_CRICK,"cis Hoogsteen/Watson\u2013Crick"),(0,a.Z)(x,S.TRANS_WATSON_CRICK_HOOGSTEEN,"trans Watson\u2013Crick/Hoogsteen"),(0,a.Z)(x,S.TRANS_HOOGSTEEN_WATSON_CRICK,"trans Hoogsteen/Watson\u2013Crick"),(0,a.Z)(x,S.CIS_WATSON_CRICK_SUGAR_EDGE,"cis Watson\u2013Crick/Sugar edge"),(0,a.Z)(x,S.CIS_SUGAR_EDGE_WATSON_CRICK,"cis Sugar edge/Watson\u2013Crick"),(0,a.Z)(x,S.TRANS_WATSON_CRICK_SUGAR_EDGE,"trans Watson\u2013Crick/Sugar edge"),(0,a.Z)(x,S.TRANS_SUGAR_EDGE_WATSON_CRICK,"trans Sugar edge/Watson\u2013Crick"),(0,a.Z)(x,S.CIS_HOOGSTEEN_HOOGSTEEN,"cis Hoogsteen/Hoogsteen"),(0,a.Z)(x,S.TRANS_HOOGSTEEN_HOOGSTEEN,"trans Hoogsteen/Hoogsteen"),(0,a.Z)(x,S.CIS_HOOGSTEEN_SUGAR_EDGE,"cis Hoogsteen/Sugar edge"),(0,a.Z)(x,S.CIS_SUGAR_EDGE_HOOGSTEEN,"cis Sugar edge/Hoogsteen"),(0,a.Z)(x,S.TRANS_HOOGSTEEN_SUGAR_EDGE,"trans Hoogsteen/Sugar edge"),(0,a.Z)(x,S.TRANS_SUGAR_EDGE_HOOGSTEEN,"trans Sugar edge/Hoogsteen"),(0,a.Z)(x,S.CIS_SUGAR_EDGE_SUGAR_EDGE,"cis Sugar edge/Sugar edge"),(0,a.Z)(x,S.TRANS_SUGAR_EDGE_SUGAR_EDGE,"trans Sugar edge/Sugar edge"),x);e.isDirectedType=function(e){return w.includes(e)};var _=e.CanonicalType=(g={},(0,a.Z)(g,S.CANONICAL,S.CANONICAL),(0,a.Z)(g,S.WOBBLE,S.WOBBLE),(0,a.Z)(g,S.MISMATCH,S.MISMATCH),(0,a.Z)(g,S.CIS_WATSON_CRICK_WATSON_CRICK,S.CIS_WATSON_CRICK_WATSON_CRICK),(0,a.Z)(g,S.TRANS_WATSON_CRICK_WATSON_CRICK,S.TRANS_WATSON_CRICK_WATSON_CRICK),g),M=e.canonicalTypes=Object.values(_);function R(e){return M.includes(e)}function j(e,n){return!n||r.isCanonicalType(e)}e.isCanonicalType=R,e.isEnabledBasePair=j,e.isNucleotideBasePaired=function(e,n,t,r,o,a){if(!(r in t))return!1;var i=t[r];return o in i&&i[o].filter((function(t){var r;return j(null!==(r=t.basePairType)&&void 0!==r?r:h(e,n.rnaMoleculeProps[t.rnaMoleculeName].nucleotideProps[t.nucleotideIndex].symbol),a)})).length>0};e.typeRecord=(I={},(0,a.Z)(I,c.h5.Symbol.A,(y={},(0,a.Z)(y,c.h5.Symbol.A,S.MISMATCH),(0,a.Z)(y,c.h5.Symbol.C,S.MISMATCH),(0,a.Z)(y,c.h5.Symbol.G,S.MISMATCH),(0,a.Z)(y,c.h5.Symbol.U,S.CANONICAL),y)),(0,a.Z)(I,c.h5.Symbol.C,(b={},(0,a.Z)(b,c.h5.Symbol.C,S.MISMATCH),(0,a.Z)(b,c.h5.Symbol.G,S.CANONICAL),(0,a.Z)(b,c.h5.Symbol.U,S.MISMATCH),b)),(0,a.Z)(I,c.h5.Symbol.G,(N={},(0,a.Z)(N,c.h5.Symbol.G,S.MISMATCH),(0,a.Z)(N,c.h5.Symbol.U,S.WOBBLE),N)),(0,a.Z)(I,c.h5.Symbol.U,(0,a.Z)({},c.h5.Symbol.U,S.MISMATCH)),I);var O=.25,Z=1-O,L=.5*Math.sqrt(3),D=.5*(3+Math.sqrt(3));function F(e){return function(n){var t=n.position0,r=n.position1;return e((0,o.Z)((0,o.Z)({},n),{},{position0:r,position1:t}))}}function B(e,n,t){var r=2*t/(0,u.TE)(e,n),o=1-r;return{interpolatedPosition0:(0,u.sX)(e,n,r),interpolatedPosition1:(0,u.sX)(e,n,o)}}function z(e){var n=e.position0,t=e.position1,r=e.stroke,a=e.strokeWidth,s=e.svgPropertiesForXrna,u=e.onMouseOver,c=e.onMouseLeave,d=e.onMouseDown,h=e.className,v=(0,i.useContext)(l._.BasePair.Radius),m=B(n,t,v),x=m.interpolatedPosition0,g=m.interpolatedPosition1;return(0,p.jsxs)("g",{children:[(0,p.jsx)("path",{d:(0,f._H)(x,g,!0,v),fill:"none",strokeWidth:a,onMouseOver:u,onMouseLeave:c,onMouseDown:d,className:h,pointerEvents:"all"}),(0,p.jsx)("line",(0,o.Z)((0,o.Z)({},s),{},{x1:x.x,y1:x.y,x2:g.x,y2:g.y,stroke:r,strokeWidth:a,pointerEvents:"none"}))]})}function W(e){var n=e.position0,t=e.position1,r=e.stroke,a=e.fill,s=e.strokeWidth,u=e.svgPropertiesForXrna,c=e.onMouseOver,d=e.onMouseLeave,f=e.onMouseDown,h=e.className,v={x:.5*(n.x+t.x),y:.5*(n.y+t.y)},m=(0,i.useContext)(l._.BasePair.Radius);return(0,p.jsxs)("g",{children:[(0,p.jsx)("circle",(0,o.Z)((0,o.Z)({},u),{},{r:m,cx:v.x,cy:v.y,stroke:r,fill:a,strokeWidth:s,pointerEvents:"none"})),(0,p.jsx)("circle",{r:m,cx:v.x,cy:v.y,fill:"none",stroke:"red",strokeWidth:s,className:h,pointerEvents:"all",onMouseOver:c,onMouseLeave:d,onMouseDown:f})]})}function U(e){var n=e.position0,t=e.position1,r=e.svgPropertiesForXrna,a=e.stroke,s=e.fill,c=e.strokeWidth,d=e.onMouseOver,h=e.onMouseLeave,v=e.onMouseDown,m=e.className,x=(0,i.useContext)(l._.BasePair.Radius),g=B(n,t,x),y=g.interpolatedPosition0,b=g.interpolatedPosition1,N=["none",void 0].includes(a)?s:a,I=(0,u.wK)((0,u.IH)(n,t),.5),C=(0,u.Fv)((0,u.$X)(t,n)),E=(0,u.wK)(C,x),S=(0,u.wK)(C,1.5*x),P=(0,u.K)(E),w=(0,u.$X)(I,S),A=(0,u.IH)(I,S),k=(0,u.$X)(w,E),T=(0,u.IH)(w,E),_=(0,u.$X)(A,E),M=(0,u.IH)(A,E),R=[(0,u.$X)(_,P),(0,u.IH)(_,P),(0,u.IH)(M,P),(0,u.$X)(M,P)],j=new Array;if((0,u.Ih)((0,u.$X)(k,y),(0,u.$X)(I,k))>0){var O={key:0,pointerEvents:"none",stroke:N,strokeWidth:c,x1:y.x,y1:y.y,x2:k.x,y2:k.y};j.push((0,p.jsx)("line",(0,o.Z)({},O)))}var Z={key:1,pointerEvents:"none",stroke:a,fill:s,strokeWidth:c,cx:w.x,cy:w.y,r:x},L={key:2,pointerEvents:"none",stroke:N,strokeWidth:c,x1:T.x,y1:T.y,x2:_.x,y2:_.y},D={key:3,d:"M ".concat(R[0].x," ").concat(R[0].y," L ").concat(R[1].x," ").concat(R[1].y," L ").concat(R[2].x," ").concat(R[2].y," L ").concat(R[3].x," ").concat(R[3].y," Z"),stroke:a,fill:s,pointerEvents:"none",strokeWidth:c};if(j.push((0,p.jsx)("circle",(0,o.Z)({},Z)),(0,p.jsx)("line",(0,o.Z)({},L)),(0,p.jsx)("path",(0,o.Z)({},D))),(0,u.Ih)((0,u.$X)(M,b),(0,u.$X)(I,M))>0){var F={key:4,pointerEvents:"none",stroke:N,strokeWidth:c,x1:M.x,y1:M.y,x2:b.x,y2:b.y};j.push((0,p.jsx)("line",(0,o.Z)({},F)))}return(0,p.jsxs)("g",(0,o.Z)((0,o.Z)({},r),{},{children:[j,(0,p.jsx)("path",{d:(0,f._H)(y,b,!0,x),fill:"none",strokeWidth:c,onMouseOver:d,onMouseLeave:h,onMouseDown:v,className:m,pointerEvents:"all"})]}))}var G=F(U);function H(e){var n=e.position0,t=e.position1,r=e.svgPropertiesForXrna,a=e.stroke,s=e.fill,c=e.strokeWidth,d=e.className,h=e.onMouseOver,v=e.onMouseLeave,m=e.onMouseDown,x=(0,i.useContext)(l._.BasePair.Radius),g=B(n,t,x),y=g.interpolatedPosition0,b=g.interpolatedPosition1,N=["none",void 0].includes(a)?s:a,I=(0,u.wK)((0,u.IH)(n,t),.5),C=(0,u.Fv)((0,u.$X)(t,n)),E=(0,u.wK)(C,D*x),S=(0,u.wK)(C,x),P=(0,u.wK)((0,u.K)(C),x),w=(0,u.IH)((0,u.$X)(I,E),S),A=(0,u.$X)(w,S),k=(0,u.IH)(w,S),T=(0,u.IH)(w,(0,u.wK)(C,2*x)),_=(0,u.IH)(I,E),M=(0,u.IH)(T,P),R=(0,u.$X)(T,P),j=new Array;(0,u.Ih)((0,u.$X)(A,y),(0,u.$X)(I,A))>0&&j.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:y.x,y1:y.y,x2:A.x,y2:A.y},0));var O={key:1,pointerEvents:"none",stroke:a,fill:s,strokeWidth:c,cx:w.x,cy:w.y,r:x},Z={key:3,d:"M ".concat(M.x," ").concat(M.y," L ").concat(R.x," ").concat(R.y," L ").concat(_.x," ").concat(_.y," Z"),stroke:a,fill:s,strokeWidth:c,pointerEvents:"none"};return j.push((0,p.jsx)("circle",(0,o.Z)({},O)),(0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:k.x,y1:k.y,x2:T.x,y2:T.y},2),(0,p.jsx)("path",(0,o.Z)({},Z))),(0,u.Ih)((0,u.$X)(_,b),(0,u.$X)(I,_))>0&&j.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:_.x,y1:_.y,x2:b.x,y2:b.y},4)),(0,p.jsxs)("g",(0,o.Z)((0,o.Z)({},r),{},{children:[j,(0,p.jsx)("path",{d:(0,f._H)(y,b,!0,x),fill:"none",strokeWidth:c,onMouseOver:h,onMouseLeave:v,onMouseDown:m,className:d,pointerEvents:"all"})]}))}var K=F(H);function V(e){var n=e.position0,t=e.position1,r=e.svgPropertiesForXrna,a=e.stroke,s=e.fill,c=e.strokeWidth,d=e.className,h=e.onMouseOver,v=e.onMouseLeave,m=e.onMouseDown,x=(0,i.useContext)(l._.BasePair.Radius),g=B(n,t,x),y=g.interpolatedPosition0,b=g.interpolatedPosition1,N=["none",void 0].includes(a)?s:a,I=(0,u.wK)((0,u.IH)(n,t),.5),C=(0,u.Fv)((0,u.$X)(t,n)),E=(0,u.wK)(C,x),S=(0,u.wK)((0,u.K)(C),x),P=(0,u.$X)(I,E),w=(0,u.IH)(I,E),A=[(0,u.$X)(P,S),(0,u.IH)(P,S),(0,u.IH)(w,S),(0,u.$X)(w,S)],k=new Array;(0,u.Ih)((0,u.$X)(P,y),(0,u.$X)(I,P))>0&&k.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:y.x,y1:y.y,x2:P.x,y2:P.y},0));var T={key:1,d:"M ".concat(A[0].x," ").concat(A[0].y," L ").concat(A[1].x," ").concat(A[1].y," L ").concat(A[2].x," ").concat(A[2].y," L ").concat(A[3].x," ").concat(A[3].y," Z"),stroke:a,fill:s,strokeWidth:c,pointerEvents:"none"};return k.push((0,p.jsx)("path",(0,o.Z)({},T))),(0,u.Ih)((0,u.$X)(w,b),(0,u.$X)(I,w))>0&&k.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:b.x,y1:b.y,x2:w.x,y2:w.y},2)),(0,p.jsxs)("g",(0,o.Z)((0,o.Z)({},r),{},{children:[k,(0,p.jsx)("path",{d:(0,f._H)(y,b,!0,x),fill:"none",strokeWidth:c,onMouseOver:h,onMouseLeave:v,onMouseDown:m,className:d,pointerEvents:"all"})]}))}function q(e){var n=e.position0,t=e.position1,r=e.svgPropertiesForXrna,a=e.stroke,s=e.fill,c=e.strokeWidth,d=e.className,h=e.onMouseOver,v=e.onMouseLeave,m=e.onMouseDown,x=(0,i.useContext)(l._.BasePair.Radius),g=B(n,t,x),y=g.interpolatedPosition0,b=g.interpolatedPosition1,N=["none",void 0].includes(a)?s:a,I=(0,u.wK)((0,u.IH)(n,t),.5),C=(0,u.Fv)((0,u.$X)(t,n)),E=(0,u.wK)(C,D*x),S=(0,u.wK)(C,x),P=(0,u.wK)((0,u.K)(C),x),w=(0,u.IH)((0,u.$X)(I,E),S),A=(0,u.$X)(w,S),k=(0,u.IH)(w,S),T=(0,u.IH)(w,(0,u.wK)(C,2*x)),_=(0,u.IH)(I,E),M=[(0,u.$X)(A,P),(0,u.IH)(A,P),(0,u.IH)(k,P),(0,u.$X)(k,P)],R=(0,u.IH)(T,P),j=(0,u.$X)(T,P),O=new Array;(0,u.Ih)((0,u.$X)(A,y),(0,u.$X)(I,A))>0&&O.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:y.x,y1:y.y,x2:A.x,y2:A.y},0));var Z={key:1,d:"M ".concat(M[0].x," ").concat(M[0].y," L ").concat(M[1].x," ").concat(M[1].y," L ").concat(M[2].x," ").concat(M[2].y," L ").concat(M[3].x," ").concat(M[3].y," Z"),stroke:a,strokeWidth:c,fill:s,pointerEvents:"none"},L={key:3,d:"M ".concat(R.x," ").concat(R.y," L ").concat(j.x," ").concat(j.y," L ").concat(_.x," ").concat(_.y," Z"),stroke:a,strokeWidth:c,fill:s,pointerEvents:"none"};return O.push((0,p.jsx)("path",(0,o.Z)({},Z)),(0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:k.x,y1:k.y,x2:T.x,y2:T.y},2),(0,p.jsx)("path",(0,o.Z)({},L))),(0,u.Ih)((0,u.$X)(_,b),(0,u.$X)(I,_))>0&&O.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:_.x,y1:_.y,x2:b.x,y2:b.y},4)),(0,p.jsxs)("g",(0,o.Z)((0,o.Z)({},r),{},{children:[O,(0,p.jsx)("path",{d:(0,f._H)(y,b,!0,x),fill:"none",strokeWidth:c,onMouseOver:h,onMouseLeave:v,onMouseDown:m,className:d,pointerEvents:"all"})]}))}var X=F(q);function $(e){var n=e.position0,t=e.position1,r=e.svgPropertiesForXrna,a=e.stroke,s=e.fill,c=e.strokeWidth,d=e.className,h=e.onMouseOver,v=e.onMouseLeave,m=e.onMouseDown,x=(0,i.useContext)(l._.BasePair.Radius),g=B(n,t,x),y=g.interpolatedPosition0,b=g.interpolatedPosition1,N=["none",void 0].includes(a)?s:a,I=(0,u.wK)((0,u.IH)(n,t),.5),C=(0,u.Fv)((0,u.$X)(t,n)),E=(0,u.wK)(C,L*x),S=(0,u.wK)((0,u.K)(C),x),P=(0,u.$X)(I,E),w=(0,u.IH)(I,E),A=(0,u.IH)(P,S),k=(0,u.$X)(P,S),T=new Array;(0,u.Ih)((0,u.$X)(P,y),(0,u.$X)(I,P))>0&&T.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:y.x,y1:y.y,x2:P.x,y2:P.y},0));var _={key:1,d:"M ".concat(A.x," ").concat(A.y," L ").concat(k.x," ").concat(k.y," L ").concat(w.x," ").concat(w.y," Z"),stroke:a,strokeWidth:c,fill:s,pointerEvents:"none"};return T.push((0,p.jsx)("path",(0,o.Z)({},_))),(0,u.Ih)((0,u.$X)(P,y),(0,u.$X)(I,P))>0&&T.push((0,p.jsx)("line",{pointerEvents:"none",stroke:N,strokeWidth:c,x1:b.x,y1:b.y,x2:w.x,y2:w.y},2)),(0,p.jsxs)("g",(0,o.Z)((0,o.Z)({},r),{},{children:[T,(0,p.jsx)("path",{d:(0,f._H)(y,b,!0,x),fill:"none",strokeWidth:c,onMouseOver:h,onMouseLeave:v,onMouseDown:m,className:d,pointerEvents:"all"})]}))}var Q=(C={},(0,a.Z)(C,r.Type.CANONICAL,z),(0,a.Z)(C,r.Type.MISMATCH,W),(0,a.Z)(C,r.Type.WOBBLE,W),(0,a.Z)(C,r.Type.CIS_WATSON_CRICK_WATSON_CRICK,z),(0,a.Z)(C,r.Type.TRANS_WATSON_CRICK_WATSON_CRICK,(function(e){var n=e.position0,t=e.position1,r=e.svgPropertiesForXrna,a=e.stroke,s=e.fill,c=e.strokeWidth,d=e.onMouseOver,h=e.onMouseDown,v=e.onMouseLeave,m=e.className,x=(0,i.useContext)(l._.BasePair.Radius),g=(0,u.sX)(n,t,O),y=(0,u.sX)(n,t,Z),b=["none",void 0].includes(a)?s:a,N=(0,u.wK)((0,u.IH)(n,t),.5),I=(0,u.wK)((0,u.Fv)((0,u.$X)(t,n)),x),C=(0,u.$X)(N,I),E=(0,u.IH)(N,I),S=new Array;return(0,u.Ih)((0,u.$X)(C,g),(0,u.$X)(N,C))>0&&S.push((0,p.jsx)("line",{pointerEvents:"none",stroke:b,strokeWidth:c,x1:g.x,y1:g.y,x2:C.x,y2:C.y},0)),S.push((0,p.jsx)("circle",{pointerEvents:"none",stroke:a,fill:s,strokeWidth:c,cx:N.x,cy:N.y,r:x},1)),(0,u.Ih)((0,u.$X)(E,y),(0,u.$X)(N,E))>0&&S.push((0,p.jsx)("line",{pointerEvents:"none",stroke:b,strokeWidth:c,x1:y.x,y1:y.y,x2:E.x,y2:E.y},2)),(0,p.jsxs)("g",(0,o.Z)((0,o.Z)({},r),{},{children:[(0,p.jsx)("path",{d:(0,f._H)(g,y,!0,x),fill:"none",strokeWidth:c,onMouseOver:d,onMouseLeave:v,onMouseDown:h,className:m,pointerEvents:"all"}),S]}))})),(0,a.Z)(C,r.Type.CIS_WATSON_CRICK_HOOGSTEEN,U),(0,a.Z)(C,r.Type.CIS_HOOGSTEEN_WATSON_CRICK,G),(0,a.Z)(C,r.Type.TRANS_HOOGSTEEN_WATSON_CRICK,G),(0,a.Z)(C,r.Type.TRANS_WATSON_CRICK_HOOGSTEEN,U),(0,a.Z)(C,r.Type.CIS_WATSON_CRICK_SUGAR_EDGE,H),(0,a.Z)(C,r.Type.TRANS_WATSON_CRICK_SUGAR_EDGE,H),(0,a.Z)(C,r.Type.CIS_SUGAR_EDGE_WATSON_CRICK,K),(0,a.Z)(C,r.Type.TRANS_SUGAR_EDGE_WATSON_CRICK,K),(0,a.Z)(C,r.Type.CIS_HOOGSTEEN_HOOGSTEEN,V),(0,a.Z)(C,r.Type.TRANS_HOOGSTEEN_HOOGSTEEN,V),(0,a.Z)(C,r.Type.CIS_HOOGSTEEN_SUGAR_EDGE,q),(0,a.Z)(C,r.Type.TRANS_HOOGSTEEN_SUGAR_EDGE,q),(0,a.Z)(C,r.Type.CIS_SUGAR_EDGE_HOOGSTEEN,X),(0,a.Z)(C,r.Type.TRANS_SUGAR_EDGE_HOOGSTEEN,X),(0,a.Z)(C,r.Type.CIS_SUGAR_EDGE_SUGAR_EDGE,$),(0,a.Z)(C,r.Type.TRANS_SUGAR_EDGE_SUGAR_EDGE,$),C);function Y(e){return{stroke:e,fill:"none"}}function J(e){return{stroke:"none",fill:e}}var ee=(E={},(0,a.Z)(E,r.Type.CANONICAL,(function(e){return{stroke:e}})),(0,a.Z)(E,r.Type.WOBBLE,J),(0,a.Z)(E,r.Type.MISMATCH,Y),(0,a.Z)(E,r.Type.CIS_WATSON_CRICK_WATSON_CRICK,Y),(0,a.Z)(E,r.Type.TRANS_WATSON_CRICK_WATSON_CRICK,Y),(0,a.Z)(E,r.Type.CIS_WATSON_CRICK_HOOGSTEEN,J),(0,a.Z)(E,r.Type.TRANS_WATSON_CRICK_HOOGSTEEN,Y),(0,a.Z)(E,r.Type.CIS_HOOGSTEEN_WATSON_CRICK,J),(0,a.Z)(E,r.Type.TRANS_HOOGSTEEN_WATSON_CRICK,Y),(0,a.Z)(E,r.Type.CIS_WATSON_CRICK_SUGAR_EDGE,J),(0,a.Z)(E,r.Type.TRANS_WATSON_CRICK_SUGAR_EDGE,Y),(0,a.Z)(E,r.Type.CIS_SUGAR_EDGE_WATSON_CRICK,J),(0,a.Z)(E,r.Type.TRANS_SUGAR_EDGE_WATSON_CRICK,Y),(0,a.Z)(E,r.Type.CIS_HOOGSTEEN_HOOGSTEEN,J),(0,a.Z)(E,r.Type.TRANS_HOOGSTEEN_HOOGSTEEN,Y),(0,a.Z)(E,r.Type.CIS_HOOGSTEEN_SUGAR_EDGE,J),(0,a.Z)(E,r.Type.TRANS_HOOGSTEEN_SUGAR_EDGE,Y),(0,a.Z)(E,r.Type.CIS_SUGAR_EDGE_HOOGSTEEN,J),(0,a.Z)(E,r.Type.TRANS_SUGAR_EDGE_HOOGSTEEN,Y),(0,a.Z)(E,r.Type.CIS_SUGAR_EDGE_SUGAR_EDGE,J),(0,a.Z)(E,r.Type.TRANS_SUGAR_EDGE_SUGAR_EDGE,Y),E);function ne(e){var n,t,u,c=e.position0,f=e.position1,h=e.mappedBasePair,v=e.rnaComplexIndex,m=e.rnaComplexName,x=e.rnaMoleculeName0,g=e.formattedNucleotideIndex0,y=e.rnaMoleculeName1,b=e.formattedNucleotideIndex1,N=h.basePairType,I=(0,i.useContext)(l._.BasePair.AverageStrokeWidth),C=(0,i.useContext)(l._.App.SetMouseOverText),E=(0,i.useContext)(l._.BasePair.ClassName),S=(0,i.useContext)(l._.App.RnaComplexProps),P=(0,i.useContext)(l._.BasePair.OnMouseDownHelper),w=(0,i.useContext)(l._.App.SingularRnaComplexFlag),A=(0,i.useContext)(l._.RnaComplex.SingularRnaMoleculeFlag),k=S[v],_=k.rnaMoleculeProps[x],M=k.rnaMoleculeProps[y],j=g-_.firstNucleotideIndex,O=b-M.firstNucleotideIndex,Z=(_.nucleotideProps[j],M.nucleotideProps[O],(0,s.hG)(null!==(n=h.color)&&void 0!==n?n:R(N)?s.E5:s.ry)),L=null!==(t=h.strokeWidth)&&void 0!==t?t:I;if(void 0!==h.points){var D=h.points.map((function(e){var n=e.x,t=e.y;return"".concat(n,",").concat(t)})).join(" ");return(0,p.jsx)("polyline",{stroke:Z,strokeWidth:L,pointerEvents:"none",points:D,fill:"none"})}var F=(u={},(0,a.Z)(u,d.IQ,d.Fr.BASE_PAIR),(0,a.Z)(u,d.U5,m),(0,a.Z)(u,d.XR,x),(0,a.Z)(u,d.b7,y),(0,a.Z)(u,d.Ye,g),(0,a.Z)(u,d.js,b),(0,a.Z)(u,d.IP,N),u),B=x,z=y,W=j,U=O,G=N;if(r.isRedundantLeontisWesthofType(G)){G=r.reverseDirectedTypeMap[G];var H=B;B=z,z=H;var K=W;W=U,U=K}var V=k.rnaMoleculeProps[B],q=k.rnaMoleculeProps[z],X=["Base Pair:"];return w||X.push("  Complex: ".concat(k.name)),A||X.push("  Mol(s): ".concat(Array.from(new Set([B,z])).join(" - "))),X.push("  Nucs:  ".concat(V.firstNucleotideIndex+W).concat(V.nucleotideProps[W].symbol," - ").concat(q.firstNucleotideIndex+U).concat(q.nucleotideProps[U].symbol),"  Type: ".concat(T[G])),(0,i.createElement)(Q[N],(0,o.Z)({position0:c,position1:f,basePairType:N,strokeWidth:L,svgPropertiesForXrna:F,onMouseOver:function(){C(X.join("\n"))},onMouseLeave:function(){C("")},onMouseDown:function(e){P(e,{rnaComplexIndex:v,rnaMoleculeName:x,nucleotideIndex:j},{rnaComplexIndex:v,rnaMoleculeName:y,nucleotideIndex:O})},className:E},ee[N](Z)))}e.Component=ne;e.MemoizedComponent=(0,i.memo)(ne)}(r||(r={})),n.ZP=r},9287:function(e,n,t){"use strict";t.d(n,{h5:function(){return x},$H:function(){return b},XE:function(){return y}});var r,o=t(1413),a=t(4942),i=t(9439),l=t(2791),s=t(5847),u=t(3413),c=t(3871),d=t(433),f=t(4532),p=t(4861),h=t(184);!function(e){function n(e){var n,t=e.content,r=e.x,s=e.y,v=e.fullKeys,m=e.id,x=(v.rnaComplexIndex,v.rnaMoleculeName),g=v.nucleotideIndex,y=(0,l.createRef)(),b=(0,l.useContext)(u._.Label.Content.OnMouseDownHelper),N=(0,l.useContext)(u._.Label.ClassName),I=(0,l.useContext)(u._.App.SetMouseOverText),C=(0,l.useContext)(u._.RnaMolecule.FirstNucleotideIndex),E=(0,l.useContext)(u._.RnaComplex.Name),S=(0,l.useContext)(u._.Nucleotide.Symbol),P=(0,l.useState)({width:0,height:0}),w=(0,i.Z)(P,2),A=w[0],k=w[1],T=(0,l.useState)({x:0,y:0}),_=(0,i.Z)(T,2),M=_[0],R=_[1],j=(0,l.useMemo)((function(){var n;return null!==(n=e.color)&&void 0!==n?n:c.E5}),[e.color]),O=(0,l.useMemo)((function(){var n;return null!==(n=e.strokeWidth)&&void 0!==n?n:f.tA}),[e.strokeWidth]),Z=(0,l.useMemo)((function(){var n;return null!==(n=e.font)&&void 0!==n?n:structuredClone(d.ZP.DEFAULT)}),[e.font]);return(0,l.useEffect)((function(){var e=y.current.getBBox();k({width:e.width,height:e.height})}),[t,Z.size]),(0,l.useEffect)((function(){R({x:-.5*A.width,y:-.25*A.height})}),[A]),(0,h.jsx)("text",(0,o.Z)((0,o.Z)({},(n={},(0,a.Z)(n,p.IQ,p.Fr.LABEL_CONTENT),(0,a.Z)(n,p.U5,E),(0,a.Z)(n,p.hu,x),(0,a.Z)(n,p.WI,g+C),n)),{},{id:m,ref:y,transform:"translate(".concat(r,", ").concat(s,") translate(").concat(M.x,", ").concat(M.y,") scale(1 -1)"),className:N+" noselect",fontSize:Z.size,fontFamily:Z.family,fontWeight:Z.weight,fontStyle:Z.style,strokeWidth:O,fill:(0,c.hG)(j),onMouseDown:function(e){b(e,v),e.preventDefault()},onMouseOver:function(e){I("nucleotide: ".concat(C+g,"\n")+"symbol:     ".concat(S,"\n")+"molecule:   ".concat(x,"\n")+"complex:    ".concat(E,"\n")+"tip:        Ctrl+click to delete")},onMouseLeave:function(){I("")},children:t}))}e.Component=n;e.MemoizedComponent=(0,l.memo)(n)}(r||(r={}));var v,m=t(9766);!function(e){function n(e){var n,t=e.fullKeys,r=e.points,s=e.id,d=(0,l.useContext)(u._.Label.Line.Body.OnMouseDownHelper),v=(0,l.useContext)(u._.Label.Line.Endpoint.OnMouseDownHelper),x=(0,l.useContext)(u._.Label.ClassName),g=(0,l.useContext)(u._.App.SetMouseOverText),y=(0,l.useContext)(u._.RnaMolecule.FirstNucleotideIndex),b=(0,l.useContext)(u._.RnaComplex.Name),N=(0,l.useContext)(u._.Nucleotide.Symbol),I=t.nucleotideIndex,C=t.rnaMoleculeName,E=(t.rnaComplexIndex,(0,l.useState)({pathDAttribute:"",polylinePointsAttribute:""})),S=(0,i.Z)(E,2),P=S[0],w=S[1];function A(){for(var e=r[0],n=e,t=new Array,o=1;o<r.length;o++)n=r[o],t.push((0,m._H)(e,n)),e=n;w({pathDAttribute:t.join(" "),polylinePointsAttribute:r.map((function(e){var n=e.x,t=e.y;return"".concat(n,",").concat(t)})).join(" ")})}(0,l.useEffect)(A,[r]);var k=(0,l.useMemo)((function(){var n;return null!==(n=e.color)&&void 0!==n?n:c.E5}),[e.color]),T=(0,l.useMemo)((function(){var n;return null!==(n=e.strokeWidth)&&void 0!==n?n:f.tA}),[e.strokeWidth]);return(0,h.jsxs)("g",(0,o.Z)((0,o.Z)({},(n={},(0,a.Z)(n,p.IQ,p.Fr.LABEL_LINE),(0,a.Z)(n,p.U5,b),(0,a.Z)(n,p.hu,C),(0,a.Z)(n,p.WI,I+y),n)),{},{children:[(0,h.jsx)("polyline",{points:P.polylinePointsAttribute,pointerEvents:"none",stroke:(0,c.hG)(k),strokeWidth:T,fill:"none"}),r.map((function(e,n){return(0,h.jsx)("circle",{id:s,className:x,pointerEvents:"all",strokeWidth:f.tA,fill:"none",cx:e.x,cy:e.y,r:1,onMouseDown:function(e){v(e,t,n,A)},onMouseOver:function(e){g("nucleotide: ".concat(y+I,"\n")+"symbol:     ".concat(N,"\n")+"molecule:   ".concat(C,"\n")+"complex:    ".concat(b,"\n")+"tip:        Ctrl+click to delete")},onMouseLeave:function(){g("")}},n)})),(0,h.jsx)("path",{className:x,pointerEvents:"all",strokeWidth:f.tA,fill:"none",d:P.pathDAttribute,onMouseDown:function(e){d(e,t,A),e.preventDefault()},onMouseOver:function(e){g("nucleotide: ".concat(y+I,"\n")+"symbol:     ".concat(N,"\n")+"molecule:   ".concat(C,"\n")+"complex:    ".concat(b,"\n")+"tip:        Ctrl+click to delete")},onMouseLeave:function(){g("")}})]}))}e.Component=n;e.MemoizedComponent=(0,l.memo)(n)}(v||(v={}));var x,g=t(9750);t(3508);function y(e,n,t){return"".concat(e).concat(s.Qh).concat(n).concat(s.Qh).concat(t).concat(s.Qh,"LabelContent")}function b(e){return{x:-.5*e.width,y:-.3*e.height}}!function(e){var n=function(e){return e.FIVE_PRIME="5'",e.THREE_PRIME="3'",e.FIVE="5",e.THREE="3",e.A="A",e.C="C",e.G="G",e.U="U",e.N="N",e}({});e.Symbol=n;var t=e.symbols=Object.values(n);function m(e){var n,t=e.x,m=e.y,x=e.symbol,N=e.labelContentProps,I=e.labelLineProps,C=e.nucleotideIndex,E=(0,l.useContext)(u._.RnaComplex.Index),S=(0,l.useContext)(u._.RnaComplex.Name),P=(0,l.useContext)(u._.RnaMolecule.Name),w={nucleotideIndex:C,rnaMoleculeName:P,rnaComplexIndex:E},A=(0,l.useContext)(u._.RnaMolecule.FirstNucleotideIndex),k=(0,l.useContext)(u._.App.SetMouseOverText),T=(0,l.useContext)(u._.Nucleotide.OnMouseDownHelper),_=(0,l.useContext)(u._.Nucleotide.LabelsOnlyFlag),M=(0,l.useContext)(u._.App.Settings)[g.pE.PATH_MODE],R=(0,l.useContext)(u._.App.IndicesOfFrozenNucleotides),j=(0,l.useContext)(u._.App.SingularRnaComplexFlag),O=(0,l.useContext)(u._.RnaComplex.SingularRnaMoleculeFlag),Z=!1;if(E in R){var L=R[E];if(P in L)L[P].has(C)&&(Z=!0)}var D=(0,l.useState)({width:0,height:0}),F=(0,i.Z)(D,2),B=F[0],z=F[1],W=(0,l.createRef)(),U=(0,l.useMemo)((function(){var n;return null!==(n=e.font)&&void 0!==n?n:structuredClone(d.ZP.DEFAULT)}),[e.font]),G=(0,l.useMemo)((function(){var n;return null!==(n=e.color)&&void 0!==n?n:c.E5}),[e.color]),H=(0,l.useMemo)((function(){var n;return null!==(n=e.strokeWidth)&&void 0!==n?n:f.tA}),[e.strokeWidth]),K=(0,l.useMemo)((function(){return b(B)}),[B]);return(0,l.useEffect)((function(){z(W.current.getBBox())}),[x,U]),(0,h.jsxs)("g",{transform:"translate(".concat(t,", ").concat(m,")"),children:[(0,h.jsx)("text",(0,o.Z)((0,o.Z)({},(n={},(0,a.Z)(n,p.IQ,p.Fr.NUCLEOTIDE),(0,a.Z)(n,p.U5,S),(0,a.Z)(n,p.hu,P),(0,a.Z)(n,p.rm,A),(0,a.Z)(n,p.WU,C+A),n)),{},{ref:W,className:"".concat(s.IF," noselect"),transform:"translate(".concat(K.x,", ").concat(K.y,") scale(1, -1)"),fontStyle:U.style,fontWeight:U.weight,fontFamily:U.family,fontSize:U.size,strokeWidth:H,fill:(0,c.hG)(G),fillOpacity:M?0:1,pointerEvents:_?"none":"all",onMouseDown:function(e){T(e,w)},onMouseOver:function(e){var n=A+C,t=[];j||t.push("Complex:    ".concat(S)),O||t.push("Molecule:   ".concat(P)),t.push("Nucleotide: ".concat(n),"Symbol:     ".concat(x),"status:     ".concat(Z?"LOCKED (cannot move)":"unlocked (can move)")),k(t.join("\n"))},onMouseLeave:function(){k("")},children:x})),(0,h.jsxs)(u._.Nucleotide.Symbol.Provider,{value:x,children:[I&&(0,h.jsx)(v.Component,(0,o.Z)((0,o.Z)({},I),{},{id:y(E,P,C),fullKeys:w})),N&&(0,h.jsx)(r.Component,(0,o.Z)((0,o.Z)({},N),{},{id:y(E,P,C),fullKeys:w}))]})]})}e.isSymbol=function(e){return t.includes(e)};e.MemoizedComponent=(0,l.memo)(m)}(x||(x={}))},6048:function(e,n,t){"use strict";t.d(n,{GN:function(){return C},kJ:function(){return y},IK:function(){return S},T_:function(){return P},P3:function(){return E},JA:function(){return w},kB:function(){return A}});var r,o=t(3433),a=t(1413),i=t(9439),l=t(7762),s=t(4942),u=t(2791),c=t(3413),d=t(6559),f=t(7089),p=t(9287),h=t(4861),v=t(3871),m=t(433),x=t(9750),g=t(184);(r||(r={})).Component=function(e){var n,t=e.firstNucleotideIndex,r=e.nucleotideProps,o=(e.nucleotideKeysToRerender,(0,u.useContext)(c._.RnaMolecule.Name)),d=(0,u.useContext)(c._.RnaComplex.Index),f=(0,u.useContext)(c._.Label.Content.UpdateDefaultStyle),y=(0,u.useContext)(c._.App.Settings),b=y[x.pE.REPLACE_NUCLEOTIDES_WITH_CONTOUR_LINE],N=y[x.pE.CONTOUR_LINE_WIDTH],I=y[x.pE.PATH_MODE],C=y[x.pE.PATH_LINE_WIDTH],E=(0,u.useContext)(c._.App.IndicesOfFrozenNucleotides),S=(0,u.useMemo)((function(){var e=Object.entries(r).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1],o=Number.parseInt(t),a=r;return a.key=o,a.nucleotideIndex=o,a}));return e.sort((function(e,n){return e.nucleotideIndex-n.nucleotideIndex})),e}),[r]),P=(0,u.useMemo)((function(){if(!(d in E))return[];var e=E[d];if(!(o in e))return[];var n,t=e[o],r=[],a=[],i=(0,l.Z)(S);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.has(s.nucleotideIndex)?a.push({nucleotideIndex:s.nucleotideIndex,x:s.x,y:s.y,font:s.font}):a.length>0&&(r.push(a),a=[])}}catch(u){i.e(u)}finally{i.f()}return a.length>0&&r.push(a),r.map((function(e){var n,t,r=null!==(n=null===(t=e[0].font)||void 0===t?void 0:t.size)&&void 0!==n?n:m.ZP.DEFAULT_SIZE,o="string"===typeof r?(0,m.VG)(r):r,a=Math.max(o/12,.5);if(1===e.length){var i=e[0],s=o/2*1.3;return{type:"circle",x:i.x,y:i.y,radius:s,strokeWidth:a,indices:[i.nucleotideIndex]}}var c,d=o/2*1.3,f=[],p=(0,l.Z)(e);try{for(p.s();!(c=p.n()).done;)for(var h=c.value,v=0;v<8;v++){var x=v/8*2*Math.PI;f.push({x:h.x+d*Math.cos(x),y:h.y+d*Math.sin(x)})}}catch(u){p.e(u)}finally{p.f()}var g=function(e){if(e.length<3)return e;for(var n=e[0],t=1;t<e.length;t++)(e[t].y<n.y||e[t].y===n.y&&e[t].x<n.x)&&(n=e[t]);for(var r=e.slice().sort((function(e,t){var r=Math.atan2(e.y-n.y,e.x-n.x),o=Math.atan2(t.y-n.y,t.x-n.x);return r!==o?r-o:Math.hypot(e.x-n.x,e.y-n.y)-Math.hypot(t.x-n.x,t.y-n.y)})),o=[r[0],r[1]],a=2;a<r.length;a++){for(;o.length>1;){var i=o[o.length-2],l=o[o.length-1],s=r[a];if((l.x-i.x)*(s.y-i.y)-(l.y-i.y)*(s.x-i.x)>0)break;o.pop()}o.push(r[a])}return o}(f);if(g.length<3){var y=e[0];return{type:"circle",x:y.x,y:y.y,radius:d,strokeWidth:a,indices:e.map((function(e){return e.nucleotideIndex}))}}for(var b="M ".concat(g[0].x," ").concat(g[0].y),N=1;N<g.length;N++)b+=" L ".concat(g[N].x," ").concat(g[N].y);return{type:"path",path:b+=" Z",strokeWidth:a,indices:e.map((function(e){return e.nucleotideIndex}))}}))}),[S,E,d,o]);return(0,u.useEffect)((function(){for(var e=new Array,n=new Array,t=0,i=0,s=0,u=Object.values(r);s<u.length;s++){var c=u[s].labelContentProps;if(void 0!==c){var p=c.font,h=c.color;if(void 0!==p){i++,"string"===typeof p.size?t+=(0,m.VG)(p.size):t+=p.size;var x,g=!1,y=(0,l.Z)(n);try{for(y.s();!(x=y.n()).done;){var b=x.value;if(m.NN.areEqual(p,b.font)){b.count++,g=!0;break}}}catch(j){y.e(j)}finally{y.f()}g||n.push({font:p,count:1})}if(void 0!==h){var N,I=!1,C=(0,l.Z)(e);try{for(C.s();!(N=C.n()).done;){var E=N.value;if((0,v.wy)(h,E.color)){E.count++,I=!0;break}}}catch(j){C.e(j)}finally{C.f()}I||e.push({color:h,count:1})}}}for(var S={font:structuredClone(m.ZP.DEFAULT),count:0},P=0,w=n;P<w.length;P++){var A=w[P];A.count>S.count&&(S=A)}for(var k={color:structuredClone(v.E5),count:0},T=0,_=e;T<_.length;T++){var M=_[T];M.count<k.count&&(k=M)}var R=0===i?m.ZP.DEFAULT_SIZE:t/i;f(d,o,{color:k.color,font:(0,a.Z)((0,a.Z)({},S.font),{},{size:R})})}),[d,o,r]),(0,g.jsxs)("g",(0,a.Z)((0,a.Z)({},(n={},(0,s.Z)(n,h.IQ,h.Fr.RNA_MOLECULE),(0,s.Z)(n,h.hu,o),(0,s.Z)(n,h.rm,t),n)),{},{children:[b&&(0,g.jsx)("polyline",{points:S.map((function(e){var n=e.x,t=e.y;return"".concat(n,",").concat(t)})).join(" "),pointerEvents:"none",stroke:"var(--color-text)",strokeWidth:N,fill:"none"}),I&&!b&&function(){var e,n=function(e,n){if(e.length<2)return"";if(2===e.length||0===n)return"M ".concat(e[0].x," ").concat(e[0].y," L ").concat(e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L "));for(var t=1-n,r="M ".concat(e[0].x," ").concat(e[0].y),o=0;o<e.length-1;o++){var a=e[0===o?o:o-1],i=e[o],l=e[o+1],s=e[o+2]||l,u=t,c=(l.x-a.x)*(1-u)/2,d=(l.y-a.y)*(1-u)/2,f=(s.x-i.x)*(1-u)/2,p=(s.y-i.y)*(1-u)/2,h=i.x+c/3,v=i.y+d/3,m=l.x-f/3,x=l.y-p/3;r+=" C ".concat(h," ").concat(v,", ").concat(m," ").concat(x,", ").concat(l.x," ").concat(l.y)}return r},t=[],r=null,o=(0,l.Z)(S);try{for(o.s();!(e=o.n()).done;){var a,i,s=e.value,u=s.pathColor?"rgb(".concat(s.pathColor.red,", ").concat(s.pathColor.green,", ").concat(s.pathColor.blue,")"):"var(--color-text)",c=null!==(a=s.pathLineWidth)&&void 0!==a?a:C,d=null!==(i=s.pathCurvature)&&void 0!==i?i:0;r&&r.color===u&&r.width===c&&r.curvature===d?r.points.push({x:s.x,y:s.y}):(r&&r.points.length>0&&(r.points.push({x:s.x,y:s.y}),t.push(r)),r={points:[{x:s.x,y:s.y}],color:u,width:c,curvature:d})}}catch(f){o.e(f)}finally{o.f()}return r&&r.points.length>0&&t.push(r),(0,g.jsx)(g.Fragment,{children:t.map((function(e,t){return(0,g.jsx)("path",{d:n(e.points,e.curvature),pointerEvents:"none",stroke:e.color,strokeWidth:e.width,fill:"none",strokeLinecap:"round",strokeLinejoin:"round","data-xrna_type":"path"},"path-segment-".concat(t))}))})}(),!b&&S.length>0&&function(){var e=function(e,n){if(e.length<2)return"";if(2===e.length||0===n)return"M ".concat(e[0].x," ").concat(e[0].y," L ").concat(e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L "));for(var t=1-n,r="M ".concat(e[0].x," ").concat(e[0].y),o=0;o<e.length-1;o++){var a=e[0===o?o:o-1],i=e[o],l=e[o+1],s=e[o+2]||l,u=t,c=(l.x-a.x)*(1-u)/2,d=(l.y-a.y)*(1-u)/2,f=(s.x-i.x)*(1-u)/2,p=(s.y-i.y)*(1-u)/2,h=i.x+c/3,v=i.y+d/3,m=l.x-f/3,x=l.y-p/3;r+=" C ".concat(h," ").concat(v,", ").concat(m," ").concat(x,", ").concat(l.x," ").concat(l.y)}return r}(S.map((function(e){return{x:e.x,y:e.y}})),.5);return(0,g.jsx)("path",{d:e,pointerEvents:"none",stroke:"rgb(0, 0, 0)",strokeWidth:.5,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",visibility:"hidden","data-xrna_type":"centerline"})}(),!b&&(0,g.jsx)(c._.RnaMolecule.FirstNucleotideIndex.Provider,{value:t,children:S.map((function(e){return(0,u.createElement)(p.h5.MemoizedComponent,e)}))}),!b&&P.map((function(e,n){return"circle"===e.type?(0,g.jsx)("circle",{cx:e.x,cy:e.y,r:e.radius,fill:"none",stroke:"#e56565",strokeWidth:e.strokeWidth,pointerEvents:"none"},"frozen-outline-".concat(n)):(0,g.jsx)("path",{d:e.path,fill:"none",stroke:"#e56565",strokeWidth:e.strokeWidth,pointerEvents:"none"},"frozen-outline-".concat(n))}))]}))};var y,b=t(9766),N=t(4532),I=(0,s.Z)({},f.ZP.Type.WOBBLE,1.15),C=function(e){return e[e.DO_NOTHING=0]="DO_NOTHING",e[e.THROW_ERROR=1]="THROW_ERROR",e[e.DELETE_PREVIOUS_MAPPING=2]="DELETE_PREVIOUS_MAPPING",e}({});function E(e,n,t,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:C.DO_NOTHING,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=e.basePairs;if(n in c&&t in c[n]){var d=c[n][t].find((function(e){return e.rnaMoleculeName===r&&e.nucleotideIndex===o}));return void 0!==d&&(d.basePairType=u.basePairType,c[r][o].find((function(e){return e.rnaMoleculeName===n&&e.nucleotideIndex===t})).basePairType=u.basePairType),[{keys0:{rnaMoleculeName:n,nucleotideIndex:t},keys1:{rnaMoleculeName:r,nucleotideIndex:o}}]}var p=new Array,h=[],v={rnaMoleculeName:n,nucleotideIndex:t,basePairedRnaMoleculeName:r,basePairedNucleotideIndex:o,basePairType:u.basePairType},m={rnaMoleculeName:r,nucleotideIndex:o,basePairedRnaMoleculeName:n,basePairedNucleotideIndex:t,basePairType:u.basePairType};delete(u=structuredClone(u)).basePairType,void 0!==v.basePairType&&f.ZP.isDirectedType(v.basePairType)&&(m.basePairType=f.ZP.reverseDirectedTypeMap[v.basePairType]);for(var x=0,g=[v,m];x<g.length;x++){var y=g[x],b=y.rnaMoleculeName,N=y.nucleotideIndex,I=y.basePairedRnaMoleculeName,E=y.basePairedNucleotideIndex,P=y.basePairType;b in c||(c[b]={});var w=c[b];if(N in w){var A,k=w[N],T=(0,l.Z)(k);try{for(T.s();!(A=T.n()).done;){var _=A.value;switch(s){case C.DO_NOTHING:break;case C.DELETE_PREVIOUS_MAPPING:var M=[{rnaMoleculeName:b,nucleotideIndex:N},_].sort(S),R=(0,i.Z)(M,2),j=R[0],O=R[1];p.push({keys0:j,keys1:O}),delete c[_.rnaMoleculeName][_.nucleotideIndex];break;case C.THROW_ERROR:throw"Duplicate base-pair keys were found within this RNA complex. This is not allowed."}}}catch(W){T.e(W)}finally{T.f()}}h.push({basePairsPerRnaMolecule:w,nucleotideIndex:N,mappedBasePairInformation:(0,a.Z)((0,a.Z)({rnaMoleculeName:I,nucleotideIndex:E},u),{},{basePairType:P})})}for(var Z=0,L=h;Z<L.length;Z++){var D=L[Z],F=D.basePairsPerRnaMolecule,B=D.nucleotideIndex,z=D.mappedBasePairInformation;B in F||(F[B]=[]),F[B].push(z)}return p}function S(e,n){return e.rnaMoleculeName.localeCompare(n.rnaMoleculeName)||e.nucleotideIndex-n.nucleotideIndex}function P(e,n){return S(e.keys0,n.keys0)||S(e.keys1,n.keys1)}function w(e,n){return S(e,n)<=0}function A(e,n){return w(e,n)?e:n}!function(e){function n(e){var n=e.keys0,t=e.keys1;return"#".concat(n.nucleotideIndex," in ").concat(n.rnaMoleculeName," basepaired to #").concat(t.nucleotideIndex," in ").concat(t.rnaMoleculeName)}e.Component=function(e){var t,p=e.name,v=e.rnaMoleculeProps,m=e.basePairs,x=e.nucleotideKeysToRerenderPerRnaComplex,y=e.basePairKeysToRerenderPerRnaComplex,C=e.basePairUpdateTrigger,E=(0,u.useContext)(c._.RnaComplex.Index),A=(0,u.useContext)(c._.BasePair.DataToEditPerRnaComplex),k=(0,u.useContext)(c._.BasePair.AverageDistances),T=(0,u.useContext)(c._.BasePair.UpdateAverageDistances),_=Object.entries(v),M=(0,u.useMemo)((function(){var e=new Array;return Object.entries(m).forEach((function(t){var r=(0,i.Z)(t,2),o=r[0],a=r[1],s=v[o];Object.entries(a).forEach((function(t){var r,a=(0,i.Z)(t,2),u=a[0],c=a[1],d=Number.parseInt(u),h={rnaMoleculeName:o,nucleotideIndex:d},m=(0,l.Z)(c);try{for(m.s();!(r=m.n()).done;){var x=r.value;if(w(h,x)){var g=s.nucleotideProps[d],y=v[x.rnaMoleculeName],b=y.nucleotideProps[x.nucleotideIndex];void 0===x.basePairType&&(x.basePairType=(0,f.iN)(g.symbol,b.symbol)),e.push({key:n({keys0:h,keys1:x}),mappedBasePair:x,position0:g,position1:b,rnaComplexIndex:E,rnaComplexName:p,rnaMoleculeName0:o,nucleotideIndex0:d,formattedNucleotideIndex0:d+s.firstNucleotideIndex,rnaMoleculeName1:x.rnaMoleculeName,nucleotideIndex1:x.nucleotideIndex,formattedNucleotideIndex1:x.nucleotideIndex+y.firstNucleotideIndex,updateTrigger:0})}}}catch(N){m.e(N)}finally{m.f()}}))})),e.sort((function(e,n){return P({keys0:{rnaMoleculeName:e.rnaMoleculeName0,nucleotideIndex:e.nucleotideIndex0},keys1:{rnaMoleculeName:e.rnaMoleculeName1,nucleotideIndex:e.nucleotideIndex1}},{keys0:{rnaMoleculeName:n.rnaMoleculeName0,nucleotideIndex:n.nucleotideIndex0},keys1:{rnaMoleculeName:n.rnaMoleculeName1,nucleotideIndex:n.nucleotideIndex1}})})),e}),[m,C]),R=(0,u.useMemo)((function(){for(var e=0,n=0,t=0,r=Object.keys(m);t<r.length;t++)for(var o=r[t],a=m[o],i=0,s=Object.keys(a);i<s.length;i++){var u,c=s[i],d=a[Number.parseInt(c)],f=(0,l.Z)(d);try{for(f.s();!(u=f.n()).done;){var p=u.value.strokeWidth;void 0!==p&&(e++,n+=p)}}catch(h){f.e(h)}finally{f.f()}}return 0===e?N.tA:n/e}),[m]),j=(0,u.useMemo)((function(){var e=(0,o.Z)(M);if(void 0!==A){var t,r=(0,l.Z)(A.delete);try{var i=function(){var n=t.value;n.keys0,n.keys1;(0,b.h9)(e,(function(e){return P({keys0:{rnaMoleculeName:e.rnaMoleculeName0,nucleotideIndex:e.nucleotideIndex0},keys1:{rnaMoleculeName:e.rnaMoleculeName1,nucleotideIndex:e.nucleotideIndex1}},n)}),1,[],b.Qt.DO_NOTHING)};for(r.s();!(t=r.n()).done;)i()}catch(R){r.e(R)}finally{r.f()}var s,u=(0,l.Z)(A.add);try{var c=function(){var t=s.value,r=t.keys0,o=t.keys1,a=r.rnaMoleculeName,i=r.nucleotideIndex,l=m[a][i].find((function(e){return e.rnaMoleculeName===o.rnaMoleculeName&&e.nucleotideIndex===o.nucleotideIndex}));if(w(r,o)){var u=v[a],c=u.nucleotideProps[i],d=v[o.rnaMoleculeName],h=d.nucleotideProps[o.nucleotideIndex];void 0===l.basePairType&&(l.basePairType=(0,f.iN)(c.symbol,h.symbol));var x={mappedBasePair:l,position0:c,position1:h,rnaComplexIndex:E,rnaComplexName:p,rnaMoleculeName0:a,nucleotideIndex0:i,formattedNucleotideIndex0:i+u.firstNucleotideIndex,rnaMoleculeName1:o.rnaMoleculeName,nucleotideIndex1:o.nucleotideIndex,formattedNucleotideIndex1:o.nucleotideIndex+d.firstNucleotideIndex,key:n(t)};(0,b.h9)(e,(function(e){return P({keys0:{rnaMoleculeName:e.rnaMoleculeName0,nucleotideIndex:e.nucleotideIndex0},keys1:{rnaMoleculeName:e.rnaMoleculeName1,nucleotideIndex:e.nucleotideIndex1}},t)}),0,[x],b.Qt.ADD)}};for(u.s();!(s=u.n()).done;)c()}catch(R){u.e(R)}finally{u.f()}}var d,h=[],x={},g=(0,l.Z)(y);try{for(g.s();!(d=g.n()).done;){var N=d.value,I=N.rnaMoleculeName,C=N.nucleotideIndex;I in x&&x[I].has(C)||(h.push(N),I in x||(x[I]=new Set),x[I].add(C))}}catch(R){g.e(R)}finally{g.f()}for(var k=function(){var n=_[T],t=(0,b.ry)(e,(function(e){return S({rnaMoleculeName:e.rnaMoleculeName0,nucleotideIndex:e.nucleotideIndex0},n)}));if(null!==t){t.arrayIndex;for(var r=t.arrayIndex;r>=0;r--){var o=e[r];if(o.rnaMoleculeName0!==t.arrayEntry.rnaMoleculeName0||o.nucleotideIndex0!==t.arrayEntry.nucleotideIndex0)break;e[r]=(0,a.Z)((0,a.Z)({},o),{},{updateTrigger:Math.random()})}for(var i=t.arrayIndex;i<e.length;i++){var l=e[i];if(l.rnaMoleculeName0!==t.arrayEntry.rnaMoleculeName0||l.nucleotideIndex0!==t.arrayEntry.nucleotideIndex0)break;e[i]=(0,a.Z)((0,a.Z)({},l),{},{updateTrigger:Math.random()})}}},T=0,_=h;T<_.length;T++)k();return(0,o.Z)(e)}),[M,A,y]),O=(0,u.useMemo)((function(){return 1===_.length}),[_]);return(0,u.useEffect)((function(){var e,n={},t=(0,l.Z)(f.ZP.types);try{for(t.s();!(e=t.n()).done;){n[e.value]={count:0,distanceSum:0,distances:[]}}}catch(fe){t.e(fe)}finally{t.f()}for(var r=0,o=0,a=0,s=Object.entries(m);a<s.length;a++)for(var u=(0,i.Z)(s[a],2),c=u[0],p=u[1],h=0,x=Object.entries(p);h<x.length;h++){var g,y=(0,i.Z)(x[h],2),N=y[0],C=y[1],S=(0,l.Z)(C);try{for(S.s();!(g=S.n()).done;){var P,w=g.value,A=Number.parseInt(N),k=v[c].nucleotideProps[A],_=v[w.rnaMoleculeName].nucleotideProps[w.nucleotideIndex],M=(0,d.TE)(k,_);o+=M,r++;var R=n[null!==(P=w.basePairType)&&void 0!==P?P:(0,f.iN)(k.symbol,_.symbol)];R.count++,R.distanceSum+=M,R.distances.push(M)}}catch(fe){S.e(fe)}finally{S.f()}}for(var j=0,O=0,Z={0:{nucleotideIndex:NaN,rnaMoleculeName:""},1:{nucleotideIndex:NaN,rnaMoleculeName:""},center:{x:NaN,y:NaN}},L=0,D=Object.entries(m);L<D.length;L++){var F,B=(0,i.Z)(D[L],2),z=B[0],W=B[1],U=Object.entries(W).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndex:Number.parseInt(t),basePairsPerNucleotide:r}})),G=v[z],H=(0,l.Z)(U);try{for(H.s();!(F=H.n()).done;)for(var K=F.value,V=K.nucleotideIndex,q=K.basePairsPerNucleotide,X=0;X<q.length;X++){var $=q[X],Q=G.nucleotideProps[V],Y=v[$.rnaMoleculeName].nucleotideProps[$.nucleotideIndex],J={0:{nucleotideIndex:V,rnaMoleculeName:z},1:$,center:(0,d.wK)((0,d.IH)(Q,Y),.5)},ee=J[0].rnaMoleculeName===Z[0].rnaMoleculeName&&J[1].rnaMoleculeName===Z[1].rnaMoleculeName&&Math.abs(J[0].nucleotideIndex-Z[0].nucleotideIndex)<=1&&Math.abs(J[1].nucleotideIndex-Z[1].nucleotideIndex)<=1;ee&&(j+=(0,d.TE)(J.center,Z.center),O++),(ee||X==q.length-1)&&(Z=J)}}catch(fe){H.e(fe)}finally{H.f()}}var ne,te=o/(12*r),re={},oe=(0,l.Z)(f.ZP.types);try{for(oe.s();!(ne=oe.n()).done;){var ae=ne.value,ie=n[ae];re[ae]=(0,b.C2)(ie.distances)}}catch(fe){oe.e(fe)}finally{oe.f()}var le=re[f.ZP.Type.CANONICAL];if(!Number.isNaN(le)){var se,ue=(0,l.Z)(f.ZP.types);try{for(ue.s();!(se=ue.n()).done;){var ce=se.value;if(Number.isNaN(re[ce])){var de=le;ce in I&&(de*=I[ce]),re[ce]=de}}}catch(fe){ue.e(fe)}finally{ue.f()}}T(E,{radius:te,distances:re,helixDistance:j/O})}),[E,m]),E in k?k[E].radius:c._.BasePair.DEFAULT_RADIUS,(0,g.jsx)("g",(0,a.Z)((0,a.Z)({},(t={},(0,s.Z)(t,h.IQ,h.Fr.RNA_COMPLEX),(0,s.Z)(t,h.U5,p),t)),{},{children:(0,g.jsx)(c._.RnaComplex.Name.Provider,{value:p,children:(0,g.jsx)(c._.RnaComplex.SingularRnaMoleculeFlag.Provider,{value:O,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("g",{children:(0,g.jsx)(c._.BasePair.AverageStrokeWidth.Provider,{value:R,children:j.map((function(e){return(0,g.jsx)(f.ZP.MemoizedComponent,(0,a.Z)({},e))}))})}),_.map((function(e){var n,t=(0,i.Z)(e,2),o=t[0],l=t[1];return(0,g.jsx)(c._.RnaMolecule.Name.Provider,{value:o,children:(0,g.jsx)(r.Component,(0,a.Z)((0,a.Z)({},l),{},{nucleotideKeysToRerender:null!==(n=x[o])&&void 0!==n?n:[]}),o)},o)}))]})})})}))}}(y||(y={}))},4914:function(e,n,t){"use strict";t.d(n,{Y:function(){return r}});var r,o,a=t(1413),i=t(3433),l=t(7762),s=t(2791),u=t(6768),c=t(3413),d=t(9750),f=t(920),p=t(9287),h=t(184);(o=r||(r={})).Component=function(e){var n=(0,s.useContext)(c._.App.Settings),t=n[d.pE.USE_DEGREES],r=n[d.pE.AUTOMATICALLY_REPOSITION_ANNOTATIONS],o=(0,s.useMemo)((function(){var n=void 0,t=e.onUpdatePositions;if(r){n=[];var o,a=new Array,s=(0,l.Z)(e.positions);try{for(s.s();!(o=s.n()).done;){var u=o.value;if("symbol"in u&&"string"===typeof u.symbol&&p.h5.isSymbol(u.symbol)){var c,d=u,f=d.labelLineProps,h=d.labelContentProps;void 0!==h&&n.push(h),void 0!==f&&(a.push(f),(c=n).push.apply(c,(0,i.Z)(f.points)))}}}catch(v){s.e(v)}finally{s.f()}t=function(n){for(var t=0,r=a;t<r.length;t++){var o=r[t];o.points=(0,i.Z)(o.points)}e.onUpdatePositions(n)}}return{relativePositions:n,onUpdatePositions:t}}),[r,e.positions,e.onUpdatePositions]),v=o.relativePositions,m=o.onUpdatePositions;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(f.z.Component,{title:"Positions",children:(0,h.jsx)(u.U.Component,(0,a.Z)((0,a.Z)({},e),{},{useDegreesFlag:t,relativePositions:v,onUpdatePositions:m}))})})},o.Simplified=function(e){var n=(0,s.useContext)(c._.App.Settings),t=n[d.pE.USE_DEGREES],r=n[d.pE.AUTOMATICALLY_REPOSITION_ANNOTATIONS],o=(0,s.useMemo)((function(){var n=void 0,t=e.onUpdatePositions;if(r){n=[];var o,a=new Array,s=(0,l.Z)(e.positions);try{for(s.s();!(o=s.n()).done;){var u=o.value;if("symbol"in u&&"string"===typeof u.symbol&&p.h5.isSymbol(u.symbol)){var c,d=u,f=d.labelLineProps,h=d.labelContentProps;void 0!==h&&n.push(h),void 0!==f&&(a.push(f),(c=n).push.apply(c,(0,i.Z)(f.points)))}}}catch(v){s.e(v)}finally{s.f()}t=function(n){for(var t=0,r=a;t<r.length;t++){var o=r[t];o.points=(0,i.Z)(o.points)}e.onUpdatePositions(n)}}return{relativePositions:n,onUpdatePositions:t}}),[r,e.positions,e.onUpdatePositions]),v=o.relativePositions,m=o.onUpdatePositions;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(f.z.Component,{title:"Positions",children:(0,h.jsx)(u.U.Simplified,(0,a.Z)((0,a.Z)({},e),{},{useDegreesFlag:t,relativePositions:v,onUpdatePositions:m}))})})}},8161:function(e,n,t){"use strict";t.r(n),t.d(n,{BasePairsEditor:function(){return r}});var r,o=t(4942),a=t(3433),i=t(1413),l=t(7762),s=t(9439),u=t(2791),c=t(3413),d=t(6048),f=t(7089),p=t(9750),h=t(1702),v=t(9766),m=t(6559),x=t(920),g=t(4532),y=t(184);!function(e){var n,t=12,r=!1,b=function(e){return e.TABLE_BASED="Table-based",e.TEXT_BASED="Text-based",e}({});e.EditorType=b;var N=Object.values(b);e.isEditorType=function(e){return N.includes(e)};var I,C=e.TextBasedEditor=(0,u.forwardRef)((function(e,n){var r=e.rnaComplexProps,o=e.setBasePairs,a=e.approveBasePairs,i=e.initialBasePairs,l=e.defaultRnaComplexIndex,c=e.defaultRnaMoleculeName0,d=e.defaultRnaMoleculeName1,p=(0,u.useState)(""),h=(0,s.Z)(p,2),v=h[0],m=h[1],x=(0,u.useState)(0),g=(0,s.Z)(x,2),b=g[0],N=g[1];function I(e){N(Math.min(e,5))}var C=(0,u.useMemo)((function(){return Object.values(r).map((function(e){return e.name}))}),[r]);return(0,u.useEffect)((function(){if(void 0!==i){var e=i.map((function(e){var n=e.rnaComplexIndex,t=e.rnaMoleculeName0,o=e.rnaMoleculeName1,a=e.nucleotideIndex0,i=e.nucleotideIndex1,l=e.length,s=e.type,u=[null!==a&&void 0!==a?a:"#",null!==i&&void 0!==i?i:"#",null!==l&&void 0!==l?l:"#"];if(void 0===n){var c=void 0===t,d=void 0===o;c&&!d?u.push('"'+o+'"'):!c&&d?u.push('"'+t+'"'):c||d||u.push('"'+t+'"','"'+o+'"')}else u.push('"'+(null!==t&&void 0!==t?t:"")+'"','"'+(null!==o&&void 0!==o?o:"")+'"','"'+r[n].name+'"'),void 0!==s&&u.push('"'.concat(s,'"'));return u.join(" ")})).join("\n");m(e),I(i.length+1)}else m("")}),[i]),(0,u.useImperativeHandle)(n,(function(){return{updateAll:function(){var e=v.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0}));try{var n=e.map((function(e,n){var t=e.match(/^(-?\d+)\s+(-?\d+)\s+(\d+)(?:\s+("[^"]*"))?(?:\s+("[^"]*"))?(?:\s+("[^"]*"))?(?:\s+("[^"]*"))?$/);if(null===t)throw"line #".concat(n+1," had an unrecognized format.");var o=t.slice(1).filter((function(e){return void 0!==e&&e.length>0}));if(o.length<3)throw"Too few arguments were found in line #".concat(n+1);var a=o[0],i=Number.parseInt(a),s="The provided nucleotide index #1 in line #".concat(n+1," is not an integer.");if(!/^-?\d+$/.test(a))throw s;if(Number.isNaN(i))throw s;var u=o[1],p=Number.parseInt(u),h="The provided nucleotide index #2 in line #".concat(n+1," is not an integer.");if(!/^-?\d+$/.test(u))throw h;if(Number.isNaN(p))throw h;var v=o[2],m="The provided helix length in line #".concat(n+1," is not a non-negative integer.");if(!/^\d+$/.test(v))throw m;var x,g=Number.parseInt(v);if(Number.isNaN(g))throw m;function y(e){var n=/^"(.*)"$/.exec(e);return null!==n&&(e=n[1]),e}if(o.length<6){if(void 0===l)throw"No name was provided for the RNA complex in line #".concat(n+1,".");x=l}else{var b=y(o[5]);if(-1===(x=C.findIndex((function(e){return b===e}))))throw"The provided RNA complex name in line #".concat(n+1," does not match any existing RNA complex's name.")}var N,I,E=r[x];if(o.length<4){if(void 0===c)throw"No name was provided for RNA-molecule #1 in line #".concat(n+1,".");N=c}else N=y(o[3]);if(!(N in E.rnaMoleculeProps))throw"The name provided for RNA molecule #1 in line #".concat(n+1," does not match any existing RNA molecule's name.");if(o.length<5){if(void 0===d)throw"No name was provided for RNA-molecule #2 in line #".concat(n+1,".");I=d}else I=y(o[4]);if(!(I in E.rnaMoleculeProps))throw"The name provided for RNA molecule #2 in line #".concat(n+1," does not match any existing RNA molecule's name.");for(var S=E.rnaMoleculeProps[N],P=E.rnaMoleculeProps[I],w=0;w<g;w++){var A=i+w,k=p-w;if(!(A in S.nucleotideProps))throw"The provided helix data includes a non-existent nucleotide at nucleotide index #".concat(A,".");if(!(k in P.nucleotideProps))throw"The provided helix data includes a non-existent nucleotide at nucleotide index #".concat(k,".")}var T=void 0,_=o[6];if(void 0!==_&&(_=y(_).toLocaleLowerCase(),void 0===(T=f.ZP.types.find((function(e){return e.toLocaleLowerCase()===_})))))throw'The provided base-pair type "'.concat(T,'" in line #').concat(n+1," was not recognized.");return{rnaComplexIndex:x,rnaMoleculeName0:N,rnaMoleculeName1:I,nucleotideIndex0:i,nucleotideIndex1:p,length:g,type:T}}));a(n),o(n)}catch(t){if("string"===typeof t)return void alert(t);throw t}}}})),(0,y.jsx)("textarea",{style:{width:"99%",height:"".concat(t*b,"px"),fontSize:"".concat(t,"px")},value:v,onInput:function(e){var n,t;I((null!==(n=null===(t=e.target.value.match(/\n/g))||void 0===t?void 0:t.length)&&void 0!==n?n:-1)+2)},onChange:function(e){var n=e.target.value;m(n)}})})),E=e.TableBasedEditor=(0,u.forwardRef)((function(e,n){var t=e.rnaComplexProps,r=e.setBasePairs,o=e.approveBasePairs,d=e.initialBasePairs,f=e.defaultRnaComplexIndex,p=e.defaultRnaMoleculeName0,h=e.defaultRnaMoleculeName1,m=e.setBasePairKeysToEdit,x=e.populateBasePairKeysToEdit,g=e.repositionWithCalculatedDistances,b=e.setRepositionWithCalculatedDistances;(0,u.useImperativeHandle)(n,(function(){return{updateAll:function(){T(C,new Set)}}}));var N=(0,u.useState)([]),I=(0,s.Z)(N,2),C=I[0],E=I[1],S=(0,u.useState)([]),w=(0,s.Z)(S,2),A=w[0],k=w[1];function T(e,n){try{o(e);var t=r(e,n);E(t)}catch(a){if("string"===typeof a)return void alert(a);throw a}}var _=(0,u.useContext)(c._.App.PushToUndoStack),M=(0,u.useMemo)((function(){return Object.entries(t).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return{rnaComplexIndex:Number.parseInt(t),singularRnaComplexProps:r}}))}),[t]);return(0,u.useEffect)((function(){var e,n=new Array,t=new Array,r=(0,l.Z)(null!==d&&void 0!==d?d:[]);try{for(r.s();!(e=r.n()).done;){var o=e.value,a=(0,i.Z)({rnaComplexIndex:f,rnaMoleculeName0:p,rnaMoleculeName1:h},o);void 0===a.rnaComplexIndex||void 0===a.rnaMoleculeName0||void 0===a.rnaMoleculeName1||void 0===a.nucleotideIndex0||void 0===a.nucleotideIndex1||void 0===a.length?t.push(a):n.push(a)}}catch(s){r.e(s)}finally{r.f()}E(n),0===t.length&&t.push({}),k(t)}),[d]),(0,y.jsx)("div",{className:"visible-scrollbar",style:{overflow:"scroll",overflowX:"hidden",background:"inherit",position:"sticky"},children:(0,y.jsxs)("table",{style:{border:"inherit",borderCollapse:"collapse",borderSpacing:0,width:"auto",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:[(0,y.jsx)("thead",{style:{border:"1px solid black",position:"sticky",top:-1,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:(0,y.jsxs)("tr",{style:{border:"inherit",position:"sticky",top:0,background:"inherit"},children:[(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"RNA complex"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"RNA molecule #1"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"Nucleotide #1"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"RNA molecule #2"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"Nucleotide #2"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"Length"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"Type"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"Edit"}),(0,y.jsx)("th",{style:{border:"inherit",position:"sticky",top:0,boxShadow:"0 2px 2px -1px rgba(0, 0, 0, 0.4)",background:"inherit"},children:"Add / Delete"})]})}),(0,y.jsxs)("tbody",{style:{border:"inherit"},children:[C.map((function(e,n){var r=e.rnaComplexIndex,o=e.rnaMoleculeName0,i=e.rnaMoleculeName1,l=e.nucleotideIndex0,s=e.nucleotideIndex1,u=e.length,c=e.type,d=t[r];return(0,y.jsxs)("tr",{style:{textAlign:"center"},children:[(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:d.name}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:o}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:l}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:i}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:s}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:u}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:null!==c&&void 0!==c?c:"auto"}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:(0,y.jsx)("button",{style:{width:"100%",height:"100%"},onClick:function(){_();var t=A[0];void 0===t.rnaComplexIndex&&void 0===t.rnaMoleculeName0&&void 0===t.rnaMoleculeName1&&void 0===t.nucleotideIndex0&&void 0===t.nucleotideIndex1&&void 0===t.length&&void 0===t.type?k([e]):k([].concat((0,a.Z)(A),[e])),E([].concat((0,a.Z)(C.slice(0,n)),(0,a.Z)(C.slice(n+1))));var r={};x(e,r,"delete"),m(r)},children:"Edit"})}),(0,y.jsx)("td",{style:{border:"1px solid black",textAlign:"center"},children:(0,y.jsx)("button",{style:{width:"100%",height:"100%"},onClick:function(){_();for(var e=new Set,t=0;t<C.length;t++)e.add(t);T([].concat((0,a.Z)(C.slice(0,n)),(0,a.Z)(C.slice(n+1))),e)},children:"Delete"})})]},n)})),(0,y.jsxs)("tr",{style:{border:"1px solid black",background:"black",height:10},children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{})]}),A.map((function(e,n){function r(){for(var n=new Set,t=0;t<C.length-1;t++)n.add(t);var r=(0,a.Z)(C),o=structuredClone(e);(0,v.h9)(r,(function(e){var n=e.rnaComplexIndex,t=e.rnaMoleculeName0,r=e.rnaMoleculeName1,a=e.nucleotideIndex0,i=e.nucleotideIndex1;return n-o.rnaComplexIndex||t.localeCompare(o.rnaMoleculeName0)||r.localeCompare(o.rnaMoleculeName1)||a-o.nucleotideIndex0||i-o.nucleotideIndex1}),0,[o],v.Qt.ADD),T(r,n)}var o=0===n?function(){_(),r(),e.rnaComplexIndex=void 0,e.rnaMoleculeName0=void 0,e.rnaMoleculeName1=void 0,e.nucleotideIndex0=void 0,e.nucleotideIndex1=void 0,e.length=void 0,e.type=void 0,k((0,a.Z)(A))}:function(){_(),r(),k([].concat((0,a.Z)(A.slice(0,n)),(0,a.Z)(A.slice(n+1))))};return(0,y.jsx)(P,(0,i.Z)((0,i.Z)({},e),{},{setRnaComplexIndex:function(n){e.rnaComplexIndex=n,e.rnaMoleculeName0=void 0,e.rnaMoleculeName1=void 0,e.nucleotideIndex0=void 0,e.nucleotideIndex1=void 0,k((0,a.Z)(A))},setRnaMoleculeName0:function(n){e.rnaMoleculeName0=n,e.nucleotideIndex0=void 0,k((0,a.Z)(A))},setRnaMoleculeName1:function(n){e.rnaMoleculeName1=n,e.nucleotideIndex1=void 0,k((0,a.Z)(A))},setNucleotideIndex0:function(n){e.nucleotideIndex0=n,k((0,a.Z)(A))},setNucleotideIndex1:function(n){e.nucleotideIndex1=n,k((0,a.Z)(A))},setLength:function(n){e.length=n,k((0,a.Z)(A))},setType:function(n){e.type=n,k((0,a.Z)(A))},rnaComplexProps:t,flattenedRnaComplexProps:M,addButtonOnClick:o,repositionWithCalculatedDistances:g,setRepositionWithCalculatedDistances:b}),n)}))]})]})})})),S=(n={},(0,o.Z)(n,b.TEXT_BASED,C),(0,o.Z)(n,b.TABLE_BASED,E),n);function P(e){var n=e.rnaComplexIndex,r=e.rnaMoleculeName0,o=e.rnaMoleculeName1,i=e.nucleotideIndex0,l=e.nucleotideIndex1,s=e.length,c=e.type,d=e.flattenedRnaComplexProps,p=e.rnaComplexProps,v=e.setRnaComplexIndex,m=e.setRnaMoleculeName0,x=e.setRnaMoleculeName1,b=e.setNucleotideIndex0,N=e.setNucleotideIndex1,I=e.setLength,C=e.setType,E=e.addButtonOnClick,S=(0,u.useMemo)((function(){var e=void 0,t=new Array;return void 0!==n&&(e=p[n],t=Object.keys(e.rnaMoleculeProps)),{singularRnaComplexProps:e,rnaMoleculeNames:t}}),[n]),P=S.singularRnaComplexProps,w=S.rnaMoleculeNames,A=(0,u.useMemo)((function(){return void 0===r?void 0:P.rnaMoleculeProps[r]}),[r]),k=(0,u.useMemo)((function(){return void 0===o?void 0:P.rnaMoleculeProps[o]}),[o]);return(0,y.jsxs)("tr",{style:{border:"inherit",maxHeight:t},children:[(0,y.jsx)("td",{style:{border:"1px solid black"},children:(0,y.jsxs)("select",{style:{width:"100%",height:"100%"},value:null!==n&&void 0!==n?n:-1,onChange:function(e){var n=Number.parseInt(e.target.value);v(n)},children:[(0,y.jsx)("option",{style:{display:"none"},children:"Select an RNA complex"}),d.map((function(e){var n=e.rnaComplexIndex,t=e.singularRnaComplexProps;return(0,y.jsx)("option",{value:n,children:t.name},n)}))]})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t},children:(0,y.jsxs)("select",{style:{width:"100%",height:"100%"},disabled:0===w.length,value:r,onChange:function(e){var n=e.target.value;m(n)},children:[(0,y.jsx)("option",{style:{display:"none"},children:"Select an RNA molecule"}),w.map((function(e){return(0,y.jsx)("option",{value:e,children:e},e)}))]})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t},children:(0,y.jsx)(h.Z.Integer,{style:{verticalAlign:"middle",width:"100%",height:"100%"},disabledFlag:void 0===A,value:null!==i&&void 0!==i?i:NaN,setValue:b,stringToValue:function(e){var n=(0,g.wj)(e);return void 0===n||n in A.nucleotideProps?n:{errorMessage:"Nucleotide #".concat(n," does not exist in RNA molecule #1")}}})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t},children:(0,y.jsxs)("select",{style:{width:"100%",height:"100%"},disabled:0===w.length,value:o,onChange:function(e){var n=e.target.value;x(n)},children:[(0,y.jsx)("option",{style:{display:"none"},children:"Select an RNA molecule"}),w.map((function(e){return(0,y.jsx)("option",{value:e,children:e},e)}))]})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t},children:(0,y.jsx)(h.Z.Integer,{style:{verticalAlign:"middle",width:"100%",height:"100%"},disabledFlag:void 0===k,value:null!==l&&void 0!==l?l:NaN,setValue:N,stringToValue:function(e){var n=(0,g.wj)(e);return void 0===n||n in k.nucleotideProps?n:{errorMessage:"Nucleotide #".concat(n," does not exist in RNA molecule #2")}}})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t},children:(0,y.jsx)(h.Z.Integer,{style:{width:"100%",height:"100%"},value:null!==s&&void 0!==s?s:NaN,setValue:I,stringToValue:function(e){var n=(0,g.wj)(e);return void 0!==n&&n<0?{errorMessage:"Length must be non-negative"}:n}})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t},children:(0,y.jsxs)("select",{style:{width:"100%",height:"100%"},value:null!==c&&void 0!==c?c:-1,onChange:function(e){var n=e.target.value;C("auto"===n?void 0:n)},children:[(0,y.jsx)("option",{style:{display:"none"},children:"Select a base-pair type"}),["auto"].concat((0,a.Z)(f.ZP.types)).map((function(e){return(0,y.jsx)("option",{value:e,children:e},e)}))]})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t,textAlign:"center"},children:(0,y.jsx)("span",{style:{width:"100%",height:"100%",textAlign:"center"},children:"N/A"})}),(0,y.jsx)("td",{style:{border:"1px solid black",maxHeight:t,padding:"4px"},children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,y.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"10px",whiteSpace:"nowrap"},children:[(0,y.jsx)("input",{type:"checkbox",checked:e.repositionWithCalculatedDistances||!1,onChange:function(n){var t;return null===(t=e.setRepositionWithCalculatedDistances)||void 0===t?void 0:t.call(e,n.target.checked)},style:{margin:0,transform:"scale(0.8)"}}),(0,y.jsx)("span",{children:"Reposition"})]}),(0,y.jsx)("button",{disabled:!(void 0!==n&&void 0!==r&&void 0!==o&&void 0!==i&&void 0!==l&&void 0!==s&&s>=0),style:{width:"100%",height:"20px",fontSize:"10px"},onClick:E,children:"Add"})]})})]})}e.Component=function(e){var n=e.rnaComplexProps,t=e.approveBasePairs,o=e.initialBasePairs,i=e.defaultRnaComplexIndex,h=e.defaultRnaMoleculeName0,g=e.defaultRnaMoleculeName1,b=(0,u.useContext)(c._.Nucleotide.SetKeysToRerender),N=(0,u.useContext)(c._.BasePair.SetKeysToEdit),C=(0,u.useContext)(c._.App.Settings),E=(0,u.useContext)(c._.BasePair.AverageDistances),P=(0,u.useContext)(c._.App.IndicesOfFrozenNucleotides),w=(0,u.useContext)(c._.App.PushToUndoStack),A=(0,u.useState)(C[p.pE.BASE_PAIRS_EDITOR_TYPE]),k=(0,s.Z)(A,2),T=k[0],_=k[1],M=(0,u.useState)(!1),R=(0,s.Z)(M,2),j=R[0],O=(R[1],(0,u.useState)(r)),Z=(0,s.Z)(O,2),L=Z[0],D=Z[1],F=(0,u.useState)(r),B=(0,s.Z)(F,2),z=B[0],W=B[1],U=(0,u.useState)(1),G=(0,s.Z)(U,2),H=G[0],K=G[1],V=(0,u.useState)(1),q=(0,s.Z)(V,2),X=q[0],$=q[1],Q=(0,u.useState)(1),Y=(0,s.Z)(Q,2),J=Y[0],ee=Y[1],ne=(0,u.useState)(1),te=(0,s.Z)(ne,2),re=te[0],oe=te[1],ae=(0,u.useState)(!1),ie=(0,s.Z)(ae,2),le=ie[0],se=ie[1],ue=(0,u.useState)([]),ce=(0,s.Z)(ue,2),de=ce[0],fe=ce[1],pe=(0,u.useState)(o),he=(0,s.Z)(pe,2),ve=he[0],me=he[1],xe=(0,u.useRef)();xe.current=de;var ge=(0,u.useRef)();ge.current=j;var ye=(0,u.useRef)();ye.current=L;var be=(0,u.useRef)();be.current=z;var Ne=(0,u.useRef)();Ne.current=H;var Ie=(0,u.useRef)();Ie.current=J;var Ce=(0,u.useRef)();Ce.current=X;var Ee=(0,u.useRef)();Ee.current=re;var Se=(0,u.useRef)();Se.current=P;var Pe=(0,u.useMemo)((function(){return function(e,t,r){var o=Se.current,i=new Array,u=e.rnaComplexIndex,c=e.rnaMoleculeName0,f=e.rnaMoleculeName1,p=e.nucleotideIndex0,h=e.nucleotideIndex1,v=e.length,m=e.type,x=e.types,g=ge.current;u in t||(t[u]={add:[],delete:[]});var y=t[u],b=y[r],N=y.delete,I=n[u],C=I.rnaMoleculeProps[c],E=I.rnaMoleculeProps[f];p-=C.firstNucleotideIndex,h-=E.firstNucleotideIndex;for(var S=(u in o?o[u]:{}),P=(c in S?S[c]:new Set),w=(f in S?S[f]:new Set),A=[],k=[],T=function(){var e=p+_,n=h-_,t=P.has(e)||w.has(n);if(!t&&c in I.basePairs){var o=I.basePairs[c];if(e in o){var u,v=o[e],y=(0,l.Z)(v);try{for(y.s();!(u=y.n()).done;){var C=u.value;if(C.rnaMoleculeName in S){var E=S[C.rnaMoleculeName];t||(t=E.has(p))}}}catch(V){y.e(V)}finally{y.f()}}}if(!t&&f in I.basePairs){var T=I.basePairs[f];if(n in T){var M,R=T[n],j=(0,l.Z)(R);try{for(j.s();!(M=j.n()).done;){var O=M.value;if(O.rnaMoleculeName in S){var Z=S[O.rnaMoleculeName];t||(t=Z.has(h))}}}catch(V){j.e(V)}finally{j.f()}}}if(t)return i.push(_),A.push(_),"continue";var L=[{rnaMoleculeName:c,nucleotideIndex:e},{rnaMoleculeName:f,nucleotideIndex:n}].sort(d.IK),D=(0,s.Z)(L,2),F={keys0:D[0],keys1:D[1]};if("add"===r)try{var B=(0,d.P3)(I,c,e,f,n,g?d.GN.DELETE_PREVIOUS_MAPPING:d.GN.DO_NOTHING,{basePairType:null!==m&&void 0!==m?m:void 0===x?void 0:x[_]});N.push.apply(N,[F].concat((0,a.Z)(B)))}catch(q){if("string"===typeof q)return i.push(_),k.push(_),"continue";throw q}else if("delete"===r){var z=I.basePairs[c],W=I.basePairs[f];if(e in z){var U=z[e],G=U.findIndex((function(e){return e.rnaMoleculeName===f&&e.nucleotideIndex===n}));-1!==G&&(1===U.length?delete z[e]:z[e]=[].concat((0,a.Z)(U.slice(0,G)),(0,a.Z)(U.slice(G+1))))}if(n in W){var H=W[n],K=H.findIndex((function(n){return n.rnaMoleculeName===c&&n.nucleotideIndex===e}));-1!==K&&(1===H.length?delete W[n]:W[n]=[].concat((0,a.Z)(H.slice(0,K)),(0,a.Z)(H.slice(K+1))))}}b.push(F)},_=0;_<v;_++)T();var M=[];return A.length>0&&M.push(["The following base pairs were not ".concat({add:"added",delete:"deleted"}[r]," due to the involvement of frozen nucleotide(s):")].concat((0,a.Z)(A.map((function(e){return"Base pair #".concat(e+1)})))).join("\n")),k.length>0&&M.push(["The following base pairs were not added due to conflicting, preexisting base pair(s). Activate the relevant setting if you want to override them:"].concat((0,a.Z)(k.map((function(e){return"#".concat(e+1)})))).join("\n")),i}}),[]),we=(0,u.useMemo)((function(){return function(e){var t,r=(0,l.Z)(e);try{var o=function(){var e=t.value,r=n[e.rnaComplexIndex],o=r.rnaMoleculeProps[e.rnaMoleculeName0],a=r.rnaMoleculeProps[e.rnaMoleculeName1],i=r.basePairs[e.rnaMoleculeName0];e.types=[];for(var l=function(){var n,t=e.nucleotideIndex0-o.firstNucleotideIndex+s,r=e.nucleotideIndex1-a.firstNucleotideIndex-s,l=i[t].find((function(n){var t=n.rnaMoleculeName,o=n.nucleotideIndex;return t===e.rnaMoleculeName1&&o===r}));e.types.push(null!==(n=l.basePairType)&&void 0!==n?n:(0,f.iN)(o.nucleotideProps[t].symbol,a.nucleotideProps[r].symbol))},s=0;s<e.length;s++)l()};for(r.s();!(t=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}fe(e)}}),[]),Ae=(0,u.useMemo)((function(){return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,o=arguments.length>2?arguments[2]:void 0,a=ye.current,i=be.current,s=xe.current,u=Ne.current,c=Ie.current,h=Ce.current,x=Ee.current,g={},y=new Array,I=(0,l.Z)(s);try{for(I.s();!(t=I.n()).done;){var E,S=t.value,P=Pe(S,g,"delete"),w=Number.NaN,A=(0,l.Z)(P);try{for(A.s();!(E=A.n()).done;){var k=E.value,T=S.rnaComplexIndex,_=S.rnaMoleculeName0,M=S.rnaMoleculeName1,R=S.nucleotideIndex0,j=S.nucleotideIndex1,O=S.type;if(k===w+1){var Z=y[y.length-1];Z.type===O?Z.length++:y.push({rnaComplexIndex:T,rnaMoleculeName0:_,rnaMoleculeName1:M,nucleotideIndex0:R+k,nucleotideIndex1:j-k,length:1,type:O})}else y.push({rnaComplexIndex:T,rnaMoleculeName0:_,rnaMoleculeName1:M,nucleotideIndex0:R+k,nucleotideIndex1:j-k,length:1,type:O});w=k}}catch($e){A.e($e)}finally{A.f()}}}catch($e){I.e($e)}finally{I.f()}var L,D=new Set,F=(0,l.Z)(e);try{for(F.s();!(L=F.n()).done;){var B,z=L.value,W=Pe(z,g,"add"),U=z.rnaComplexIndex,G=z.rnaMoleculeName0,H=z.rnaMoleculeName1,K=z.nucleotideIndex0,V=z.nucleotideIndex1,q=z.length,X=z.type,$=-1,Q=(0,l.Z)(W);try{for(Q.s();!(B=Q.n()).done;){var Y=B.value;if(0!==Y){var J=Y-$-1;y.push({rnaComplexIndex:U,rnaMoleculeName0:G,rnaMoleculeName1:H,nucleotideIndex0:K+Y-J,nucleotideIndex1:V-Y+J,length:J,type:X}),$=Y}D.add(Y)}}catch($e){Q.e($e)}finally{Q.f()}$!==q-1&&y.push({rnaComplexIndex:U,rnaMoleculeName0:G,rnaMoleculeName1:H,nucleotideIndex0:K+$+1,nucleotideIndex1:V-($+1),length:q-$-1,type:X})}}catch($e){F.e($e)}finally{F.f()}if(null!==o&&void 0!==o?o:a||i){for(var ee={},ne=y.map((function(e,t){var o=n[e.rnaComplexIndex],a=o.rnaMoleculeProps[e.rnaMoleculeName0],i=o.rnaMoleculeProps[e.rnaMoleculeName1],l=e.nucleotideIndex0-a.firstNucleotideIndex,s=e.nucleotideIndex1-i.firstNucleotideIndex,u=new Array,c=e.rnaComplexIndex,d=e.rnaMoleculeName0,p=e.rnaMoleculeName1;c in ee||(ee[c]={});var h=ee[c];d in h||(h[d]=[]);var v=h[d];p in h||(h[p]=[]);for(var m=h[p],x=function(){var n=l+g,c=s-g;v.push(n),m.push(c);var h=a.nucleotideProps[n],x=i.nucleotideProps[c],y=e.type;if(void 0===y&&d in o.basePairs){var b=o.basePairs[d];if(n in b){var N=b[n].find((function(e){return e.rnaMoleculeName===p&&e.nucleotideIndex===c}));void 0!==N&&(y=N.basePairType)}}void 0===y&&(y=(0,f.iN)(h.symbol,x.symbol));var I=!r.has(t),C=ke.current;if(C){var E=n+a.firstNucleotideIndex,S=c+i.firstNucleotideIndex,P=(void 0===C.start||E>=C.start)&&(void 0===C.end||E<=C.end),w=(void 0===C.start||S>=C.start)&&(void 0===C.end||S<=C.end);I=P||w}u.push({0:h,1:x,basePairType:y,allowRepositioningFlag:I})},g=0;g<e.length;g++)x();return u})),te=0;te<ne.length;te++){var re=ne[te];if(0!==re.length){for(var oe=re[0],ae=oe[0],ie=oe[1],se=(0,m.wK)((0,m.IH)(ae,ie),.5),ue=(0,m.Fv)((0,m.$X)(ie,ae)),ce=(0,m.K)(ue),de=0,fe=0;fe<re.length;fe++)for(var pe=re[fe],he=0,ve=[pe[0],pe[1]];he<ve.length;he++){var me=ve[he];de+=(0,v.Xx)((0,m.Ih)((0,m.$X)(me,se),ce))}de<0&&(ce=(0,m.tk)(ce));for(var ge=0;ge<re.length;ge++){var Se=re[ge],Ae=Se[0],Te=Se[1],_e=Se.basePairType,Me=(0,m.wK)((0,m.IH)(Ae,Te),.5),Re=(0,m.$X)(Te,Ae),je=(0,m.Fv)(Re),Oe=0;if(Se.allowRepositioningFlag&&a)if(le){var Ze=C[p.pE.CANONICAL_BASE_PAIR_DISTANCE],Le=C[p.pE.MISMATCH_BASE_PAIR_DISTANCE],De=C[p.pE.WOBBLE_BASE_PAIR_DISTANCE];switch(_e){case f.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK:case f.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK:case f.ZP.Type.CANONICAL:Oe=Number.isNaN(Ze)?u:Ze;break;case f.ZP.Type.MISMATCH:Oe=Number.isNaN(Le)?h:Le;break;case f.ZP.Type.WOBBLE:Oe=Number.isNaN(De)?c:De;break;default:Oe=Number.isNaN(Le)?h:Le}}else switch(_e){case f.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK:case f.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK:case f.ZP.Type.CANONICAL:Oe=u;break;case f.ZP.Type.MISMATCH:Oe=h;break;case f.ZP.Type.WOBBLE:Oe=c;break;default:Oe=h}else Oe=(0,m.VE)(Re);if(Oe*=.5,Se.allowRepositioningFlag&&i){var Fe=le?Number.isNaN(C[p.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS])?x:C[p.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS]:x;Me=(0,m.IH)(se,(0,m.wK)(ce,ge*Fe)),je=ue}Re=(0,m.wK)(je,Oe);var Be=(0,m.$X)(Me,Re),ze=(0,m.IH)(Me,Re);Ae.x=Be.x,Ae.y=Be.y,Te.x=ze.x,Te.y=ze.y}}}for(var We=0,Ue=Object.values(ee);We<Ue.length;We++)for(var Ge=Ue[We],He=0,Ke=Object.values(Ge);He<Ke.length;He++){Ke[He].sort(v.cV)}b(ee)}for(var Ve=0,qe=Object.values(g);Ve<qe.length;Ve++){var Xe=qe[Ve];Xe.add.sort(d.T_),Xe.delete.sort(d.T_)}return N(g),we(y),y}}),[]),ke=(0,u.useRef)(null);return(0,u.useEffect)((function(){function e(e){ke.current=e.detail||{},w(),Ae((0,a.Z)(de),new Set)}return window.addEventListener("triggerReformatRange",e),function(){return window.removeEventListener("triggerReformatRange",e)}}),[de]),(0,u.useEffect)((function(){var e,n={},t=(0,l.Z)(f.ZP.types);try{for(t.s();!(e=t.n()).done;){for(var r=e.value,o=[],a=0,i=Object.values(E);a<i.length;a++){var s=i[a].distances;o.push(s[r])}n[r]=(0,v.C2)(o)}}catch(R){t.e(R)}finally{t.f()}var u=[n[f.ZP.Type.CANONICAL],n[f.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK],n[f.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK]].filter((function(e){return!Number.isNaN(e)}));function c(e){return 1*e.reduce((function(e,n){return e+n}))/e.length}for(var d=0===u.length?1:c(u),h=f.ZP.types.filter((function(e){return e!==f.ZP.Type.CANONICAL&&e!==f.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK&&e!==f.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK&&e!==f.ZP.Type.WOBBLE})).map((function(e){return n[e]})).filter((function(e){return!Number.isNaN(e)})),m=0===h.length?1:c(h),x=n[f.ZP.Type.WOBBLE],g=0,y=0,b=0,N=Object.values(E);b<N.length;b++){var I=N[b].helixDistance;Number.isNaN(I)||(g+=I,y++)}var S=g/y,P=C[p.pE.BASE_PAIRS_EDITOR_TYPE],w=C[p.pE.REPOSITION_NUCLEOTIDES_WHEN_FORMATTING],A=C[p.pE.CANONICAL_BASE_PAIR_DISTANCE],k=C[p.pE.MISMATCH_BASE_PAIR_DISTANCE],T=C[p.pE.WOBBLE_BASE_PAIR_DISTANCE],M=C[p.pE.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS];_(P),D(w),W(w),K(Number.isNaN(A)?Number.isNaN(d)?1:d:A),$(Number.isNaN(k)?Number.isNaN(m)?1:m:k),ee(Number.isNaN(T)?Number.isNaN(x)?1:x:T),oe(Number.isNaN(M)?Number.isNaN(S)?1:S:M)}),[E]),(0,u.useEffect)((function(){me(structuredClone(de))}),[T]),(0,u.useEffect)((function(){me(o),we(void 0===o?[]:o.filter((function(e){return void 0!==e.rnaComplexIndex&&void 0!==e.rnaMoleculeName0&&void 0!==e.rnaMoleculeName1&&void 0!==e.nucleotideIndex0&&void 0!==e.nucleotideIndex1&&void 0!==e.length})))}),[o]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(x.z.Component,{title:"Base-pairs editor",initialCollapsedFlag:!1,children:[(0,y.jsxs)("label",{children:["Editor type:\xa0",(0,y.jsx)(I.Component,{editorType:T,onChange:_})]}),(0,y.jsx)("br",{}),(0,y.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px",padding:"6px 8px",borderRadius:"4px",backgroundColor:le?"#e8f5e8":"transparent",border:le?"1px solid #4caf50":"1px solid transparent",transition:"all 0.2s ease"},children:[(0,y.jsx)("input",{type:"checkbox",checked:le,onChange:function(e){return se(e.target.checked)},style:{margin:0}}),(0,y.jsx)("span",{style:{fontSize:"12px",fontWeight:le?"600":"400",color:le?"#2e7d32":"inherit"},children:"Reposition nucleotides with calculated distances"}),le&&(0,y.jsx)("span",{style:{fontSize:"10px",color:"#666",fontStyle:"italic",marginLeft:"4px"},children:"(Using auto-calculated values from uploaded structure)"})]}),(0,y.jsx)("br",{}),(0,u.createElement)(S[T],{rnaComplexProps:n,setBasePairs:Ae,defaultRnaComplexIndex:i,defaultRnaMoleculeName0:h,defaultRnaMoleculeName1:g,approveBasePairs:t,initialBasePairs:ve,setBasePairKeysToEdit:N,populateBasePairKeysToEdit:Pe,repositionWithCalculatedDistances:le,setRepositionWithCalculatedDistances:se})]}),(0,y.jsx)("div",{style:{display:"none"},children:(0,y.jsx)("button",{id:"__hidden_reformat_button__",onClick:function(){w(),Ae((0,a.Z)(de),new Set)},children:"Re-format all"})})]})},(I||(I=e.EditorTypeSelector||(e.EditorTypeSelector={}))).Component=function(e){var n=e.editorType,t=e.onChange;return(0,y.jsx)("select",{value:n,onChange:function(e){t(e.target.value)},children:N.map((function(e,n){return(0,y.jsx)("option",{value:e,children:e},n)}))})},e.TableRow=P}(r||(r={}))},920:function(e,n,t){"use strict";t.d(n,{z:function(){return r}});var r,o=t(1413),a=t(9439),i=t(2791),l=t(3413),s=t(184);(r||(r={})).Component=function(e){var n=e.initialCollapsedFlag,t=e.title,r=e.children,u=e.buttonStyle,c=e.divStyle,d=(0,i.useContext)(l._.Collapsible.Width),f=null!==d&&void 0!==d?d:"100%",p=(0,i.useState)(null===n||void 0===n||n),h=(0,a.Z)(p,2),v=h[0],m=h[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"collapsible",style:(0,o.Z)({width:f},u),onClick:function(){m(!v)},children:[(0,s.jsx)("span",{style:{display:"inline-block",textAlign:"left",width:"50%",whiteSpace:"nowrap"},children:t}),(0,s.jsx)("span",{style:{display:"inline-block",textAlign:"right",width:"50%"},children:v?"+":"-"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{style:(0,o.Z)({display:v?"none":"block",paddingLeft:"10px"},c),children:(0,s.jsx)(l._.Collapsible.Width.Provider,{value:"100%",children:r})})]})}},1702:function(e,n,t){"use strict";var r,o=t(1413),a=t(9439),i=t(2791),l=t(4532),s=t(9766),u=t(184);!function(e){var n=function(e){return e.VALUE="value",e.UNDEFINED="undefined",e.ERROR="error",e}({});function t(e){var t=e.disabledFlag,r=(0,i.useState)(e.valueToString(e.value)),l=(0,a.Z)(r,2),s=l[0],c=l[1],d=(0,i.useState)(!0),f=(0,a.Z)(d,2),p=f[0],h=f[1],v=(0,i.useState)(!0),m=(0,a.Z)(v,2),x=m[0],g=m[1],y=(0,i.useState)(void 0),b=(0,a.Z)(y,2),N=b[0],I=b[1];return(0,i.useEffect)((function(){x?c(e.valueToString(e.value)):(g(!0),h(!0))}),[e.value]),(0,u.jsx)("input",{style:(0,o.Z)({border:"1px solid ".concat(p?"black":"red")},e.style),type:e.htmlInputType,value:s,onChange:function(t){g(!1);var r=t.target.value;c(r);var o,a=e.stringToValue(r);switch(void 0===(o=a)?n.UNDEFINED:null!==o&&"object"===typeof o&&"errorMessage"in o?n.ERROR:n.VALUE){case n.VALUE:e.setValue(a),I(void 0),h(!0);break;case n.UNDEFINED:h(!1),I(void 0);break;case n.ERROR:h(!1),I(a.errorMessage)}},step:e.step,min:e.min,max:e.max,title:N,disabled:t})}e.StringToValueReturnType=n,e.Component=t,e.Number=function(e){var n,r,a;return(0,u.jsx)(t,(0,o.Z)({style:e.style,valueToString:null!==(n=e.valueToString)&&void 0!==n?n:l.zK,stringToValue:null!==(r=e.stringToValue)&&void 0!==r?r:function(n){var t=(0,l.J3)(n);if(void 0!==t){if(void 0!==e.min&&t<e.min)return{errorMessage:"Input value is less than the minimum."};if(void 0!==e.max&&t>e.max)return{errorMessage:"Input value is greater than the maximum."}}return t},htmlInputType:null!==(a=e.htmlInputType)&&void 0!==a?a:"number"},e))},e.Integer=function(e){var n,r,a;return(0,u.jsx)(t,(0,o.Z)({style:e.style,valueToString:null!==(n=e.valueToString)&&void 0!==n?n:function(e){return e.toString()},stringToValue:null!==(r=e.stringToValue)&&void 0!==r?r:function(n){var t=(0,l.wj)(n);if(void 0!==t){if(void 0!==e.min&&t<e.min)return{errorMessage:"Input value is less than the minimum."};if(void 0!==e.max&&t>e.max)return{errorMessage:"Input value is greater than the maximum."}}return t},htmlInputType:null!==(a=e.htmlInputType)&&void 0!==a?a:"number"},e))},e.Angle=function(e){var n,r,a,c=(0,i.useMemo)((function(){var n;return(null!==(n=e.step)&&void 0!==n?n:e.useDegreesFlag)?1:(0,s.Ht)(1)}),[e.step]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t,(0,o.Z)({style:e.style,valueToString:null!==(n=e.valueToString)&&void 0!==n?n:function(n){var t=e.useDegreesFlag?(0,s.vi)(n):n;return(0,l.zK)(t)},stringToValue:null!==(r=e.stringToValue)&&void 0!==r?r:function(n){var t=(0,l.J3)(n);if(void 0!==t)return void 0!==e.min&&t<e.min?{errorMessage:"Input value is less than the minimum."}:void 0!==e.max&&t>e.max?{errorMessage:"Input value is greater than the maximum."}:e.useDegreesFlag?(0,s.Ht)(t):t},htmlInputType:null!==(a=e.htmlInputType)&&void 0!==a?a:"number",step:c},e)),e.useDegreesFlag?"\xb0":"radians"]})}}(r||(r={})),n.Z=r},5910:function(e,n,t){"use strict";t.d(n,{S:function(){return r}});var r,o=t(4942),a=t(1413),i=t(9439),l=t(2791),s=t(3871),u=t(649),c=t(5088),d=t(3869),f=t(920),p=t(3413),h=t(184);!function(e){var n=function(e){return e.RGBA="RGBA",e.Hexadecimal="Hexadecimal",e.ColorWheel="Color wheel",e}({}),t=Object.values(n);e.Component=function(e){var r,v=e.setColorHelper,m=e.color,x=e.children,g=(0,l.useState)(n.ColorWheel),y=(0,i.Z)(g,2),b=y[0],N=y[1],I=(0,l.useState)(0),C=(0,i.Z)(I,2),E=C[0],S=C[1],P=(0,l.useState)(0),w=(0,i.Z)(P,2),A=w[0],k=w[1],T=(0,l.useState)(0),_=(0,i.Z)(T,2),M=_[0],R=_[1],j=(0,l.useState)(0),O=(0,i.Z)(j,2),Z=O[0],L=O[1],D=(0,l.useState)(s.k$),F=(0,i.Z)(D,2),B=F[0],z=F[1],W=(0,l.useState)(""),U=(0,i.Z)(W,2),G=U[0],H=U[1],K=(0,l.useState)({h:0,s:0,v:100,a:0}),V=(0,i.Z)(K,2),q=V[0],X=V[1],$=(0,l.useState)(!1),Q=(0,i.Z)($,2),Y=Q[0],J=Q[1];function ee(e,n,t,r,o){H((0,s.IW)({red:e,green:n,blue:t,alpha:r},o,!0))}function ne(e,n,t,r){X((0,c.S7)({r:e,g:n,b:t,a:r}))}function te(e){Y||re(),v(e),J(!0)}var re=(0,l.useContext)(p._.App.PushToUndoStack);(0,l.useEffect)((function(){var e,n=null!==m&&void 0!==m?m:s.E5;S(n.red),k(n.green),R(n.blue);var t=null!==(e=n.alpha)&&void 0!==e?e:s.Dt;L(t),ee(n.red,n.green,n.blue,t,B),ne(n.red,n.green,n.blue,t)}),[m]);var oe=(r={},(0,o.Z)(r,n.RGBA,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("label",{children:["Red:\xa0",(0,h.jsx)("input",{type:"number",min:0,max:255,step:1,value:E,onChange:function(e){var n=Number.parseInt(e.target.value);S(n),te({red:n,green:A,blue:M,alpha:Z}),ee(n,A,M,Z,B),ne(n,A,M,Z)}})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Green:\xa0",(0,h.jsx)("input",{type:"number",min:0,max:255,step:1,value:A,onChange:function(e){var n=Number.parseInt(e.target.value);k(n),te({red:E,green:n,blue:M,alpha:Z}),ee(E,n,M,Z,B),ne(E,n,M,Z)}})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Blue:\xa0",(0,h.jsx)("input",{type:"number",min:0,max:255,step:1,value:M,onChange:function(e){var n=Number.parseInt(e.target.value);R(n),te({red:E,green:A,blue:n,alpha:Z}),ee(E,A,n,Z,B),ne(E,A,n,Z)}})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Alpha:\xa0",(0,h.jsx)("input",{type:"number",min:0,max:255,step:1,value:Z,onChange:function(e){var n=Number.parseInt(e.target.value);L(n),te({red:E,green:A,blue:M,alpha:n}),ee(E,A,M,n,B),ne(E,A,M,n)}})]})]})),(0,o.Z)(r,n.Hexadecimal,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("label",{children:["Encoding:\xa0",(0,h.jsx)("select",{value:B,onChange:function(e){var n,t,r=e.target.value;z(r);var o=(0,s.SM)(G,r);S(o.red),k(o.green),R(o.blue),L(null!==(n=o.alpha)&&void 0!==n?n:s.Dt),te(o),ne(o.red,o.green,o.blue,null!==(t=o.alpha)&&void 0!==t?t:s.Dt)},children:s.kS.map((function(e){return(0,h.jsx)("option",{children:e},e)}))})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Hexadecimal:\xa0",(0,h.jsx)("input",{type:"text",value:G,onChange:function(e){var n,t,r=e.target.value;H(r);var o=(0,s.SM)(r,B);S(o.red),k(o.green),R(o.blue),L(null!==(n=o.alpha)&&void 0!==n?n:s.Dt),te(o),ne(o.red,o.green,o.blue,null!==(t=o.alpha)&&void 0!==t?t:s.Dt)}})]})]})),(0,o.Z)(r,n.ColorWheel,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{hsva:q,onChange:function(e){var n=(0,a.Z)((0,a.Z)({},q),{},{v:e.v});X(n);var t=(0,c.MA)(n),r={red:t.r,green:t.g,blue:t.b,alpha:Z};te(r),S(r.red),k(r.green),R(r.blue),L(r.alpha),ee(r.red,r.green,r.blue,r.alpha,B)},width:"100%"}),(0,h.jsx)("br",{}),(0,h.jsx)(u.Z,{color:q,onChange:function(e){X((0,a.Z)((0,a.Z)({},q),e.hsva));var n={red:e.rgba.r,green:e.rgba.g,blue:e.rgba.b,alpha:Z};te(n),S(n.red),k(n.green),R(n.blue),L(n.alpha),ee(n.red,n.green,n.blue,n.alpha,B)}})]})),r);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(f.z.Component,{title:"Color",children:[x,"Edit mode:\xa0",(0,h.jsx)("select",{value:b,onChange:function(e){var n=e.target.value;N(n)},children:t.map((function(e){return(0,h.jsx)("option",{children:e},e)}))}),t.map((function(e){return(0,h.jsx)("div",{style:{display:b===e?"block":"none"},children:oe[e]},e)}))]})})}}(r||(r={}))},974:function(e,n,t){"use strict";t.d(n,{f:function(){return r}});var r,o=t(9439),a=t(2791),i=t(920),l=t(3413),s=t(184);(r||(r={})).Component=function(e){var n=e.family,t=e.style,r=e.weight,u=e.size,c=e.setFont,d=(0,a.useState)(!1),f=(0,o.Z)(d,2),p=f[0],h=f[1];function v(e){p||m(),c(e),h(!0)}var m=(0,a.useContext)(l._.App.PushToUndoStack);return(0,s.jsxs)(i.z.Component,{title:"Font",children:[(0,s.jsxs)("label",{children:["Family:\xa0",(0,s.jsx)("input",{type:"text",value:n,onChange:function(e){v({family:e.target.value,style:t,weight:r,size:u})}})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{children:["Style:\xa0",(0,s.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;v({family:n,style:t,weight:r,size:u})}})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{children:["Weight:\xa0",(0,s.jsx)("input",{type:"text",value:r,onChange:function(e){var r=e.target.value;v({family:n,style:t,weight:r,size:u})}})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{children:["Size:\xa0",(0,s.jsx)("input",{type:"text",value:u,onChange:function(e){var o=e.target.value;v({family:n,style:t,weight:r,size:o})}})]})]})}},6768:function(e,n,t){"use strict";t.d(n,{U:function(){return r}});var r,o=t(9439),a=t(2791),i=t(6559),l=t(1702),s=t(3413),u=t(184);!function(e){function n(e){var n=e.initialCenter,t=e.positions,r=e.onUpdatePositions,c=e.useDegreesFlag,d=e.normal,f=e.initialAngle,p=e.initialScale,h=e.disabledFlag,v=e.relativePositions,m=e.applyCenterToRelativePositionsFlag,x=(0,a.useContext)(s._.OrientationEditor.ResetDataTrigger),g=(0,a.useContext)(s._.App.PushToUndoStack),y=(0,a.useMemo)((function(){return null!==f&&void 0!==f?f:0}),[f]),b=(0,a.useMemo)((function(){return null!==p&&void 0!==p?p:1}),[p]),N=(0,a.useMemo)((function(){return 1/b}),[b]),I=(0,a.useMemo)((function(){return t.map((function(e){return(0,i.Jc)((0,i.$X)(e,n))}))}),[n,t]),C=(0,a.useMemo)((function(){return(null!==v&&void 0!==v?v:[]).map(i.Jc)}),[v,x]),E=(0,a.useMemo)((function(){return null!==h&&void 0!==h&&h}),[h]),S=(0,a.useState)(y),P=(0,o.Z)(S,2),w=P[0],A=P[1],k=(0,a.useState)(b),T=(0,o.Z)(k,2),_=T[0],M=T[1],R=(0,a.useState)(n.x),j=(0,o.Z)(R,2),O=j[0],Z=j[1],L=(0,a.useState)(n.y),D=(0,o.Z)(L,2),F=D[0],B=D[1],z=(0,a.useState)(!1),W=(0,o.Z)(z,2),U=W[0],G=W[1],H=(0,a.useState)(!1),K=(0,o.Z)(H,2),V=K[0],q=K[1];function X(e,n,o,a,l){V||(g(),q(!0));var s=o-y,u=a*N,c={x:e,y:n},f=[{cartesian:t,polar:I,cartesianCenter:c}];void 0!==v&&f.push({cartesian:v,polar:C,cartesianCenter:m?c:{x:0,y:0}});for(var p=0,h=f;p<h.length;p++){for(var x=h[p],b=x.cartesian,E=x.polar,S=x.cartesianCenter,P=0;P<b.length;P++){var w=b[P],A=structuredClone(E[P]);A.angle+=s,A.radius*=u;var k=(0,i.IH)((0,i.eA)(A),S);w.x=k.x,w.y=k.y}if(l)for(var T=Math.cos(s),_=Math.sin(s),M={x:d.x*T-d.y*_,y:d.x*_+d.y*T},R=0;R<b.length;R++){var j=b[R],O=(0,i.ty)((0,i.$X)(j,S),M),Z=(0,i.IH)((0,i.$X)(O.projection,O.rejection),S);j.x=Z.x,j.y=Z.y}}r(!1)}return(0,a.useRef)().current=_,(0,a.useEffect)((function(){A(y)}),[y]),(0,a.useEffect)((function(){M(b)}),[b]),(0,a.useEffect)((function(){Z(n.x),B(n.y)}),[n]),(0,a.useEffect)((function(){G(!1),A(y),M(b),Z(n.x),B(n.y)}),[x]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("label",{children:["x:\xa0",(0,u.jsx)(l.Z.Number,{value:O,setValue:function(e){Z(e),X(e,F,w,_,U)},disabledFlag:E})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["y:\xa0",(0,u.jsx)(l.Z.Number,{value:F,setValue:function(e){B(e),X(O,e,w,_,U)},disabledFlag:E})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["\u03b8:\xa0",(0,u.jsx)(l.Z.Angle,{value:w,setValue:function(e){A(e),X(O,F,e,_,U)},useDegreesFlag:c,disabledFlag:E})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["scale:\xa0",(0,u.jsx)(l.Z.Number,{value:_,setValue:function(e){X(O,F,w,e,U),M(e)},disabledFlag:E})]}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{onClick:function(){var e=!U;G(e),X(O,F,w,_,e)},disabled:E,children:"Flip"})]})}e.Component=n,e.Simplified=function(e){var t=e.boundingVector0,r=e.boundingVector1,o=e.positions,l=e.onUpdatePositions,c=e.useDegreesFlag,d=e.orthogonalizeHelper,f=e.initialAngle,p=e.initialScale,h=e.disabledFlag,v=e.relativePositions,m=(0,a.useContext)(s._.OrientationEditor.ResetDataTrigger),x=(0,a.useMemo)((function(){return(null!==d&&void 0!==d?d:i.S7)((0,i.$X)(r,t))}),[d,t,r,m]),g=(0,a.useMemo)((function(){return(0,i.wK)((0,i.IH)(t,r),.5)}),[t,r,m]);return(0,u.jsx)(n,{initialCenter:g,positions:o,onUpdatePositions:l,useDegreesFlag:c,normal:x,initialAngle:null!==f&&void 0!==f?f:(0,i.HF)(x),initialScale:null!==p&&void 0!==p?p:(0,i.TE)(t,r),disabledFlag:h,relativePositions:v})}}(r||(r={}))},1959:function(e,n,t){"use strict";t.d(n,{z:function(){return c}});var r=t(1413),o=t(9439),a=t(2791),i=t(4164),l=t(7587),s=t(184),u=function(e){var n=e.hint,t=e.position,r=e.theme,o=document.body;return(0,i.createPortal)((0,s.jsx)("div",{style:{position:"fixed",left:"".concat(t.left,"px"),top:"".concat(t.top,"px"),transform:"translate(-30%, -20%)",padding:"6px 10px",borderRadius:"6px",background:r.colors.surface,color:r.colors.text,fontSize:r.typography.fontSize.md,fontWeight:600,whiteSpace:"nowrap",zIndex:1e3,boxShadow:r.shadows.md,animation:"fadeIn 0.2s ease-out",pointerEvents:"none"},children:n}),o)},c=a.forwardRef((function(e,n){var t=e.onClick,i=e.icon,c=e.label,d=e.description,f=e.hint,p=e.disabled,h=void 0!==p&&p,v=e.variant,m=void 0===v?"secondary":v,x=(0,l.Fg)().theme,g=a.useState(!1),y=(0,o.Z)(g,2),b=y[0],N=y[1],I=a.useState(!1),C=(0,o.Z)(I,2),E=C[0],S=C[1],P=a.useRef(null),w=a.useState({top:0,left:0}),A=(0,o.Z)(w,2),k=A[0],T=A[1],_=function(){switch(m){case"primary":return{background:h?x.colors.surfaceHover:E?x.colors.primaryActive:b?x.colors.primaryHover:x.colors.primary,color:x.colors.textInverse,border:"1px solid ".concat(x.colors.primary)};case"accent":return{background:h?x.colors.surfaceHover:E?x.colors.accent:b?x.colors.accentHover:"transparent",color:h?x.colors.textMuted:b?x.colors.accent:x.colors.textSecondary,border:"1px solid ".concat(b?x.colors.accent:x.colors.border)};case"danger":return{background:h?x.colors.surfaceHover:E?x.colors.error:b?x.colors.error+"20":"transparent",color:h?x.colors.textMuted:b?x.colors.error:x.colors.text,border:"1px solid ".concat(b?x.colors.error:x.colors.border)};default:return{background:h||E||b?x.colors.surfaceHover:"transparent",color:h?x.colors.textMuted:x.colors.text,border:"1px solid ".concat(x.colors.border)}}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{ref:n||P,onClick:t,disabled:h,onMouseEnter:function(){if(P.current&&f&&!h){var e=P.current.getBoundingClientRect();T({top:e.top+e.height+10,left:e.right+10})}N(!0)},onMouseLeave:function(){return N(!1)},onMouseDown:function(){return S(!0)},onMouseUp:function(){return S(!1)},style:(0,r.Z)((0,r.Z)({position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"6px",height:x.buttonSizes.md.height,padding:x.buttonSizes.md.padding,borderRadius:x.buttonSizes.md.borderRadius,fontSize:x.buttonSizes.md.fontSize,fontWeight:"600",cursor:h?"not-allowed":"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",opacity:h?.4:1,flex:1,minWidth:"0"},_),{},{boxShadow:h?"none":E||b?x.shadows.sm:"none",transform:h?"none":E?"scale(0.95)":b?"translateY(-1px)":"translateY(0)"}),children:[(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:x.buttonSizes.md.iconSize,opacity:h?.5:1},children:i&&i}),(0,s.jsxs)("div",{style:{textAlign:"center",opacity:b?1:.9},children:[(0,s.jsx)("div",{style:{fontSize:x.typography.fontSize.sm,fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",maxWidth:"120px",opacity:b?1:.9},children:c}),d&&(0,s.jsx)("div",{style:{fontSize:x.typography.fontSize.xs,color:h?x.colors.textMuted:"primary"===m?x.colors.textInverse+"80":x.colors.textMuted,lineHeight:"1.2",maxWidth:"120px",opacity:b?1:.9},children:d})]})]}),b&&f&&!h&&(0,s.jsx)(u,{hint:f,position:k,theme:x})]})}))},6902:function(e,n,t){"use strict";t.d(n,{T:function(){return s},Z:function(){return u}});t(2791);var r=t(700),o=(0,r.Z)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),a=(0,r.Z)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),i=t(7587),l=t(184),s=function(e){var n=(0,i.Fg)(),t=n.theme,r=n.isDarkMode,s=n.toggleTheme;return(0,l.jsx)("button",{onClick:s,className:"minimal-theme-toggle ".concat(e.className||""),style:{background:"transparent",border:"none",color:t.colors.textSecondary,fontSize:t.typography.fontSize.md,cursor:"pointer",padding:t.spacing.sm,borderRadius:t.borderRadius.md,transition:t.transitions.default,outline:"none"},onMouseEnter:function(e){e.currentTarget.style.color=t.colors.text,e.currentTarget.style.background=t.colors.surfaceHover},onMouseLeave:function(e){e.currentTarget.style.color=t.colors.textSecondary,e.currentTarget.style.background="transparent"},onFocus:function(e){e.currentTarget.style.boxShadow="0 0 0 2px ".concat(t.colors.primary,"25")},onBlur:function(e){e.currentTarget.style.boxShadow="none"},title:r?"Switch to Light Mode":"Switch to Dark Mode",children:r?(0,l.jsx)(o,{size:18}):(0,l.jsx)(a,{size:18})})},u=s},3413:function(e,n,t){"use strict";t.d(n,{_:function(){return r}});var r,o=t(1413),a=t(7762),i=t(2791),l=t(7089),s=t(9750),u=t(2177),c=t(4532),d=t(7587),f=t(184);!function(e){var n,t,r,p,h,v,m,x,g,y,b,N;function I(e){var t=e.children,r=e.settingsRecord,a=e.setSettingsRecord,i=e.basePairOnMouseDownHelper,l=e.labelClassName,s=e.basePairClassName,u=e.pushToUndoStack,c=e.basePairRadius,p=e.indicesOfFrozenNucleotides,h=e.labelContentDefaultStyles,v=e.basePairAverageDistances,x=e.updateBasePairAverageDistances,b=e.updateLabelContentDefaultStyles,N=e.interactionConstraintOptions,I=e.updateInteractionConstraintOptions,C=e.setNucleotideKeysToRerender,E=e.setBasePairKeysToRerender,S=e.updateRnaMoleculeNameHelper,P=e.setBasePairKeysToEdit,w=e.singularRnaComplexFlag;return(0,f.jsx)(d.f6,{settingsRecord:r,updateSettings:function(e){var n=(0,o.Z)((0,o.Z)({},r),e);a(n)},children:(0,f.jsx)(g.OnMouseDownHelper.Provider,{value:i,children:(0,f.jsx)(n.PushToUndoStack.Provider,{value:u,children:(0,f.jsx)(n.IndicesOfFrozenNucleotides.Provider,{value:p,children:(0,f.jsx)(y.ClassName.Provider,{value:l,children:(0,f.jsx)(g.ClassName.Provider,{value:s,children:(0,f.jsx)(g.Radius.Provider,{value:c,children:(0,f.jsx)(g.AverageDistances.Provider,{value:v,children:(0,f.jsx)(g.UpdateAverageDistances.Provider,{value:x,children:(0,f.jsx)(y.Content.DefaultStyles.Provider,{value:h,children:(0,f.jsx)(y.Content.UpdateDefaultStyle.Provider,{value:b,children:(0,f.jsx)(n.InteractionConstraintOptions.Provider,{value:N,children:(0,f.jsx)(n.UpdateInteractionConstraintOptions.Provider,{value:I,children:(0,f.jsx)(m.SetKeysToRerender.Provider,{value:C,children:(0,f.jsx)(g.SetKeysToRerender.Provider,{value:E,children:(0,f.jsx)(n.Settings.Provider,{value:r,children:(0,f.jsx)(n.UpdateRnaMoleculeNameHelper.Provider,{value:S,children:(0,f.jsx)(g.SetKeysToEdit.Provider,{value:P,children:(0,f.jsx)(n.SingularRnaComplexFlag.Provider,{value:w,children:t})})})})})})})})})})})})})})})})})})})}(t=n||(n=e.App||(e.App={}))).SetMouseOverText=(0,i.createContext)((function(e){})),t.Settings=(0,i.createContext)(s.Z),t.ComplexDocumentName=(0,i.createContext)(""),t.SetComplexDocumentName=(0,i.createContext)((function(e){})),t.UpdateRnaMoleculeNameHelper=(0,i.createContext)((function(e,n,t){})),t.InteractionConstraintOptions=(0,i.createContext)(u.Uq.DEFAULT_OPTIONS),t.UpdateInteractionConstraintOptions=(0,i.createContext)((function(e){})),t.IndicesOfFrozenNucleotides=(0,i.createContext)({}),t.PushToUndoStack=(0,i.createContext)((function(){})),t.RnaComplexProps=(0,i.createContext)(void 0),t.SingularRnaComplexFlag=(0,i.createContext)(void 0),(p=r||(r=e.RnaComplex||(e.RnaComplex={}))).Name=(0,i.createContext)(""),p.Index=(0,i.createContext)(NaN),p.BasePairs=(0,i.createContext)({}),p.SingularRnaMoleculeFlag=(0,i.createContext)(void 0),(v=h||(h=e.RnaMolecule||(e.RnaMolecule={}))).Name=(0,i.createContext)(""),v.FirstNucleotideIndex=(0,i.createContext)(NaN),(x=m||(m=e.Nucleotide||(e.Nucleotide={}))).OnMouseDownHelper=(0,i.createContext)((function(e,n){})),x.OnMouseOverHelper=(0,i.createContext)((function(e,n){})),x.Index=(0,i.createContext)(NaN),x.SetKeysToRerender=(0,i.createContext)((function(e){})),x.LabelsOnlyFlag=(0,i.createContext)(!1),x.Symbol=(0,i.createContext)(""),function(e){e.ClassName=(0,i.createContext)(void 0);var n,t=e.DEFAULT_RADIUS=1,r=e.DEFAULT_DISTANCES={},o=(0,a.Z)(l.Ep.types);try{for(o.s();!(n=o.n()).done;){r[n.value]=12*t}}catch(s){o.e(s)}finally{o.f()}e.Radius=(0,i.createContext)(t),e.DataToEditPerRnaComplex=(0,i.createContext)({add:[],delete:[]}),e.SetKeysToEdit=(0,i.createContext)((function(e){})),e.SetKeysToRerender=(0,i.createContext)((function(e){})),e.UpdateAverageDistances=(0,i.createContext)((function(e,n){})),e.AverageDistances=(0,i.createContext)({}),e.AverageStrokeWidth=(0,i.createContext)(c.tA),e.OnMouseDownHelper=(0,i.createContext)((function(e,n,t){}))}(g||(g=e.BasePair||(e.BasePair={}))),function(e){var n,t,r;e.ClassName=(0,i.createContext)(void 0);(t=n||(n=e.Content||(e.Content={}))).OnMouseDownHelper=(0,i.createContext)((function(e,n){})),t.DefaultStyles=(0,i.createContext)({}),t.UpdateDefaultStyle=(0,i.createContext)((function(e,n,t){})),function(e){var n,t;(n||(n=e.Body||(e.Body={}))).OnMouseDownHelper=(0,i.createContext)((function(e,n,t){})),(t||(t=e.Endpoint||(e.Endpoint={}))).OnMouseDownHelper=(0,i.createContext)((function(e,n,t,r){}))}(r||(r=e.Line||(e.Line={})))}(y||(y=e.Label||(e.Label={}))),(b||(b=e.OrientationEditor||(e.OrientationEditor={}))).ResetDataTrigger=(0,i.createContext)(!1),(N||(N=e.Collapsible||(e.Collapsible={}))).Width=(0,i.createContext)(void 0),e.Component=I;e.MemoizedComponent=i.memo(I)}(r||(r={}))},7587:function(e,n,t){"use strict";t.d(n,{Fg:function(){return h},f6:function(){return p}});var r=t(4942),o=t(9439),a=t(2791),i=t(9750),l=t(184),s="#7491C8",u="#A47764",c={colors:{primary:s,primaryHover:"#6683BA",primaryActive:"#5A78AF",background:"#EFE8E0",backgroundSecondary:"#EAE2DA",surface:"#F4EEE7",surfaceHover:"#EDE5DD",border:"#D9CFC8",borderLight:"#E7DFD7",borderDark:"#C9BFB7",text:"#2C2320",textSecondary:"#5B4E48",textMuted:"#8E847E",textInverse:"#FFFFFF",success:"#899F6A",warning:"#D1A56C",error:"#C96B5A",info:s,accent:u,accentHover:"#8F6657",shadow:"rgba(61, 35, 19, 0.06)",overlay:"rgba(40, 26, 18, 0.40)",highlight:"#F2E9E2",successLight:"#EDF2E6",warningLight:"#FFF1DB",errorLight:"#F6E6E4",infoLight:"#E8EFF9",textStrong:"#1E1512",textWeak:"#A09088",surfaceStrong:"#E5DBD3",surfaceWeak:"#FAF7F2"},spacing:{xs:"4px",sm:"8px",md:"12px",lg:"16px",xl:"20px",xxl:"24px",xxxl:"32px"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"13px",md:"15px",lg:"17px",xl:"19px",xxl:"22px"},fontWeight:{light:"300",normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.3",normal:"1.6",relaxed:"1.8"}},borderRadius:{none:"0",sm:"4px",md:"8px",lg:"10px",xl:"14px",full:"9999px"},shadows:{none:"none",sm:"0 1px 2px rgba(0,0,0,0.05), 0 1px 1px rgba(0,0,0,0.03)",md:"0 3px 8px rgba(16,24,20,0.08)",lg:"0 8px 20px rgba(16,24,20,0.10)",xl:"0 16px 32px rgba(16,24,20,0.12)",inner:"inset 0 2px 4px rgba(0,0,0,0.04)"},buttonSizes:{sm:{height:"30px",padding:"0 10px",fontSize:"13px",iconSize:"16px",borderRadius:"6px"},md:{height:"38px",padding:"0 14px",fontSize:"15px",iconSize:"18px",borderRadius:"8px"},lg:{height:"46px",padding:"0 18px",fontSize:"17px",iconSize:"20px",borderRadius:"10px"}},transitions:{default:"all 0.18s ease-out",fast:"all 0.12s ease-out",slow:"all 0.28s ease-out"},colorPalleteCircleFills:["#E8C26A","#A9E890","#E890C0"]},d={colors:{primary:"#C89B85",primaryHover:"#BE8F79",primaryActive:"#B4836D",background:"#25211F",backgroundSecondary:"#292421",surface:"#2E2826",surfaceHover:"#352E2B",border:"#3A332F",borderLight:"#473F3B",borderDark:"#2E2724",text:"#F3EEEA",textSecondary:"#D9CFC8",textMuted:"#B7AAA4",textInverse:"#0F0E0D",success:"#94B17E",warning:"#D2A274",error:"#C77C6F",info:"#A1BDE6",accent:u,accentHover:"#B78976",shadow:"rgba(0, 0, 0, 0.45)",overlay:"rgba(14, 10, 8, 0.68)",highlight:"#302A27",successLight:"#1E261C",warningLight:"#272016",errorLight:"#261A18",infoLight:"#182231",textStrong:"#FAF7F4",textWeak:"#B9ADA7",surfaceStrong:"#292421",surfaceWeak:"#352E2B"},spacing:c.spacing,typography:c.typography,borderRadius:c.borderRadius,shadows:{none:"none",sm:"0 1px 2px rgba(0,0,0,0.22)",md:"0 4px 10px rgba(0,0,0,0.32)",lg:"0 10px 24px rgba(0,0,0,0.38)",xl:"0 18px 40px rgba(0,0,0,0.44)",inner:"inset 0 2px 4px rgba(0,0,0,0.28)"},buttonSizes:c.buttonSizes,transitions:c.transitions,colorPalleteCircleFills:["#4E7DA6","#7A9E3E","#C84E4E"]},f=(0,a.createContext)(void 0),p=function(e){var n=e.children,t=e.settingsRecord,s=e.updateSettings,u=(0,a.useState)(!1),p=(0,o.Z)(u,2),h=p[0],v=p[1],m=a.useRef(h);m.current=h;var x=a.useRef(s);x.current=s,(0,a.useEffect)((function(){if(t&&void 0!==t[i.pE.DARK_MODE])v(!!t[i.pE.DARK_MODE]);else if("undefined"!==typeof window&&window.matchMedia){var e=window.matchMedia("(prefers-color-scheme: dark)");v(e.matches)}}),[t]),(0,a.useEffect)((function(){var e;if((!t||void 0===t[i.pE.DARK_MODE])&&"undefined"!==typeof window&&window.matchMedia){var n=window.matchMedia("(prefers-color-scheme: dark)"),r=function(e){return v(e.matches)};return null===(e=n.addEventListener)||void 0===e||e.call(n,"change",r),function(){var e;return null===(e=n.removeEventListener)||void 0===e?void 0:e.call(n,"change",r)}}}),[t]);var g=(0,a.useCallback)((function(e){var n=x.current;v(e),n&&n((0,r.Z)({},i.pE.DARK_MODE,e))}),[]),y=(0,a.useCallback)((function(){return g(!m.current)}),[]),b=h?d:c;(0,a.useEffect)((function(){var e=document.documentElement,n=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(n).reduce((function(r,o){var a=t.length?t+"-":"";return"object"===typeof n[o]&&null!==n[o]?Object.assign(r,e(n[o],a+o)):r[a+o]=n[o],r}),{})},t={color:b.colors,spacing:b.spacing,"font-size":b.typography.fontSize,"font-weight":b.typography.fontWeight,"line-height":b.typography.lineHeight,"border-radius":b.borderRadius,shadow:b.shadows,transition:b.transitions};Object.entries(t).forEach((function(t){var r=(0,o.Z)(t,2),a=r[0],i=r[1],l=n(i);Object.entries(l).forEach((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1];e.style.setProperty("--".concat(a,"-").concat(r),i)}))})),e.style.setProperty("--font-family",b.typography.fontFamily),e.setAttribute("data-theme",h?"dark":"light")}),[b,h]);var N=(0,a.useMemo)((function(){return{theme:b,isDarkMode:h,toggleTheme:y,setTheme:g}}),[b,h,y,g]);return(0,l.jsx)(f.Provider,{value:N,children:n})},h=function(){var e=(0,a.useContext)(f);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}},4279:function(e,n,t){"use strict";t.d(n,{Aj:function(){return o},HU:function(){return l},Kl:function(){return u},yR:function(){return s}});var r=t(9439);function o(e,n){var t=(0,r.Z)(e,6),o=t[0],a=t[1],i=t[2],l=t[3],s=t[4],u=t[5],c=(0,r.Z)(n,6),d=c[0],f=c[1],p=c[2],h=c[3],v=c[4],m=c[5];return[o*d+i*f,a*d+l*f,o*p+i*h,a*p+l*h,o*v+i*m+s,a*v+l*m+u]}var a={minimum:1,maximum:1,parser:function(e){var n=e[0],t=Math.cos(n),r=Math.sin(n);return[t,r,-r,t,0,0]}},i={matrix:{minimum:6,maximum:6,parser:function(e){return e}},translate:{minimum:2,maximum:2,parser:function(e){return[1,0,0,1,e[0],e[1]]}},translatex:{minimum:1,maximum:1,parser:function(e){return[1,0,0,1,e[0],0]}},translatey:{minimum:1,maximum:1,parser:function(e){return[1,0,0,1,0,e[0]]}},scale:{minimum:1,maximum:2,parser:function(e){var n=e[0],t=n;return e.length>1&&(t=e[1]),[n,0,0,t,0,0]}},scalex:{minimum:1,maximum:1,parser:function(e){return[e[0],0,0,1,0,0]}},scaley:{minimum:1,maximum:1,parser:function(e){return[1,0,0,e[0],0,0]}},rotate:a,rotatez:a,skew:{minimum:1,maximum:2,parser:function(e){var n=e[0],t=0;return e.length>1&&(t=Math.tan(e[1])),[1,t,Math.tan(n),1,0,0]}},skewx:{minimum:1,maximum:1,parser:function(e){return[1,0,Math.tan(e[0]),1,0,0]}},skewy:{maximum:1,minimum:1,parser:function(e){return[1,Math.tan(e[0]),0,1,0,0]}}};function l(e){var n=(e=e.toLowerCase()).match(/^\s*([a-z]+)\s*\(([\d.,\s-e]+)\)\s*$/);if(null==n)throw"Unrecognized input-text format";var t=n[1];if(!(t in i))throw"Unrecognized transform type.";var r=i[t],o=r.minimum,a=r.maximum,l=r.parser,s=n[2],u=(s=(s=(s=s.trim()).replaceAll(/\s*,\s*/g,",")).replaceAll(/\s+/g,",")).split(",").map(Number.parseFloat),c=u.length;if(c<o)throw"The number of input numbers (".concat(c,") is less than the minimum required (").concat(o,")");if(c>a)throw"The number of input numbers (".concat(c,") is greater than the maximum required (").concat(a,")");return l(u)}function s(){return[1,0,0,1,0,0]}function u(e){var n=(0,r.Z)(e,6),t=n[0],o=n[1],a=n[2],i=n[3],l=n[4],s=n[5];return"matrix(".concat(t,", ").concat(o,", ").concat(a,", ").concat(i,", ").concat(l,", ").concat(s,")")}},3871:function(e,n,t){"use strict";t.d(n,{Dt:function(){return u},E5:function(){return d},IW:function(){return x},Jq:function(){return y},SM:function(){return v},gL:function(){return p},hG:function(){return h},k$:function(){return c},kS:function(){return l},pd:function(){return g},qz:function(){return i},ry:function(){return f},wy:function(){return b}});var r,o=t(1413),a=t(4942),i=function(e){return e.RGB="RGB",e.RGBA="RGBA",e.ARGB="ARGB",e.BGR="BGR",e.BGRA="BGRA",e.ABGR="ABGR",e}({}),l=Object.values(i),s=(r={},(0,a.Z)(r,i.RGB,{red:2,green:1,blue:0}),(0,a.Z)(r,i.RGBA,{red:3,green:2,blue:1,alpha:0}),(0,a.Z)(r,i.ARGB,{red:2,green:1,blue:0,alpha:3}),(0,a.Z)(r,i.BGR,{red:0,green:1,blue:2}),(0,a.Z)(r,i.BGRA,{red:1,green:2,blue:3,alpha:0}),(0,a.Z)(r,i.ABGR,{red:0,green:1,blue:2,alpha:3}),r),u=255,c=i.RGB,d={red:0,green:0,blue:0,alpha:u},f={red:192,green:192,blue:192,alpha:u},p={red:54,green:64,blue:79};function h(e){var n="".concat(e.red,", ").concat(e.green,", ").concat(e.blue);return null==e.alpha||Number.isNaN(e.alpha)||255===e.alpha?"rgb(".concat(n,")"):"rgba(".concat(n,", ").concat(e.alpha/255,")")}function v(e,n){return m(Number.parseInt(e,16),n)}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.RGB,t={0:255&e,1:e>>>8&255,2:e>>>16&255,3:e>>>24&255},r=s[n],a={red:t[r.red],green:t[r.green],blue:t[r.blue]};return void 0!==r.alpha&&(a=(0,o.Z)((0,o.Z)({},a),{},{alpha:t[r.alpha]})),a}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.RGB,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,n){var t=s[n],r=void 0===t.alpha||void 0===e.alpha?0:e.alpha<<8*t.alpha;return e.red<<8*t.red|e.green<<8*t.green|e.blue<<8*t.blue|r}(e,n).toString(16).toUpperCase();return t?"0".repeat(2*n.length-r.length)+r:r}var g=function(e){return e.THROW_ERROR="throw error",e.RETURN_BLACK="return black",e.RETURN_TRANSPARENT="return transparent",e}({});function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.RGB,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.RETURN_BLACK,r=/^rgb\((\d{1,3})(?:\s*,\s*|\s+)(\d{1,3})(?:\s*,\s*|\s+)(\d{1,3})\)$/.exec(e);if(null!==r)return{red:Number.parseInt(r[1]),green:Number.parseInt(r[2]),blue:Number.parseInt(r[3])};if(null!==(r=/^rgba\((\d{1,3})(?:\s*,\s*|\s+)(\d{1,3})(?:\s*,\s*|\s+)(\d{1,3})(?:\s*,\s*|\s+)([\d\.]+)\)$/.exec(e)))return{red:Number.parseInt(r[1]),green:Number.parseInt(r[2]),blue:Number.parseInt(r[3]),alpha:255*Number.parseFloat(r[4])};if(null!==(r=/^rgb\(([\d\.]+)(?:\s*,\s*|\s+)([\d\.]+)(?:\s*,\s*|\s+)([\d\.]+)\)$/.exec(e)))return{red:Number.parseFloat(r[1]),green:Number.parseFloat(r[2]),blue:Number.parseFloat(r[3])};if(null!==(r=/^rgba\(([\d\.]+)(?:\s*,\s*|\s+)([\d\.]+)(?:\s*,\s*|\s+)([\d\.]+)(?:\s*,\s*|\s+)([\d\.]+)\)$/.exec(e)))return{red:Number.parseFloat(r[1]),green:Number.parseFloat(r[2]),blue:Number.parseFloat(r[3]),alpha:255*Number.parseFloat(r[4])};if(null!==(r=/^\d+$/.exec(e)))return m(Number.parseInt(r[0]),n);if(null!==(r=/^#([abcdefABCDEF\d]+)$/.exec(e)))return v(r[1],n);if("undefined"===e)switch(t){case g.RETURN_BLACK:return d;case g.RETURN_TRANSPARENT:return{red:0,green:0,blue:0,alpha:0};case g.THROW_ERROR:throw'Unsupported color literal "'.concat(e,'"');default:throw"Unhandled switch case"}switch(e){case"none":return{red:0,blue:0,green:0,alpha:0};case"black":return{red:0,green:0,blue:0};case"silver":case"silver":return{red:192,green:192,blue:192};case"gray":return{red:128,green:128,blue:128};case"white":case"white":return{red:255,green:255,blue:255};case"maroon":case"maroon":return{red:128,green:0,blue:0};case"red":case"red":return{red:255,green:0,blue:0};case"purple":case"pruple":return{red:128,green:0,blue:128};case"fuchsia":case"magenta":return{red:255,green:0,blue:255};case"green":return{red:0,green:128,blue:0};case"lime":case"lime":return{red:0,green:255,blue:0};case"olive":case"olive":return{red:128,green:128,blue:0};case"yellow":case"yellow":return{red:255,green:255,blue:0};case"navy":case"navy":return{red:0,green:0,blue:128};case"blue":return{red:0,green:0,blue:255};case"teal":case"teal":return{red:0,green:128,blue:128};case"aqua":case"cyan":return{red:0,green:255,blue:255};case"aliceblue":return{red:240,green:248,blue:255};case"antiquewhite":return{red:250,green:235,blue:215};case"aquamarine":return{red:127,green:255,blue:212};case"azure":return{red:240,green:255,blue:255};case"beige":return{red:245,green:245,blue:220};case"bisque":return{red:255,green:228,blue:196};case"blanchedalmond":return{red:255,green:235,blue:205};case"blueviolet":return{red:138,green:43,blue:226};case"brown":return{red:165,green:42,blue:42};case"burlywood":return{red:222,green:184,blue:135};case"cadetblue":return{red:95,green:158,blue:160};case"chartreuse":return{red:127,green:255,blue:0};case"chocolate":return{red:210,green:105,blue:30};case"coral":return{red:255,green:127,blue:80};case"cornflowerblue":return{red:100,green:149,blue:237};case"cornsilk":return{red:255,green:248,blue:220};case"crimson":return{red:220,green:20,blue:60};case"darkblue":return{red:0,green:0,blue:139};case"darkcyan":return{red:0,green:139,blue:139};case"darkgoldenrod":return{red:184,green:134,blue:11};case"darkgreen":return{red:0,green:100,blue:0};case"darkkhaki":return{red:189,green:183,blue:107};case"darkmagenta":return{red:139,green:0,blue:139};case"darkolivegreen":return{red:85,green:107,blue:47};case"darkorange":return{red:255,green:140,blue:0};case"darkorchid":return{red:139,green:0,blue:0};case"darksalmon":return{red:233,green:150,blue:122};case"darkseagreen":return{red:143,green:188,blue:143};case"darkslateblue":return{red:72,green:61,blue:139};case"darkslategray":return{red:47,green:79,blue:79};case"darkturqoise":return{red:0,green:206,blue:209};case"darkviolet":return{red:148,green:0,blue:211};case"deeppink":return{red:255,green:20,blue:147};case"deepskyblue":return{red:0,green:191,blue:255};case"dimgray":return{red:105,green:105,blue:105};case"dodgerblue":return{red:30,green:144,blue:255};case"firebrick":return{red:178,green:34,blue:34};case"floralwhite":return{red:255,green:250,blue:240};case"forestgreen":return{red:34,green:139,blue:34};case"gainsboro":return{red:220,green:220,blue:220};case"ghostwhite":return{red:248,green:248,blue:255};case"gold":return{red:255,green:215,blue:0};case"goldenrod":return{red:218,green:165,blue:32};case"greenyellow":return{red:173,green:255,blue:47};case"honeydew":return{red:240,green:255,blue:240};case"hotpink":return{red:255,green:105,blue:180};case"indianred":return{red:205,green:92,blue:92};case"indigo":return{red:75,green:0,blue:130};case"ivory":return{red:255,green:255,blue:240};case"khaki":return{red:240,green:230,blue:140};case"lavender":return{red:230,green:230,blue:250};case"lavenderblush":return{red:255,green:240,blue:245};case"lawngreen":return{red:124,green:252,blue:0};case"lemonchiffon":return{red:255,green:250,blue:205};case"lightblue":return{red:173,green:216,blue:230};case"lightcoral":return{red:240,green:128,blue:128};case"lightcyan":return{red:224,green:255,blue:255};case"lightgoldenrodyellow":return{red:250,green:250,blue:210};case"lightgray":case"lightgrey":return{red:211,green:211,blue:211};case"lightgreen":return{red:148,green:238,blue:144};case"lightpink":return{red:255,green:182,blue:193};case"lightsalmon":return{red:255,green:160,blue:122};case"lightseagreen":return{red:32,green:178,blue:170};case"lightskyblue":return{red:135,green:206,blue:250};case"lightslategray":case"lightslategrey":return{red:119,green:136,blue:153};case"lightsleetblue":return{red:176,green:196,blue:222};case"lightyellow":return{red:255,green:255,blue:224};case"limegreen":return{red:50,green:205,blue:50};case"linen":return{red:250,green:240,blue:230};case"mediumaquamarine":return{red:102,green:205,blue:170};case"mediumblue":return{red:0,green:0,blue:205};case"mediumorchid":return{red:186,green:85,blue:211};case"mediumpruple":return{red:147,green:112,blue:219};case"mediumseagreen":return{red:60,green:179,blue:113};case"mediumslateblue":return{red:123,green:104,blue:238};case"mediumspringgreen":return{red:0,green:250,blue:154};case"mediumturquiose":return{red:72,green:209,blue:204};case"mediumvioletred":return{red:199,green:21,blue:133};case"midnightblue":return{red:25,green:25,blue:112};case"mintcream":return{red:245,green:255,blue:250};case"mistyrose":return{red:255,green:228,blue:225};case"moccasin":return{red:255,green:228,blue:181};case"navajowhite":return{red:255,green:222,blue:173};case"oldlace":return{red:253,green:245,blue:230};case"olivedrab":return{red:107,green:142,blue:35};case"orange":return{red:255,green:165,blue:0};case"orangered":return{red:255,green:69,blue:0};case"orchid":return{red:218,green:112,blue:214};case"palegoldenrod":return{red:238,green:232,blue:170};case"palegreen":return{red:152,green:251,blue:152};case"paleturquoise":return{red:175,green:238,blue:238};case"palevioletred":return{red:219,green:112,blue:147};case"papayawhip":return{red:255,green:239,blue:213};case"peachpuff":return{red:255,green:218,blue:185};case"peru":return{red:205,green:133,blue:63};case"pink":return{red:255,green:192,blue:203};case"plum":return{red:221,green:160,blue:221};case"powderblue":return{red:176,green:224,blue:230};case"rosybrown":return{red:188,green:143,blue:143};case"royalblue":return{red:65,green:105,blue:225};case"saddlebrown":return{red:139,green:69,blue:19};case"salmon":return{red:250,green:128,blue:114};case"sandybrown":return{red:244,green:264,blue:96};case"seagreen":return{red:46,green:139,blue:87};case"seashell":return{red:255,green:245,blue:238};case"sienna":return{red:160,green:82,blue:45};case"skyblue":return{red:135,green:206,blue:235};case"slateblue":return{red:106,green:80,blue:205};case"slategray":case"slategrey":return{red:112,green:128,blue:144};case"snow":return{red:255,green:250,blue:250};case"springgreen":return{red:0,green:255,blue:127};case"steelblue":return{red:70,green:130,blue:180};case"tan":return{red:210,green:180,blue:140};case"thistle":return{red:216,green:191,blue:216};case"tomato":return{red:255,green:99,blue:71};case"turquoise":return{red:64,green:224,blue:208};case"violet":return{red:238,green:130,blue:238};case"wheat":return{red:245,green:222,blue:179};case"yellowgreen":return{red:154,green:205,blue:50};default:throw"Unsupported color literal: ".concat(e)}}function b(e,n){return e.red===n.red&&e.green===n.green&&e.blue===n.blue&&e.alpha===n.alpha}},433:function(e,n,t){"use strict";t.d(n,{NN:function(){return l},VG:function(){return s}});var r=t(136),o=t(516),a=t(5671),i=t(3144),l=function(){function e(n,t,r){(0,a.Z)(this,e),this.family=void 0,this.style=void 0,this.weight=void 0,this.family=n,this.style=t,this.weight=r}return(0,i.Z)(e,null,[{key:"fromFontId",value:function(n){switch(n){case 0:default:return new e("Helvetica","normal","normal");case 1:return new e("Helvetica","italic","normal");case 2:return new e("Helvetica","normal","bold");case 3:return new e("Helvetica","italic","bold");case 4:case 12:return new e("TimesRoman","normal","normal");case 5:return new e("TimesRoman","italic","normal");case 6:return new e("TimesRoman","normal","bold");case 7:return new e("TimesRoman","italic","bold");case 8:return new e("Courier","normal","normal");case 9:return new e("Courier","italic","normal");case 10:return new e("Courier","normal","bold");case 11:return new e("Courier","italic","bold");case 13:return new e("Dialog","normal","normal");case 14:return new e("Dialog","italic","normal");case 15:return new e("Dialog","normal","bold");case 16:return new e("Dialog","italic","bold");case 17:return new e("DialogInput","normal","normal");case 18:return new e("DialogInput","italic","normal");case 19:return new e("DialogInput","normal","bold");case 20:return new e("DialogInput","italic","bold")}}},{key:"toFontId",value:function(e){switch("".concat(e.family,"_").concat(e.style,"_").concat(e.weight)){default:case"Helvetica_normal_normal":return 0;case"Helvetica_italic_normal":return 1;case"Helvetica_normal_bold":return 2;case"Helvetica_italic_bold":return 3;case"TimesRoman_normal_normal":return 4;case"TimesRoman_italic_normal":return 5;case"TimesRoman_normal_bold":return 6;case"TimesRoman_italic_bold":return 7;case"Courier_normal_normal":return 8;case"Courier_italic_normal":return 9;case"Courier_normal_bold":return 10;case"Courier_italic_bold":return 11;case"TimesRoman_normal_normal":return 12;case"Dialog_normal_normal":return 13;case"Dialog_italic_normal":return 14;case"Dialog_normal_bold":return 15;case"Dialog_italic_bold":return 16;case"DialogInput_normal_normal":return 17;case"DialogInput_italic_normal":return 18;case"DialogInput_normal_bold":return 19;case"DialogInput_italic_bold":return 20}}},{key:"areEqual",value:function(e,n){return e.family===n.family&&e.weight===n.weight&&e.style===n.style}}]),e}();function s(e){var n=e.match(/^([\d.]+)/);if(null===n)throw"Unrecognized font-size format ".concat(e);return Number.parseFloat(n[1])}l.DEFAULT_FONT_ID=0,l.DEFAULT=l.fromFontId(l.DEFAULT_FONT_ID);var u=function(e){(0,r.Z)(t,e);var n=(0,o.Z)(t);function t(e,r,o){var i,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_SIZE;return(0,a.Z)(this,t),(i=n.call(this,e,r,o)).size=void 0,i.size=l,i}return(0,i.Z)(t,null,[{key:"fromPartialFont",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_SIZE;return new t(e.family,e.style,e.weight,n)}},{key:"fromFontId",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_SIZE;return t.fromPartialFont(l.fromFontId(e),n)}},{key:"areEqual",value:function(e,n){return e.family===n.family&&e.style===n.style&&e.weight===n.weight&&e.size===n.size}}]),t}(l);u.DEFAULT_SIZE=8,u.DEFAULT=u.fromPartialFont(l.DEFAULT,u.DEFAULT_SIZE),n.ZP=u},6559:function(e,n,t){"use strict";t.d(n,{$X:function(){return a},Ae:function(){return h},Dv:function(){return m},Fv:function(){return u},HF:function(){return b},IH:function(){return o},Ih:function(){return g},Jc:function(){return C},K:function(){return f},S7:function(){return d},TE:function(){return x},VB:function(){return N},VE:function(){return v},dI:function(){return E},dv:function(){return c},eA:function(){return I},i$:function(){return w},ir:function(){return y},sX:function(){return p},tk:function(){return i},ty:function(){return P},uh:function(){return s},wK:function(){return l}});var r=t(9766);function o(e,n){return{x:e.x+n.x,y:e.y+n.y}}function a(e,n){return{x:e.x-n.x,y:e.y-n.y}}function i(e){return{x:-e.x,y:-e.y}}function l(e,n){return{x:e.x*n,y:e.y*n}}function s(e,n){return l(e,1/n)}function u(e){return s(e,v(e))}function c(e){var n=e.x;return{x:e.y,y:-n}}function d(e){var n=e.x;return{x:-e.y,y:n}}var f=d;function p(e,n,t){var r=1-t;return{x:r*e.x+t*n.x,y:r*e.y+t*n.y}}function h(e){var n=e.x,t=e.y;return n*n+t*t}function v(e){return Math.sqrt(h(e))}function m(e,n){return h(a(e,n))}function x(e,n){return v(a(e,n))}function g(e,n){return e.x*n.x+e.y*n.y}function y(e,n){return e.x*n.y-e.y*n.x}function b(e){var n=e.x,t=e.y;return Math.atan2(t,n)}function N(e){return{x:Math.cos(e),y:Math.sin(e)}}function I(e){return l(N(e.angle),e.radius)}function C(e){return{radius:v(e),angle:b(e)}}function E(e,n){return Math.acos(g(e,n)/Math.sqrt(h(e)*h(n)))}function S(e,n){return l(n,g(e,n)/h(n))}function P(e,n){var t=S(e,n);return{projection:t,rejection:a(e,t)}}function w(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.f1*r.f1,o=a(n.v1,n.v0);if(h(o)>=t)return x(e,n.v0);var i=g(a(e,n.v0),o);return i<0?i=0:i>1&&(i=1),m(e,p(n.v0,n.v1,i))}},7689:function(e,n,t){"use strict";t.d(n,{a:function(){return m}});var r=t(4942),o=t(1413),a=t(7762),i=t(9439),l=t(3433),s=t(7089),u=t(6048),c=t(6559),d=t(9766),f=1e-8,p={line:5,center:10},h={loose:{minimumDistanceRatio:.8,dotProductThreshold:Math.cos((0,d.Ht)(160))},normal:{minimumDistanceRatio:.8,dotProductThreshold:Math.cos((0,d.Ht)(170))},strict:{minimumDistanceRatio:.895,dotProductThreshold:Math.cos((0,d.Ht)(175))}},v="Too few nucleotides exist within the RNA complex (the number is less than the required number).";function m(e,n,t){for(var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=arguments.length>4?arguments[4]:void 0,x=arguments.length>5?arguments[5]:void 0,g=["undefined"].concat((0,l.Z)(s.ZP.canonicalTypes)),y={},b=function(){var e,b,C,E=(0,i.Z)(I[N],2),S=E[0],P=E[1],w=Number.parseInt(S),A=n[w],k=t[w],T=null!==(e=d[w])&&void 0!==e?e:{};y[w]={};for(var _=y[w],M=[],R=0,j=Object.entries(P.rnaMoleculeProps);R<j.length;R++){var O,Z=(0,i.Z)(j[R],2),L=Z[0],D=Z[1];_[L]={};for(var F=_[L],B=null!==(O=T[L])&&void 0!==O?O:{},z=0,W=Object.entries(D.nucleotideProps);z<W.length;z++){var U,G=(0,i.Z)(W[z],2),H=G[0],K=G[1],V=Number.parseInt(H),q=null!==(U=B[V])&&void 0!==U?U:{x:0,y:0},X={x:K.x-.5*q.x,y:K.y+q.y};F[V]=X,M.push({indices:{rnaMoleculeName:L,nucleotideIndex:V,arrayIndex:M.length},singularNucleotideProps:K,adjustedPosition:X})}}var $=m[w],Q=x[w];function Y(e,n){var t=e.vectorNearNucleotide,r=e.vectorNearLabelContent,o=e.labelContent,a=e.labelContentDimensions,i=M[n],l=i.singularNucleotideProps,s=i.adjustedPosition;l.labelLineProps={points:[(0,c.$X)(t,s),(0,c.$X)(r,s)]},o.x+=.5*a.width-s.x,o.y+=.5*-a.height-s.y,l.labelContentProps=o}if($.length>0){var J,ee=function(e,n,t,r){if(void 0!==t&&void 0!==r){var o=(0,c.Dv)(e.labelContent,e.vectorNearLabelContent)/(0,c.Dv)(e.vectorNearLabelContent,e.vectorNearNucleotide);if(o<t||o>r)return}n.sort((function(e,n){return e.distance-n.distance})),Y(e,n[0].indices.arrayIndex)},ne=new Array,te={},re=(0,a.Z)(Q);try{for(re.s();!(J=re.n()).done;){for(var oe=J.value,ae=oe.labelContent,ie=oe.rectangle,le=ae.x,se=ae.y,ue=ie.width,ce=ie.height,de=[{x:le,y:se},{x:le+ue,y:se},{x:le+ue,y:se-ce},{x:le,y:se-ce}],fe=[{v0:de[0],v1:de[1]},{v0:de[1],v1:de[2]},{v0:de[2],v1:de[3]},{v0:de[3],v1:de[0]}],pe={distanceSquared:Number.POSITIVE_INFINITY,vectorNearNucleotide:$[0].v0,vectorNearLabelContent:$[0].v1,labelLineIndex:NaN},he=0;he<$.length;he++)for(var ve=$[he],me=ve.v0,xe=ve.v1,ge=0,ye=[{vector:me,otherVector:xe},{vector:xe,otherVector:me}];ge<ye.length;ge++){var be,Ne=ye[ge],Ie=Ne.vector,Ce=Ne.otherVector,Ee=(0,a.Z)(fe);try{for(Ee.s();!(be=Ee.n()).done;){var Se=be.value,Pe=(0,c.i$)(Ie,Se);Pe<pe.distanceSquared&&(pe={distanceSquared:Pe,vectorNearNucleotide:Ce,vectorNearLabelContent:Ie,labelLineIndex:he})}}catch(Kt){Ee.e(Kt)}finally{Ee.f()}}var we=pe,Ae=we.labelLineIndex,ke=we.vectorNearNucleotide,Te=we.vectorNearLabelContent,_e=we.distanceSquared;Ae in te||(te[Ae]=[]),te[Ae].push({vectorNearNucleotide:ke,vectorNearLabelContent:Te,labelContent:ae,distanceSquared:_e,labelContentDimensions:ie})}}catch(Kt){re.e(Kt)}finally{re.f()}for(var Me=0,Re=Object.entries(te);Me<Re.length;Me++){var je=(0,i.Z)(Re[Me],2),Oe=je[0],Ze=je[1],Le=Number.parseInt(Oe);Ze.sort((function(e,n){return e.distanceSquared-n.distanceSquared})),ne.push((0,o.Z)((0,o.Z)({},Ze[0]),{},{labelLineIndex:Le}))}for(var De={},Fe=new Array,Be=0,ze=ne;Be<ze.length;Be++){var We=ze[Be],Ue=We.labelLineIndex,Ge=We.labelContent,He=(We.distanceSquared,We.vectorNearNucleotide),Ke=We.vectorNearLabelContent,Ve=(We.labelContentDimensions,qn(Kn(He,7).sliced,He)),qe=new Array,Xe=($[Ue],(0,c.Fv)((0,c.$X)(Ke,He))),$e=void 0;/^-?\d+$/.test(Ge.content)&&($e=Number.parseInt(Ge.content));for(var Qe=0,Ye=Ve;Qe<Ye.length;Qe++){var Je=Ye[Qe],en=Je.indices,nn=Je.dv,tn=Je.distance;nn=(0,c.Fv)(nn),(0,c.Ih)(Xe,nn)>=h.loose.dotProductThreshold||qe.push({indices:en,distance:tn})}if(1===qe.length){var rn=qe[0].indices;if(void 0!==$e){var on=$e-rn.nucleotideIndex;on in De||(De[on]={multiplicity:0,candidates:[]});var an=De[on];an.multiplicity++,an.candidates.push({pairedLabelDatum:We,arrayIndex:rn.arrayIndex,labelContentAsNumber:$e,unfilteredNucleotideData:Ve})}}else Fe.push({unfilteredNucleotideData:Ve,pairedLabelDatum:We,labelContentAsNumber:$e})}var ln=Object.entries(De);if(0===ln.length){var sn,un=(0,a.Z)(Fe);try{for(un.s();!(sn=un.n()).done;){var cn=sn.value,dn=cn.unfilteredNucleotideData;ee(cn.pairedLabelDatum,dn)}}catch(Kt){un.e(Kt)}finally{un.f()}}else{var fn,pn=ln.map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndexDelta:Number.parseInt(t),multiplicityData:r}})).sort((function(e,n){return n.multiplicityData.multiplicity-e.multiplicityData.multiplicity})),hn=0,vn=(0,a.Z)(pn);try{for(vn.s();!(fn=vn.n()).done;){var mn=fn.value,xn=(mn.nucleotideIndexDelta,mn.multiplicityData);hn+=xn.multiplicity}}catch(Kt){vn.e(Kt)}finally{vn.f()}var gn,yn=pn[0],bn=Number.POSITIVE_INFINITY,Nn=Number.NEGATIVE_INFINITY,In=(0,a.Z)(yn.multiplicityData.candidates);try{for(In.s();!(gn=In.n()).done;){var Cn=gn.value.pairedLabelDatum,En=(0,c.Dv)(Cn.labelContent,Cn.vectorNearLabelContent)/(0,c.Dv)(Cn.vectorNearLabelContent,Cn.vectorNearNucleotide);En<bn&&(bn=En),En>Nn&&(Nn=En)}}catch(Kt){In.e(Kt)}finally{In.f()}pn=pn.filter((function(e){e.nucleotideIndexDelta;var n=e.multiplicityData,t=n.multiplicity>1&&n.multiplicity/hn>.05;if(t){var r,o=(0,a.Z)(n.candidates);try{for(o.s();!(r=o.n()).done;){var i=r.value;Y(i.pairedLabelDatum,i.arrayIndex)}}catch(Kt){o.e(Kt)}finally{o.f()}}else{var l,s=(0,a.Z)(n.candidates);try{for(s.s();!(l=s.n()).done;){var u=l.value,c=u.pairedLabelDatum,d=(u.arrayIndex,u.labelContentAsNumber),f=u.unfilteredNucleotideData;Fe.push({unfilteredNucleotideData:f,pairedLabelDatum:c,labelContentAsNumber:d})}}catch(Kt){s.e(Kt)}finally{s.f()}}return t}));var Sn,Pn=(0,a.Z)(Fe);try{for(Pn.s();!(Sn=Pn.n()).done;){var wn=Sn.value,An=wn.unfilteredNucleotideData,kn=wn.pairedLabelDatum,Tn=wn.labelContentAsNumber;if(void 0===Tn)ee(kn,An,bn,Nn);else{var _n,Mn=(0,a.Z)(pn);try{e:for(Mn.s();!(_n=Mn.n()).done;){var Rn,jn=_n.value.nucleotideIndexDelta,On=(0,a.Z)(An);try{for(On.s();!(Rn=On.n()).done;){var Zn=Rn.value.indices,Ln=Zn.nucleotideIndex,Dn=Zn.arrayIndex;if(jn===Tn-Ln){!0,Y(kn,Dn);break e}}}catch(Kt){On.e(Kt)}finally{On.f()}}}catch(Kt){Mn.e(Kt)}finally{Mn.f()}}}}catch(Kt){Pn.e(Kt)}finally{Pn.f()}}}var Fn,Bn=!1,zn=Hn(),Wn={},Un=(0,a.Z)(g);try{for(Un.s();!(Fn=Un.n()).done;){var Gn=Fn.value;Wn[Gn]={minimum:Number.POSITIVE_INFINITY,maximum:Number.NEGATIVE_INFINITY}}}catch(Kt){Un.e(Kt)}finally{Un.f()}function Hn(){var e,n={},t=(0,a.Z)(g);try{for(t.s();!(e=t.n()).done;){n[e.value]={lineData:[],centerData:[]}}}catch(Kt){t.e(Kt)}finally{t.f()}return{zeroCandidateBasePairs:n,tooManyCandidateBasePairs:{lineDataWithIndices:[],centerDataWithIndices:[]}}}function Kn(e,n){var t=M.map((function(n){var t=n.indices,r=n.adjustedPosition;return{indices:t,adjustedPosition:r,squaredDistance:(0,c.Dv)(e,r)}}));if(t.length<n)throw v;return t.sort((function(e,n){return e.squaredDistance-n.squaredDistance})),{all:t,sliced:t.slice(0,n)}}function Vn(e,n,t){(0,u.P3)(P,e.rnaMoleculeName,e.nucleotideIndex,n.rnaMoleculeName,n.nucleotideIndex,u.GN.THROW_ERROR,{basePairType:t});var r=(0,c.TE)(M[e.arrayIndex].singularNucleotideProps,M[n.arrayIndex].singularNucleotideProps),o=Wn[null!==t&&void 0!==t?t:"undefined"];r<o.minimum&&(o.minimum=r),r>o.maximum&&(o.maximum=r),delete M[e.arrayIndex],delete M[n.arrayIndex]}function qn(e,n){return e.map((function(e){var t=e.indices,r=e.adjustedPosition,o=e.squaredDistance;return{indices:t,dv:(0,c.$X)(r,n),distance:Math.sqrt(o),adjustedPosition:r}}))}function Xn(e,n,t){for(var r=n.dotProductThreshold,o=n.minimumDistanceRatio,a=1/o,i=(0,c.Fv)((0,c.$X)(e.v1,e.v0)),l=(0,c.tk)(i),u=Kn(e.v0,t),d=qn(u.sliced,e.v0).filter((function(e){var n=e.dv;return(0,c.Ih)(n,i)/(0,c.VE)(n)<r})),f=Kn(e.v1,t),p=qn(f.sliced,e.v1).filter((function(e){var n=e.dv;return(0,c.Ih)(n,l)/(0,c.VE)(n)<r})),h=d.length,v=p.length,m=new Array,x=e.basePairType,g=0;g<h;g++)for(var y=d[g],b=y.indices,N=y.distance,I=P.rnaMoleculeProps[b.rnaMoleculeName].nucleotideProps[b.nucleotideIndex].symbol,C=0;C<v;C++){var E=p[C],S=E.indices,w=E.distance,A=P.rnaMoleculeProps[S.rnaMoleculeName].nucleotideProps[S.nucleotideIndex].symbol;if(!(b.rnaMoleculeName===S.rnaMoleculeName&&Math.abs(b.nucleotideIndex-S.nucleotideIndex)<=1)){var k=(0,s.iN)(I,A);if(void 0===x||x===k){var T=N/w;T<o||T>a||m.push({indices0:b,indices1:S,totalDistance:N+w,distanceRatio:T,type:k})}}}switch(m.length){case 0:zn.zeroCandidateBasePairs[null!==x&&void 0!==x?x:"undefined"].lineData.push({line:e,allClosestNucleotides:{0:[],1:[]}});break;case 1:var _=m[0];Vn(_.indices0,_.indices1,_.type);break;default:zn.tooManyCandidateBasePairs.lineDataWithIndices.push({line:e,arrayIndices:m.map((function(e){var n=e.indices0,t=e.indices1;return{0:n.arrayIndex,1:t.arrayIndex}})),allClosestNucleotides:{0:u.all,1:f.all}})}1!==m.length&&Bn&&console.error("Base-pair creation failed: ".concat(m.length," (line; ").concat(e.basePairType,"; (").concat(e.v0.x,", ").concat(e.v0.y,")-(").concat(e.v1.x,", ").concat(e.v1.y,"))"),m)}function $n(e,n,t){for(var r=n.dotProductThreshold,o=n.minimumDistanceRatio,a=1/o,i=Kn(e,t),l=i.all,u=qn(i.sliced,e),d=new Array,f=u.length,p=e.basePairType,h=0;h<f;h++)for(var v=u[h],m=v.indices,x=v.distance,g=P.rnaMoleculeProps[m.rnaMoleculeName].nucleotideProps[m.nucleotideIndex].symbol,y=h+1;y<f;y++){var b=u[y],N=b.indices,I=b.distance,C=P.rnaMoleculeProps[N.rnaMoleculeName].nucleotideProps[N.nucleotideIndex].symbol;if(!(m.rnaMoleculeName===N.rnaMoleculeName&&Math.abs(m.nucleotideIndex-N.nucleotideIndex)<=1)){var E=(0,s.iN)(g,C);if(void 0===p||p===E){var S=(0,c.Ih)(v.dv,b.dv)/(x*I);if(!(S>=r)){var w=x/I;w<o||w>a||d.push({indices0:m,indices1:N,dotProduct:S,totalDistance:x+I,distanceRatio:w,type:E})}}}}switch(d.length){case 0:zn.zeroCandidateBasePairs[null!==p&&void 0!==p?p:"undefined"].centerData.push({center:e,allClosestNucleotides:[]});break;case 1:var A=d[0];Vn(A.indices0,A.indices1,A.type);break;default:zn.tooManyCandidateBasePairs.centerDataWithIndices.push({center:e,arrayIndices:d.map((function(e){var n=e.indices0,t=e.indices1;return{0:n.arrayIndex,1:t.arrayIndex}})),allClosestNucleotides:l})}1!==d.length&&Bn&&console.error("Base-pair creation failed: ".concat(d.length," (center; ").concat(e.basePairType,"; ").concat(e.x,", ").concat(e.y,")"),d)}var Qn,Yn=(b={},(0,r.Z)(b,s.ZP.Type.WOBBLE,0),(0,r.Z)(b,s.ZP.Type.CANONICAL,1),(0,r.Z)(b,s.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK,2),(0,r.Z)(b,s.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK,3),(0,r.Z)(b,s.ZP.Type.MISMATCH,4),(0,r.Z)(b,"undefined",5),b),Jn=Object.entries(Yn).sort((function(e,n){return e[1]-n[1]})).map((function(e){var n=(0,i.Z)(e,2),t=n[0];n[1];return t})),et=(C={undefined:{lines:[],centers:[]}},(0,r.Z)(C,s.ZP.Type.CANONICAL,{lines:[],centers:[]}),(0,r.Z)(C,s.ZP.Type.MISMATCH,{lines:[],centers:[]}),(0,r.Z)(C,s.ZP.Type.WOBBLE,{lines:[],centers:[]}),(0,r.Z)(C,s.ZP.Type.CIS_WATSON_CRICK_WATSON_CRICK,{lines:[],centers:[]}),(0,r.Z)(C,s.ZP.Type.TRANS_WATSON_CRICK_WATSON_CRICK,{lines:[],centers:[]}),C),nt=(0,a.Z)(k);try{for(nt.s();!(Qn=nt.n()).done;){var tt,rt=Qn.value;et[null!==(tt=rt.basePairType)&&void 0!==tt?tt:"undefined"].centers.push(rt)}}catch(Kt){nt.e(Kt)}finally{nt.f()}var ot,at=(0,a.Z)(A);try{for(at.s();!(ot=at.n()).done;){var it,lt=ot.value,st=et[null!==(it=lt.basePairType)&&void 0!==it?it:"undefined"];f>=(0,c.Dv)(lt.v0,lt.v1)?st.centers.push(lt.v0):st.lines.push(lt)}}catch(Kt){at.e(Kt)}finally{at.f()}var ut,ct=(0,a.Z)(Jn);try{for(ct.s();!(ut=ct.n()).done;){var dt,ft=et[ut.value],pt=ft.centers,ht=ft.lines,vt=(0,a.Z)(ht);try{for(vt.s();!(dt=vt.n()).done;){Xn(dt.value,h.normal,3)}}catch(Kt){vt.e(Kt)}finally{vt.f()}var mt,xt=(0,a.Z)(pt);try{for(xt.s();!(mt=xt.n()).done;){$n(mt.value,h.normal,6)}}catch(Kt){xt.e(Kt)}finally{xt.f()}}}catch(Kt){ct.e(Kt)}finally{ct.f()}var gt=structuredClone(zn);zn=Hn();var yt,bt=new Array,Nt=new Array,It=gt.zeroCandidateBasePairs,Ct=gt.tooManyCandidateBasePairs,Et=(0,a.Z)(Ct.lineDataWithIndices);try{for(Et.s();!(yt=Et.n()).done;){var St=yt.value;switch(St.arrayIndices=St.arrayIndices.filter((function(e){return e[0]in M&&e[1]in M})),St.arrayIndices.length){case 0:var Pt;It[null!==(Pt=St.line.basePairType)&&void 0!==Pt?Pt:"undefined"].lineData.push(St);break;case 1:var wt=St.arrayIndices[0];Vn(M[wt[0]].indices,M[wt[1]].indices,St.line.basePairType);break;default:bt.push(St)}}}catch(Kt){Et.e(Kt)}finally{Et.f()}var At,kt=(0,a.Z)(Ct.centerDataWithIndices);try{for(kt.s();!(At=kt.n()).done;){var Tt=At.value;switch(Tt.arrayIndices=Tt.arrayIndices.filter((function(e){return e[0]in M&&e[1]in M})),Tt.arrayIndices.length){case 0:var _t;It[null!==(_t=Tt.center.basePairType)&&void 0!==_t?_t:"undefined"].centerData.push(Tt);break;case 1:var Mt=Tt.arrayIndices[0];Vn(M[Mt[0]].indices,M[Mt[1]].indices,Tt.center.basePairType);break;default:Nt.push(Tt)}}}catch(Kt){kt.e(Kt)}finally{kt.f()}var Rt,jt=(0,a.Z)(Jn);try{for(jt.s();!(Rt=jt.n()).done;){var Ot,Zt=It[Rt.value],Lt=Zt.centerData,Dt=Zt.lineData,Ft=(0,a.Z)(Dt);try{for(Ft.s();!(Ot=Ft.n()).done;){Xn(Ot.value.line,h.loose,p.line)}}catch(Kt){Ft.e(Kt)}finally{Ft.f()}var Bt,zt=(0,a.Z)(Lt);try{for(zt.s();!(Bt=zt.n()).done;){$n(Bt.value.center,h.loose,p.center)}}catch(Kt){zt.e(Kt)}finally{zt.f()}}}catch(Kt){jt.e(Kt)}finally{jt.f()}bt.push.apply(bt,(0,l.Z)(zn.tooManyCandidateBasePairs.lineDataWithIndices)),Nt.push.apply(Nt,(0,l.Z)(zn.tooManyCandidateBasePairs.centerDataWithIndices));var Wt=[].concat((0,l.Z)(bt.map((function(e){var n=e.line,t=e.arrayIndices;return{center:(0,o.Z)((0,o.Z)({},(0,c.wK)((0,c.IH)(n.v0,n.v1),.5)),{},{basePairType:n.basePairType}),arrayIndices:t}}))),Nt);Wt.sort((function(e,n){return e.arrayIndices.length-n.arrayIndices.length}));var Ut,Gt=(0,a.Z)(Wt);try{var Ht=function(){var e,n=Ut.value,t=n.center,r=n.arrayIndices,o=Wn[null!==(e=t.basePairType)&&void 0!==e?e:"undefined"];if(0===(r=r.filter((function(e){if(!(e[0]in M))return!1;if(!(e[1]in M))return!1;var n=M[e[0]],t=M[e[1]],r=(0,c.TE)(n.singularNucleotideProps,t.singularNucleotideProps);return!(r<.95*o.minimum)&&!(r>1.05*o.maximum)}))).length)return console.error("Base pairing failed."),"continue";for(var a=r.map((function(e){var n=M[e[0]],r=M[e[1]];return{distanceSquared:(0,c.Dv)((0,c.wK)((0,c.IH)(n.singularNucleotideProps,r.singularNucleotideProps),.5),t),indices0:n.indices,indices1:r.indices}})),i=a[0],l=1;l<a.length;l++){var s=a[l];s.distanceSquared<i.distanceSquared&&(i=s)}Vn(i.indices0,i.indices1,t.basePairType)};for(Gt.s();!(Ut=Gt.n()).done;)Ht()}catch(Kt){Gt.e(Kt)}finally{Gt.f()}},N=0,I=Object.entries(e);N<I.length;N++)b();for(var C=0,E=Object.values(e);C<E.length;C++)for(var S=E[C],P=0,w=Object.values(S.rnaMoleculeProps);P<w.length;P++)for(var A=w[P],k=0,T=Object.values(A.nucleotideProps);k<T.length;k++){var _=T[k];if(_.y*=-1,void 0!==_.labelContentProps&&(_.labelContentProps.y*=-1),void 0!==_.labelLineProps){var M,R=(0,a.Z)(_.labelLineProps.points);try{for(R.s();!(M=R.n()).done;){M.value.y*=-1}}catch(j){R.e(j)}finally{R.f()}}}}},4861:function(e,n,t){"use strict";t.d(n,{BM:function(){return j},Fr:function(){return m},IP:function(){return T},IQ:function(){return b},JX:function(){return _},U5:function(){return N},WI:function(){return w},WU:function(){return E},XR:function(){return S},Ye:function(){return A},b7:function(){return P},hu:function(){return I},js:function(){return k},rm:function(){return C},s5:function(){return M},t1:function(){return W}});var r=t(3433),o=t(9439),a=t(7762),i=t(1413),l=t(5847),s=t(7089),u=t(9287),c=t(6048),d=t(4279),f=t(3871),p=t(433),h=t(4532),v=t(7689),m=function(e){return e.SCENE="scene",e.RNA_COMPLEX="rna_complex",e.RNA_MOLECULE="rna_molecule",e.NUCLEOTIDE="nucleotide",e.LABEL_LINE="label_line",e.LABEL_CONTENT="label_content",e.BASE_PAIR="base_pair",e.PATH="path",e.CENTERLINE="centerline",e}({}),x=Object.values(m);var g=function(e){return e.LETTERS="Letters",e.LABELS_LINES="Labels_Lines",e.LABELS_TEXT="Labels_Text",e.BASE_PAIR_LINES="Nucleotide_Lines",e.BASE_PAIR_CIRCLES="Nucleotide_Circles",e}(g||{}),y=(Object.values(g),function(e){return e.XRNA_JS="xrna.js",e.XRNA_GT="xrna_gt",e.UNFORMATTED="unformatted",e}(y||{})),b="data-xrna_type",N="data-xrna_rna_complex_name",I="data-xrna_rna_molecule_name",C="data-xrna_rna_molecule_first_nucleotide_index",E="data-xrna_formatted_nucleotide_index",S="data-xrna_base_pair_rna_molecule_name_0",P="data-xrna_base_pair_rna_molecule_name_1",w="data-xrna_base_pair_formatted_nucleotide_index",A="data-xrna_base_pair_formatted_nucleotide_index_0",k="data-xrna_base_pair_formatted_nucleotide_index_1",T="data-xrna_base_pair_type",_="data-xrna_scene_name",M="data-xrna_relative_coordinates_flag",R=!0,j="data-xrna_invert_y_axis_flag",O=!1,Z="rectangle_width",L="rectangle_height",D=/matrix\(1\s+0\s+0\s+1\s+(-?[\d.]+)\s+(-?[\d.]+)\)/,F={defaults:{}};function B(e,n,t){var r,l=e.getAttribute(b);if(null!==l&&(r=l,!x.includes(r)))throw'Unrecognized SvgXrnaDataType "'.concat(l,'"');var v,R=(0,i.Z)({},F.root),z=(0,a.Z)(e.classList);try{for(z.s();!(v=z.n()).done;){var W=v.value;W in F.defaults&&(R=(0,i.Z)((0,i.Z)({},R),F.defaults[W]))}}catch(Er){z.e(Er)}finally{z.f()}if(e.tagName in F){var U,G=F[e.tagName],H=(0,a.Z)(e.classList);try{for(H.s();!(U=H.n()).done;){var K=U.value;if(K in G){var V=G[K];R=(0,i.Z)((0,i.Z)({},R),V)}}}catch(Er){H.e(Er)}finally{H.f()}}switch(t){case y.XRNA_JS:if(null===l)e.tagName;else{var q,X=null!==(q=n.invertYAxisFlag)&&void 0!==q?q:O;switch(l){case m.SCENE:var $=e.getAttribute(_);if(null===$)throw'Required SVG-element property "'.concat(_,'" is missing.');n.complexDocumentName=$;var Q=e.getAttribute(M);if(null==Q)throw'Required SVG-element property "'.concat(M,'" is missing.');n.relativeCoordinatesFlag="true"===Q;var Y=e.getAttribute(j);if(null==Y)throw'Required SVG-element property "'.concat(j,'" is missing.');n.invertYAxisFlag="true"===Y;break;case m.RNA_COMPLEX:var J=e.getAttribute(N);if(null===J)throw'Required SVG-element property "'.concat(N,'" is missing.');n.singularRnaComplexProps={name:J,rnaMoleculeProps:{},basePairs:{}};var ee=n.rnaComplexProps.length;n.rnaComplexPropsByName[J]=n.singularRnaComplexProps;var ne=[];n.labelLinesPerRnaComplex=ne,n.labelLines[ee]=ne;var te=[];n.labelContentsPerRnaComplex=te,n.labelContents[ee]=te,n.rnaComplexProps.push(n.singularRnaComplexProps),n.temporaryBasePairsPerRnaComplex=[];break;case m.BASE_PAIR:var re=e.getAttribute(N);if(null===re)throw'Required SVG-element property "'.concat(N,'" is missing.');var oe=e.getAttribute(S);if(null===oe)throw'Required SVG-element property "'.concat(S,'" is missing.');var ae=e.getAttribute(A);if(null===ae)throw'Required SVG-element property "'.concat(A,'" is missing.');var ie=e.getAttribute(P);if(null===ie)throw'Required SVG-element property "'.concat(P,'" is missing.');var le=e.getAttribute(k);if(null===le)throw'Required SVG-element property "'.concat(k,'" is missing.');var se=e.getAttribute(T);if(null===se)throw'Required SVG-element property "'.concat(T,'" is missing.');if(!(0,s.UK)(se))throw'Unrecognized BasePair.Type "'.concat(se,'"');var ue={rnaMoleculeName0:oe,formattedNucleotideIndex0:Number.parseInt(ae),rnaMoleculeName1:ie,formattedNucleotideIndex1:Number.parseInt(le),basePairType:se},ce=e.getAttribute("stroke");null!==ce&&"none"!==ce&&(ue.color=(0,f.Jq)(ce));var de=e.getAttribute("fill");null!==de&&"none"!==de&&(ue.color=(0,f.Jq)(de));var fe=e.getAttribute("stroke-width");null!==fe&&(ue.strokeWidth=Number.parseFloat(fe)),re in n.temporaryBasePairsPerRnaComplexName||(n.temporaryBasePairsPerRnaComplexName[re]=[]),n.temporaryBasePairsPerRnaComplexName[re].push(ue);break;case m.RNA_MOLECULE:var pe=e.getAttribute(C);if(null===pe)throw'Required SVG-element property "'.concat(C,'" is missing.');n.singularRnaMoleculeProps={firstNucleotideIndex:Number.parseInt(pe),nucleotideProps:{}};var he=e.getAttribute(I);if(null===he)throw'Required SVG-element property "'.concat(I,'" is missing.');if(void 0===n.singularRnaComplexProps)throw"cache.singularRnaComplexProps should not be undefined at this point. The input SVG file is broken.";n.singularRnaComplexProps.rnaMoleculeProps[he]=n.singularRnaMoleculeProps;break;case m.NUCLEOTIDE:var ve=e.getAttribute(N);if(null===ve)throw'Required SVG-element property "'.concat(N,'" is missing.');if(!(ve in n.rnaComplexPropsByName)){var me={name:ve,rnaMoleculeProps:{},basePairs:{}};n.rnaComplexPropsByName[ve]=me,n.rnaComplexProps.push(me)}var xe=n.rnaComplexPropsByName[ve],ge=e.getAttribute(I);if(null===ge)throw'Required SVG-element property "'.concat(I,'" is missing.');var ye=e.getAttribute(C);if(null===ye)throw'Required SVG-element property "'.concat(C,'" is missing.');var be=Number.parseInt(ye);if(!(ge in xe.rnaMoleculeProps)){var Ne={firstNucleotideIndex:be,nucleotideProps:{}};xe.rnaMoleculeProps[ge]=Ne}var Ie=xe.rnaMoleculeProps[ge],Ce=e.getAttribute("transform");if(null===Ce)throw'Required SVG-element property "transform" is missing.';var Ee=(0,d.HU)(Ce),Se=e.getAttribute(E);if(null===Se)throw'Required SVG-element property "'.concat(E,'" is missing.');var Pe=Number.parseInt(Se),we=e.textContent;if(null===we)throw'Required SVG-element property "textContent" is missing.';if(!u.h5.isSymbol(we))throw'"'.concat(we,'" is not a valid nucleotide symbol.');var Ae=Ee[4],ke=Ee[5];X&&(ke*=-1);var Te={x:Ae,y:ke,symbol:we};Ie.nucleotideProps[Pe-be]=Te;var _e=structuredClone(p.ZP.DEFAULT);Te.font=_e;var Me=e.getAttribute("font-style");null!==Me?_e.style=Me:void 0!==R.style&&(_e.style=R.style);var Re=e.getAttribute("font-weight");null!==Re?_e.weight=Re:void 0!==R.weight&&(_e.weight=R.weight);var je=e.getAttribute("font-family");null!==je?_e.family=je:void 0!==R.family&&(_e.family=R.family);var Oe=e.getAttribute("font-size");null!==Oe?_e.size=Oe:void 0!==R.size&&(_e.size=R.size);var Ze=e.getAttribute("stroke-width");null!==Ze?Te.strokeWidth=Number.parseFloat(Ze):void 0!==R.strokeWidth&&(Te.strokeWidth=R.strokeWidth);var Le=e.getAttribute("fill");null!==Le?Te.color=(0,f.Jq)(Le):void 0!==R.fill&&(Te.color=R.fill);break;case m.LABEL_LINE:var De=Array.from(e.children).filter((function(e){return"polyline"===e.tagName}));if(1!==De.length)throw"Label-line SVG groups must have exactly one polyline child element.";var Fe=De[0].getAttribute("points");if(null===Fe)throw'Required SVG-element property "points" is missing.';var Be=new Array;Be=Fe.split(/\s+/).map((function(e){var n=e.match(/(-?[\d.]+),\s*(-?[\d.]+)/);if(null===n)throw'Required SVG element property "points" does not match the expected format';var t=Number.parseFloat(n[1]),r=Number.parseFloat(n[2]);return X&&(r*=-1),{x:t,y:r}}));var ze=e.getAttribute("stroke"),We=f.E5;null!==ze?We=(0,f.Jq)(ze):void 0!==R.stroke&&(We=R.stroke);var Ue=h.tA,Ge=e.getAttribute("stroke-width");null!==Ge?Ue=Number.parseFloat(Ge):void 0!==R.strokeWidth&&(Ue=R.strokeWidth);var He={points:Be,color:We,strokeWidth:Ue},Ke=e.getAttribute(N);if(null===Ke)throw'Required SVG-element property "'.concat(N,'" is missing.');var Ve=e.getAttribute(I);if(null===Ve)throw'Required SVG-element property "'.concat(I,'" is missing.');var qe=e.getAttribute(w);if(null===qe)throw'Required SVG-element property "'.concat(w,'" is missing.');var Xe=Number.parseInt(qe);Ke in n.temporaryLabelData||(n.temporaryLabelData[Ke]={});var $e=n.temporaryLabelData[Ke];Ve in $e||($e[Ve]={});var Qe=$e[Ve];Xe in Qe||(Qe[Xe]={}),Qe[Xe].labelLineProps=He;break;case m.LABEL_CONTENT:var Ye=e.textContent;if(null===Ye)throw'Required SVG-element property "textContent" is missing.';var Je=e.getAttribute("transform");if(null===Je)throw'Required SVG-element property "transform" is missing.';var en=(0,d.HU)(Je),nn=structuredClone(p.ZP.DEFAULT),tn=e.getAttribute("font-size");null!==tn?nn.size=tn:void 0!==R.size&&(nn.size=R.size);var rn=e.getAttribute("font-style");null!==rn?nn.style=rn:void 0!==R.style&&(nn.style=R.style);var on=e.getAttribute("font-weight");null!==on?nn.weight=on:void 0!==R.weight&&(nn.weight=R.weight);var an=e.getAttribute("font-family");null!==an?nn.family=an:void 0!==R.family&&(nn.family=R.family);var ln=en[4],sn=en[5];X&&(sn*=-1);var un={content:Ye,x:ln,y:sn,font:nn},cn=e.getAttribute("fill");null!==cn?un.color=(0,f.Jq)(cn):void 0!==R.fill&&(un.color=R.fill);var dn=e.getAttribute("stroke-width");null!==dn?un.strokeWidth=Number.parseFloat(dn):void 0!==R.strokeWidth&&(un.strokeWidth=R.strokeWidth);var fn=e.getAttribute(N);if(null===fn)throw'Required SVG-element property "'.concat(N,'" is missing.');var pn=e.getAttribute(I);if(null===pn)throw'Required SVG-element property "'.concat(I,'" is missing.');var hn=e.getAttribute(w);if(null===hn)throw'Required SVG-element property "'.concat(w,'" is missing.');var vn=Number.parseInt(hn);fn in n.temporaryLabelData||(n.temporaryLabelData[fn]={});var mn=n.temporaryLabelData[fn];pn in mn||(mn[pn]={});var xn=mn[pn];vn in xn||(xn[vn]={}),xn[vn].labelContentProps=un;break;case m.PATH:case m.CENTERLINE:break;default:throw'Unrecognized SvgXrnaDataType "'.concat(l,'"')}}break;case y.XRNA_GT:switch(e.tagName){case"g":var gn=e.getAttribute("id");if(n.mostRecentGroupId=null!==gn&&void 0!==gn?gn:void 0,gn===g.LETTERS){n.rnaMoleculeCount++;var yn="RNA molecule #".concat(n.rnaMoleculeCount);n.currentRnaMoleculeName=yn,n.singularRnaComplexProps.rnaMoleculeProps[yn]={nucleotideProps:{},firstNucleotideIndex:0};var bn=n.graphicalAdjustmentsPerRnaComplex;bn[yn]={},n.graphicalAdjustmentsPerRnaMolecule=bn[yn]}break;case"text":switch(n.mostRecentGroupId){case g.LETTERS:for(var Nn={id:e.getAttribute("id"),transform:e.getAttribute("transform"),textContent:e.textContent,rectangleWidth:e.getAttribute(Z),rectangleHeight:e.getAttribute(L)},In=0,Cn=Object.entries(Nn);In<Cn.length;In++){var En=(0,o.Z)(Cn[In],2),Sn=En[0];if(null===En[1])throw'Required SVG attribute "'.concat(Sn,'" is missing.')}var Pn=Nn.id,wn=Number.NaN;if(/^-?\d+$/.test(Pn))wn=Number.parseInt(Pn);else{var An=Pn.match(/^(\w+)_(\w+):(\d+)$/);if(null===An)throw'Unrecognized nucleotide-index format "'.concat(Pn,'"');n.currentRnaMoleculeName=An[2],wn=Number.parseInt(An[3])}var kn=Nn.textContent.trim();if(!u.h5.isSymbol(kn))throw'Unrecognized nucleotide symbol "'.concat(kn,'"');var Tn=Nn.transform,_n=Tn.match(D);if(null===_n)throw'Unrecognized transform format "'.concat(Tn,'"');var Mn={symbol:kn,x:Number.parseFloat(_n[1]),y:Number.parseFloat(_n[2])},Rn={fill:e.getAttribute("fill"),fontFamily:e.getAttribute("font-family"),fontWeight:e.getAttribute("font-weight"),fontStyle:e.getAttribute("font-style"),fontSize:e.getAttribute("font-size")};null!==Rn.fill&&(Mn.color=(0,f.Jq)(Rn.fill));var jn=structuredClone(p.ZP.DEFAULT);Mn.font=jn,null!==Rn.fontFamily&&(jn.family=Rn.fontFamily),null!==Rn.fontWeight&&(jn.weight=Rn.fontWeight),null!==Rn.fontStyle&&(jn.style=Rn.fontStyle),null!==Rn.fontSize&&(jn.size=(0,p.VG)(Rn.fontSize));var On=(0,u.$H)({width:Number.parseFloat(Nn.rectangleWidth),height:Number.parseFloat(Nn.rectangleHeight)}),Zn=n.currentRnaMoleculeName;if(void 0===Zn)throw"cache.currentRnaMoleculeName should not be undefined at this point.";if(!(Zn in n.singularRnaComplexProps.rnaMoleculeProps)){var Ln={firstNucleotideIndex:0,nucleotideProps:{}};n.singularRnaMoleculeProps=Ln,n.singularRnaComplexProps.rnaMoleculeProps[Zn]=Ln;var Dn={};n.graphicalAdjustmentsPerRnaMolecule=Dn,n.graphicalAdjustmentsPerRnaComplex[Zn]=Dn}n.singularRnaMoleculeProps.nucleotideProps[wn]=Mn,n.graphicalAdjustmentsPerRnaMolecule[wn]=On;break;case g.LABELS_TEXT:for(var Fn={transform:e.getAttribute("transform"),textContent:e.textContent,rectangleWidth:e.getAttribute(Z),rectangleHeight:e.getAttribute(L)},Bn=0,zn=Object.entries(Fn);Bn<zn.length;Bn++){var Wn=(0,o.Z)(zn[Bn],2),Un=Wn[0];if(null===Wn[1])throw'Required SVG attribute "'.concat(Un,'" is missing.')}Fn.textContent=Fn.textContent.trim();var Gn=Fn.transform,Hn=Gn.match(D);if(null===Hn)throw"Unrecognized transform format ".concat(Gn);var Kn={fontFamily:e.getAttribute("font-family"),fontStyle:e.getAttribute("font-style"),fontWeight:e.getAttribute("font-weight"),fontSize:e.getAttribute("font-size"),color:e.getAttribute("fill")},Vn=structuredClone(p.ZP.DEFAULT);null!==Kn.fontFamily&&(Vn.family=Kn.fontFamily),null!==Kn.fontStyle&&(Vn.style=Kn.fontStyle),null!==Kn.fontWeight&&(Vn.weight=Kn.fontWeight),null!==Kn.fontSize&&(Vn.size=(0,p.VG)(Kn.fontSize));var qn=structuredClone(f.E5);null!==Kn.color&&(qn=(0,f.Jq)(Kn.color));var Xn=Number.parseFloat(Hn[1]),$n=Number.parseFloat(Hn[2]),Qn=Number.parseFloat(Fn.rectangleWidth),Yn=Number.parseFloat(Fn.rectangleHeight);n.labelContentsPerRnaComplex.push({labelContent:{content:Fn.textContent,x:Xn,y:$n,font:Vn,color:qn},rectangle:{width:Qn,height:Yn}})}break;case"line":for(var Jn={x1:e.getAttribute("x1"),y1:e.getAttribute("y1"),x2:e.getAttribute("x2"),y2:e.getAttribute("y2")},et=0,nt=Object.entries(Jn);et<nt.length;et++){var tt=(0,o.Z)(nt[et],2),rt=tt[0];if(null===tt[1])throw"Required SVG property ".concat(rt," is missing.")}var ot={color:e.getAttribute("stroke"),strokeWidth:e.getAttribute("stroke-width")},at=f.E5;null!==ot.color&&(at=(0,f.Jq)(ot.color));var it=h.tA;null!==ot.strokeWidth&&(it=Number.parseFloat(ot.strokeWidth));var lt={x:Number.parseFloat(Jn.x1),y:Number.parseFloat(Jn.y1)},st={x:Number.parseFloat(Jn.x2),y:Number.parseFloat(Jn.y2)};switch(n.mostRecentGroupId){case g.BASE_PAIR_LINES:n.basePairLinesPerRnaComplex.push({v0:lt,v1:st,basePairType:s.ZP.Type.CANONICAL,color:at,strokeWidth:it});break;case g.LABELS_LINES:n.labelLinesPerRnaComplex.push({v0:lt,v1:st,color:at,strokeWidth:it})}break;case"circle":if(n.mostRecentGroupId===g.BASE_PAIR_CIRCLES){for(var ut={cx:e.getAttribute("cx"),cy:e.getAttribute("cy")},ct=0,dt=Object.entries(ut);ct<dt.length;ct++){var ft=(0,o.Z)(dt[ct],2),pt=ft[0];if(null===ft[1])throw'Required SVG attribute "'.concat(pt,'" is missing.')}var ht={fill:e.getAttribute("fill")};null!==ht.fill&&(ht.fill=ht.fill.trim());var vt=null===ht.fill?s.ZP.Type.MISMATCH:s.ZP.Type.WOBBLE;n.basePairCentersPerRnaComplex.push({x:Number.parseFloat(ut.cx),y:Number.parseFloat(ut.cy),basePairType:vt})}}break;case y.UNFORMATTED:switch(e.tagName){case"circle":for(var mt,xt,gt={cx:e.getAttribute("cx"),cy:e.getAttribute("cy")},yt=0,bt=Object.entries(gt);yt<bt.length;yt++){var Nt=(0,o.Z)(bt[yt],2),It=Nt[0];if(null===Nt[1])throw'Required SVG attribute "'.concat(It,'" is missing.')}var Ct={fill:e.getAttribute("fill")},Et=void 0;null!==Ct.fill&&(Ct.fill=Ct.fill.trim(),Et=(0,f.Jq)(Ct.fill));var St=null===Ct.fill?s.ZP.Type.MISMATCH:s.ZP.Type.WOBBLE;n.basePairCentersPerRnaComplex.push({x:Number.parseFloat(gt.cx),y:Number.parseFloat(gt.cy),basePairType:St,color:null!==(mt=null!==(xt=Et)&&void 0!==xt?xt:R.fill)&&void 0!==mt?mt:R.stroke});break;case"text":for(var Pt,wt,At,kt,Tt,_t,Mt,Rt={textContent:e.textContent},jt=Rt.textContent.trim(),Ot=0,Zt=Object.entries(Rt);Ot<Zt.length;Ot++){var Lt=(0,o.Z)(Zt[Ot],2),Dt=Lt[0];if(null===Lt[1])throw'Required SVG attribute "'.concat(Dt,'" is missing.')}var Ft={transform:e.getAttribute("transform"),x:e.getAttribute("x"),y:e.getAttribute("y"),fontFamily:null!==(Pt=e.getAttribute("font-family"))&&void 0!==Pt?Pt:R.family,fontStyle:null!==(wt=e.getAttribute("font-style"))&&void 0!==wt?wt:R.style,fontWeight:null!==(At=e.getAttribute("font-weight"))&&void 0!==At?At:R.weight,fontSize:null!==(kt=e.getAttribute("font-size"))&&void 0!==kt?kt:R.size,color:null!==(Tt=null!==(_t=e.getAttribute("fill"))&&void 0!==_t?_t:R.fill)&&void 0!==Tt?Tt:R.stroke,strokeWidth:null!==(Mt=e.getAttribute("stroke-width"))&&void 0!==Mt?Mt:R.strokeWidth},Bt=structuredClone(p.ZP.DEFAULT);Ft.fontFamily&&(Bt.family=Ft.fontFamily),Ft.fontStyle&&(Bt.style=Ft.fontStyle),Ft.fontWeight&&(Bt.weight=Ft.fontWeight),Ft.fontSize&&("number"==typeof Ft.fontSize?Bt.size=Ft.fontSize:Bt.size=(0,p.VG)(Ft.fontSize));var zt=structuredClone(f.E5);Ft.color&&(zt="object"==typeof Ft.color?Ft.color:(0,f.Jq)(Ft.color));var Wt=0,Ut=0;if(null!==Ft.transform){var Gt=Ft.transform.match(D);null!==Gt&&(Wt=Number.parseFloat(Gt[1]),Ut=Number.parseFloat(Gt[2]))}null!==Ft.x&&(Wt=Number.parseFloat(Ft.x)),null!==Ft.y&&(Ut=Number.parseFloat(Ft.y));var Ht=h.tA;if(Ft.strokeWidth&&(Ht="number"==typeof Ft.strokeWidth?Ft.strokeWidth:Number.parseFloat(Ft.strokeWidth)),u.h5.isSymbol(jt)){var Kt={x:Wt,y:Ut,symbol:jt,color:zt,strokeWidth:Ht,font:Bt};n.singularRnaMoleculeProps.nucleotideProps[n.nucleotideCount]=Kt,n.nucleotideCount++}else{var Vt=e.getAttribute(Z);if(null===Vt)throw'Required SVG property "'.concat(Z,'" is missing.');var qt=e.getAttribute(L);if(null===qt)throw'Required SVG property "'.concat(L,'" is missing.');n.labelContentsPerRnaComplex.push({labelContent:{x:Wt,y:Ut,content:jt,font:Bt,color:zt,strokeWidth:Ht},rectangle:{width:Number.parseFloat(Vt),height:Number.parseFloat(qt)}})}break;case"line":for(var Xt={x1:e.getAttribute("x1"),y1:e.getAttribute("y1"),x2:e.getAttribute("x2"),y2:e.getAttribute("y2")},$t=0,Qt=Object.entries(Xt);$t<Qt.length;$t++){var Yt=(0,o.Z)(Qt[$t],2),Jt=Yt[0];if(null===Yt[1])throw"Required SVG property ".concat(Jt," is missing.")}var er={color:e.getAttribute("stroke"),strokeWidth:e.getAttribute("stroke-width")},nr=f.E5;null!==er.color&&(nr=(0,f.Jq)(er.color));var tr=h.tA;null!==er.strokeWidth&&(tr=Number.parseFloat(er.strokeWidth));var rr={x:Number.parseFloat(Xt.x1),y:Number.parseFloat(Xt.y1)},or={x:Number.parseFloat(Xt.x2),y:Number.parseFloat(Xt.y2)};n.basePairLinesPerRnaComplex.push({v0:rr,v1:or,basePairType:s.ZP.Type.CANONICAL,color:nr,strokeWidth:tr}),n.labelLinesPerRnaComplex.push({v0:rr,v1:or,color:nr,strokeWidth:tr})}break;default:throw"Unhandled switch case."}var ar=Array.from(e.children);n.parentSvgXrnaDataType=null!==l&&void 0!==l?l:void 0;for(var ir=0,lr=ar;ir<lr.length;ir++){B(lr[ir],n,t)}if(l===m.RNA_COMPLEX){var sr,ur=n.singularRnaComplexProps,cr=n.temporaryBasePairsPerRnaComplex,dr=(0,a.Z)(cr);try{for(dr.s();!(sr=dr.n()).done;){var fr=sr.value,pr=fr.rnaMoleculeName0,hr=fr.formattedNucleotideIndex0,vr=fr.rnaMoleculeName1,mr=fr.formattedNucleotideIndex1,xr=fr.basePairType,gr=fr.color,yr=fr.strokeWidth;if(!(pr in ur.rnaMoleculeProps))throw'Missing RNA molecule with the name "'.concat(pr,'"');var br=ur.rnaMoleculeProps[pr],Nr=hr-br.firstNucleotideIndex;if(!(Nr in br.nucleotideProps))throw"Missing nucleotide with the formatted index #".concat(hr);if(!(vr in ur.rnaMoleculeProps))throw'Missing RNA molecule with the name "'.concat(vr,'"');var Ir=ur.rnaMoleculeProps[vr],Cr=mr-Ir.firstNucleotideIndex;if(!(Cr in Ir.nucleotideProps))throw"Missing nucleotide with the formatted index #".concat(mr);(0,c.P3)(ur,pr,Nr,vr,Cr,c.GN.DO_NOTHING,{basePairType:xr,strokeWidth:yr,color:gr})}}catch(Er){dr.e(Er)}finally{dr.f()}}}function z(e){var n={},t=e.split(";");t=t.filter((function(e){return!e.match(/^\s*$/)}));var o,i=(0,a.Z)(t);try{for(i.s();!(o=i.n()).done;){var l=o.value,s=(0,r.Z)(l.matchAll(/:/g)).map((function(e){return e.index}));if(1!==s.length)throw"Multiple colons found within style string.";var u=s[0],c=l.substring(0,u).trim(),d=l.substring(u+1).trim();switch(c){case"fill":n.fill=(0,f.Jq)(d);break;case"stroke":n.stroke=(0,f.Jq)(d);break;case"stroke-width":n.strokeWidth=Number.parseFloat(d);break;case"font-size":n.size=d;break;case"font-weight":n.weight=d;break;case"font-family":n.family=d}}}catch(p){i.e(p)}finally{i.f()}return n}function W(e){var n,t=e.match(/<!\[CDATA\[([\s\S]*)\]\]>/m);if(F={defaults:{}},t){var i=t[1].split("\n");i=i.filter((function(e){return!e.match(/^\s*$/)}));var s,u=(0,a.Z)(i);try{for(u.s();!(s=u.n()).done;){var f=s.value.match(/^\s*([\w-.]+)\s*\{(.*)\}\s*$/);if(f){var p=f[1],h=(0,r.Z)(p.matchAll(/\./g)).map((function(e){return e.index})),m=void 0,x=void 0;switch(h.length){case 0:m=p,x="";break;case 1:var g=h[0];m=p.substring(0,g),x=p.substring(g+1);break;default:continue}var b=z(f[2]);if(""===m)F.defaults[x]=b;else{m in F||(F[m]={});var N=F[m];if(""===x)N.default=b;else N[x]=b}}}}catch(Ke){u.e(Ke)}finally{u.f()}}var I=[],C={rnaComplexProps:I,graphicalAdjustments:{},basePairLinesPerRnaComplex:[],basePairCentersPerRnaComplex:[],rnaMoleculeCount:0,nucleotideCount:0,labelLines:{},labelContents:{},transform:(0,d.yR)(),rnaComplexPropsByName:{},temporaryBasePairsPerRnaComplexName:{},temporaryLabelData:{}},E=y.UNFORMATTED;if(/data-xrna_type/.test(e))E=y.XRNA_JS;else if(/id\s*=\s*"Letters"/.test(e)){E=y.XRNA_GT;var S={name:"RNA complex",rnaMoleculeProps:{},basePairs:{}},P=I.length;I.push(S),C.singularRnaComplexProps=S;var w=[];C.labelLinesPerRnaComplex=w,C.labelLines[P]=w;var A=[];C.labelContentsPerRnaComplex=A,C.labelContents[P]=A,C.graphicalAdjustments[P]={},C.graphicalAdjustmentsPerRnaComplex=C.graphicalAdjustments[0]}else{E=y.UNFORMATTED;var k={name:"RNA complex",rnaMoleculeProps:{},basePairs:{}};I.push(k),C.singularRnaComplexProps=k;C.graphicalAdjustments[0]={},C.labelLines[0]=[],C.labelContents[0]=[],C.graphicalAdjustmentsPerRnaComplex=C.graphicalAdjustments[0];var T={firstNucleotideIndex:1,nucleotideProps:{}},_="RNA molecule";C.currentRnaMoleculeName=_,k.rnaMoleculeProps[_]=T,C.singularRnaMoleculeProps=T,C.graphicalAdjustmentsPerRnaComplex[_]={},C.graphicalAdjustmentsPerRnaMolecule=C.graphicalAdjustmentsPerRnaComplex[_],C.labelLinesPerRnaComplex=[],C.labelContentsPerRnaComplex=[]}if([y.UNFORMATTED,y.XRNA_GT].includes(E)){var M=document.getElementById(l.Vz);M.innerHTML=e;for(var j=0,O=Array.from(M.querySelectorAll("text"));j<O.length;j++){var D=O[j],W=D.getBBox();D.setAttribute(Z,"".concat(W.width)),D.setAttribute(L,"".concat(W.height))}e=M.innerHTML,M.innerHTML=""}var U=(new DOMParser).parseFromString(e,"image/svg+xml"),G=Array.from(U.children),H=U.querySelector("svg");if(!H)throw"No svg element was found within the input file.";var K=z(H.style.cssText);F.root=K;for(var V=0,q=G;V<q.length;V++){B(q[V],C,E)}function X(){for(var e=0,n=Object.values(I);e<n.length;e++)for(var t=n[e].rnaMoleculeProps,r=0,a=Object.entries(t);r<a.length;r++){var i=(0,o.Z)(a[r],2),l=i[0],s=i[1];0===Object.values(s.nucleotideProps).length&&delete t[l]}}switch(E){case y.XRNA_JS:for(var $,Q=null!==($=C.relativeCoordinatesFlag)&&void 0!==$?$:R,Y=0,J=Object.keys(C.temporaryBasePairsPerRnaComplexName);Y<J.length;Y++){var ee=J[Y];if(!(ee in C.temporaryBasePairsPerRnaComplexName))throw'A base pair within the input file referenced RNA complex "'.concat(ee,'," which was not present within the input file.');var ne,te=C.rnaComplexPropsByName[ee],re=C.temporaryBasePairsPerRnaComplexName[ee],oe=(0,a.Z)(re);try{for(oe.s();!(ne=oe.n()).done;){var ae=ne.value,ie=ae.rnaMoleculeName0,le=ae.rnaMoleculeName1,se=ae.formattedNucleotideIndex0,ue=ae.formattedNucleotideIndex1,ce=ae.basePairType,de=ae.strokeWidth,fe=ae.color;if(!(ie in te.rnaMoleculeProps))throw'A base pair within the input file referenced RNA molecule "'.concat(ie,'," which was not present within the RNA complex.');var pe=te.rnaMoleculeProps[ie];if(!(le in te.rnaMoleculeProps))throw'A base pair within the input file referenced RNA molecule "'.concat(le,'," which was not present within the RNA complex.');var he=te.rnaMoleculeProps[le];(0,c.P3)(te,ie,se-pe.firstNucleotideIndex,le,ue-he.firstNucleotideIndex,c.GN.DO_NOTHING,{basePairType:ce,strokeWidth:de,color:fe})}}catch(Ke){oe.e(Ke)}finally{oe.f()}}for(var ve=0,me=Object.keys(C.temporaryLabelData);ve<me.length;ve++){var xe=me[ve],ge=C.temporaryLabelData[xe];if(!(xe in C.rnaComplexPropsByName))throw'RNA-complex name "'.concat(xe,'" was referenced by a label, but was not present in the input file.');for(var ye=C.rnaComplexPropsByName[xe],be=0,Ne=Object.keys(ge);be<Ne.length;be++){var Ie=Ne[be],Ce=ge[Ie];if(!(Ie in ye.rnaMoleculeProps))throw'RNA-molecule name "'.concat(Ie,'" was referenced by a label, but was not present in the input file.');for(var Ee=ye.rnaMoleculeProps[Ie],Se=0,Pe=Object.keys(Ce);Se<Pe.length;Se++){var we=Pe[Se],Ae=Number.parseInt(we),ke=Ce[Ae],Te=ke.labelLineProps,_e=ke.labelContentProps,Me=Ae-Ee.firstNucleotideIndex,Re=Ee.nucleotideProps[Me];if(void 0!==Te){if(!Q){var je,Oe=(0,a.Z)(Te.points);try{for(Oe.s();!(je=Oe.n()).done;){var Ze=je.value;Ze.x-=Re.x,Ze.y-=Re.y}}catch(Ke){Oe.e(Ke)}finally{Oe.f()}}Re.labelLineProps=Te}void 0!==_e&&(Re.labelContentProps=_e,_e.x-=Re.x,_e.y-=Re.y)}}}break;case y.XRNA_GT:X();for(var Le=0,De=Object.entries(C.labelContents);Le<De.length;Le++){var Fe,Be=(0,o.Z)(De[Le],2),ze=(Be[0],Be[1]),We=(0,a.Z)(ze);try{for(We.s();!(Fe=We.n()).done;){var Ue=Fe.value,Ge=Ue.labelContent,He=Ue.rectangle;Ge.x-=.125*He.width,Ge.y+=.25*He.height}}catch(Ke){We.e(Ke)}finally{We.f()}}(0,v.a)(I,{0:C.basePairLinesPerRnaComplex},{0:C.basePairCentersPerRnaComplex},C.graphicalAdjustments,C.labelLines,C.labelContents);break;case y.UNFORMATTED:X(),(0,v.a)(I,{0:C.basePairLinesPerRnaComplex},{0:C.basePairCentersPerRnaComplex},C.graphicalAdjustments,C.labelLines,C.labelContents);break;default:throw"Unhandled switch case."}return{complexDocumentName:null!==(n=C.complexDocumentName)&&void 0!==n?n:"Scene",rnaComplexProps:I}}},2177:function(e,n,t){"use strict";t.d(n,{Uq:function(){return me},RG:function(){return Se},aN:function(){return Ce},P7:function(){return we},qs:function(){return Ie},aU:function(){return be},qj:function(){return ye},bc:function(){return Ne},En:function(){return Ee}});var r,o,a=t(4942),i=t(9439),l=t(3433),s=t(7762),u=t(2791),c=t(4212),d=t(6048),f=t(3413),p=t(1413),h=t(5671),v=t(3144),m=t(136),x=t(516),g=t(8161),y=t(1702),b=t(6559),N=t(9766),I=t(4532),C=t(7089),E=t(3871),S=t(433),P=t(7587),w=t(184);!function(e){e.populateRegions=function(e,n,t){var r=Number.NaN,o=Number.NaN;n.sort(N.cV);for(var a=0;a<n.length;a++){var i=n[a];e.has(i)?(Number.isNaN(r)||t.push({minimumNucleotideIndexInclusive:r,maximumNucleotideIndexInclusive:o}),r=Number.NaN):(Number.isNaN(r)&&(r=i),o=i)}Number.isNaN(r)||t.push({minimumNucleotideIndexInclusive:r,maximumNucleotideIndexInclusive:o})};var n=function(e){return e.CREATE="create",e.DELETE="delete",e}({});e.Component=function(e){var t=e.regions,r=e.rnaComplexProps,a=e.setNucleotideKeysToRerender,c=(0,u.useContext)(f._.BasePair.AverageDistances),d=(0,u.useContext)(f._.Label.Content.DefaultStyles),h=(0,u.useContext)(f._.App.PushToUndoStack),v=(0,P.Fg)().theme,m=(0,u.useState)(!0),x=(0,i.Z)(m,2),g=x[0],A=x[1],k=(0,u.useState)(!0),T=(0,i.Z)(k,2),_=T[0],M=T[1],R=(0,u.useState)(!1),j=(0,i.Z)(R,2),O=j[0],Z=j[1],L=(0,u.useState)(10),D=(0,i.Z)(L,2),F=D[0],B=D[1],z=(0,u.useState)(Ee().startingNucleotideIndicesPerRegion),W=(0,i.Z)(z,2),U=W[0],G=W[1],H=(0,u.useState)(Ee().startingNucleotideOverridingIndicesForLabelsPerRegion),K=(0,i.Z)(H,2),V=K[0],q=K[1],X=(0,u.useState)(!0),$=(0,i.Z)(X,2),Q=$[0],Y=$[1],J=(0,u.useState)(!1),ee=(0,i.Z)(J,2),ne=(ee[0],ee[1],(0,u.useState)(void 0)),te=(0,i.Z)(ne,2),re=te[0],oe=te[1],ae=(0,u.useState)(-1),ie=(0,i.Z)(ae,2),le=ie[0],se=ie[1],ue=(0,u.useState)(-1),ce=(0,i.Z)(ue,2),de=ce[0],fe=ce[1],pe=(0,u.useState)(-1),he=(0,i.Z)(pe,2),ve=he[0],me=he[1],xe=(0,u.useState)(void 0),ge=(0,i.Z)(xe,2),ye=ge[0],be=ge[1];function Ne(e,n,t,r){V[e][n][t]=r,q(structuredClone(V))}function Ie(e,n){var t=e[n],r=n-1,o=r in e,a=n+1,i=a in e;if(o&&i){var l=.5*((0,b.HF)((0,b.$X)(t,e[r]))+(0,b.HF)((0,b.$X)(e[a],t)));return(0,b.VB)(l)}return o?(0,b.Fv)((0,b.$X)(t,e[r])):i?(0,b.Fv)((0,b.$X)(e[a],t)):{x:1,y:0}}function Ce(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,i={};for(var l in t){var s=Number.parseInt(l);s in i||(i[s]={});var u=i[s],c=Ae.averageDistances[s],f=Ae.rightOrthogonalizationFlagRecord[s],h=U[s],v=V[s],m=t[s],x=r[s].rnaMoleculeProps;for(var y in m){y in u||(u[y]=[]);for(var C=u[y],P=c[y],w=f[y],A=h[y],k=v[y],T=m[y],M=x[y],R=M.nucleotideProps,j=0;j<T.length;j++)for(var Z=T[j],L=(Z.minimumNucleotideIndexInclusive,Z.maximumNucleotideIndexInclusive),D=A[j],B=k[j]-D,z=void 0!==re?Math.min(re,L):L,W=D;W<=z;W+=o)if(W in R){var G=R[W];if(_||g)switch(C.push(W),e){case n.CREATE:var H=Ie(R,W),K=(w?b.dv:b.S7)(H);if(g&&(void 0===G.labelLineProps||O)&&(G.labelLineProps={points:[(0,b.wK)(K,P.labelPoint0Distance),(0,b.wK)(K,P.labelPoint1Distance)]}),_&&(void 0===G.labelContentProps||O)){var q,X=(0,b.HF)(K),$=.125*Math.cos(2*X),Q=null!==(q=d[s][y])&&void 0!==q?q:{color:structuredClone(E.E5),font:structuredClone(S.ZP.DEFAULT)};G.labelContentProps=(0,p.Z)((0,p.Z)({},(0,b.wK)(K,P.labelContentDistance*(1+$))),{},{content:"".concat(W+M.firstNucleotideIndex+B),font:structuredClone(Q.font),color:structuredClone(Q.color),strokeWidth:I.tA})}break;case n.DELETE:g&&delete G.labelLineProps,_&&delete G.labelContentProps;break;default:throw"Unhandled switch case."}}}}for(var Y=0,J=Object.values(i);Y<J.length;Y++)for(var ee=J[Y],ne=0,te=Object.values(ee);ne<te.length;ne++){te[ne].sort(N.cV)}a(i)}function Ee(){var e={},n={};for(var r in t){var o=Number.parseInt(r),a=t[o];e[o]={};var i=e[o];n[o]={};var l=n[o];for(var s in a){var u=a[s];i[s]=[];var c=i[s];l[s]=[];for(var d=l[s],f=0;f<u.length;f++){var p=u[f];c.push(p.minimumNucleotideIndexInclusive),d.push(p.minimumNucleotideIndexInclusive)}}}return{startingNucleotideIndicesPerRegion:e,startingNucleotideOverridingIndicesForLabelsPerRegion:n}}var Se=(0,u.useMemo)((function(){if(-1!==le&&-1!==de&&-1!==ve)return r[le].rnaMoleculeProps[de].firstNucleotideIndex}),[le,de,ve]),Pe=(0,u.useMemo)((function(){var e,n;if(-1!==le&&-1!==de&&-1!==ve)return null===(e=U[le])||void 0===e||null===(n=e[de])||void 0===n?void 0:n[ve]}),[le,de,ve,U]),we=(0,u.useMemo)((function(){var e,n;if(-1!==le&&-1!==de&&-1!==ve)return null===(e=V[le])||void 0===e||null===(n=e[de])||void 0===n?void 0:n[ve]}),[le,de,ve,V]),Ae=(0,u.useMemo)((function(){var e={},n={};for(var t in r){var o=Number.parseInt(t);e[o]={};var a,i=e[o],u=c[o],d=f._.BasePair.DEFAULT_DISTANCES.canonical,p=(0,s.Z)(C.ZP.types);try{for(p.s();!(a=p.n()).done;){var h=a.value,v=u.distances[h];if(v!==Number.POSITIVE_INFINITY&&!Number.isNaN(v)){d=v;break}}}catch(F){p.e(F)}finally{p.f()}n[o]={};var m=n[o],x=r[o].rnaMoleculeProps;for(var g in x){i[g]={labelPoint0Distance:.25*d,labelPoint1Distance:.75*d,labelContentDistance:d};var y=i[g],I=0,E=x[g].nucleotideProps,S=0,P=0,w={labelPoint0:0,labelPoint1:0,labelContent:0};for(var A in E){var k=Number.parseInt(A),T=E[k],_=Ie(E,k);if(void 0!==T.labelLineProps){S++;var M=T.labelLineProps.points;if(M.length>0){var R=M.map(b.VE),j=Math.min.apply(Math,(0,l.Z)(R)),O=M[0];if(w.labelPoint0+=j,I-=(0,N.Xx)((0,b.ir)(_,O)),M.length>1){var Z=Math.max.apply(Math,(0,l.Z)(R)),L=M[1];w.labelPoint1+=Z,I-=(0,N.Xx)((0,b.ir)(_,L))}}}void 0!==T.labelContentProps&&(P++,w.labelContent+=(0,b.VE)(T.labelContentProps),I-=(0,N.Xx)((0,b.ir)(_,T.labelContentProps)))}if(0!==P&&(y.labelContentDistance=w.labelContent/P),S){var D=1/S;y.labelPoint0Distance=w.labelPoint0*D,y.labelPoint1Distance=w.labelPoint1*D}m[g]=I>0}}return{averageDistances:e,rightOrthogonalizationFlagRecord:n}}),[]);(0,u.useEffect)((function(){var e=Ee(),n=e.startingNucleotideIndicesPerRegion,t=e.startingNucleotideOverridingIndicesForLabelsPerRegion;G(n),q(t)}),[t]),(0,u.useEffect)((function(){var e=Object.entries(t);if(1===e.length){var n=(0,i.Z)(e[0],2),r=n[0],o=n[1],a=Number.parseInt(r);se(a);var l=Object.keys(o);if(1===l.length){var s=l[0];fe(s);var u=o[s];1===u.length&&(me(0),be(u[0]))}}else se(-1),fe(-1),me(-1),be(void 0)}),[t]);var ke=function(e){var n=e.label,t=e.checked,r=e.onChange;return(0,w.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 0",cursor:"pointer",userSelect:"none"},children:[(0,w.jsx)("input",{type:"checkbox",checked:t,onChange:r,style:{width:"16px",height:"16px",cursor:"pointer",accentColor:v.colors.primary}}),(0,w.jsx)("span",{style:{fontSize:v.typography.fontSize.sm,color:v.colors.text,lineHeight:"1.4"},children:n})]})},Te=function(e){var n=e.title,t=e.children,r=e.defaultCollapsed,o=void 0!==r&&r,a=(0,u.useState)(o),l=(0,i.Z)(a,2),s=l[0],c=l[1];return(0,w.jsxs)("div",{style:{background:v.colors.surface,border:"1px solid ".concat(v.colors.border),borderRadius:"8px",overflow:"hidden",marginBottom:"16px"},children:[(0,w.jsxs)("div",{onClick:function(){return c(!s)},style:{padding:"16px 20px",background:v.colors.background,borderBottom:s?"none":"1px solid ".concat(v.colors.border),cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",userSelect:"none"},children:[(0,w.jsx)("h3",{style:{margin:0,fontSize:v.typography.fontSize.sm,fontWeight:"600",color:v.colors.text},children:n}),(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.lg,color:v.colors.textSecondary,transform:s?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.2s ease"},children:"\u25bc"})]}),!s&&(0,w.jsx)("div",{style:{padding:"20px"},children:t})]})};return(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"16px",background:v.colors.background,minHeight:"100%"},children:[(0,w.jsx)(Te,{title:"Region Information",children:(0,w.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.xs,fontWeight:"600",color:v.colors.textSecondary,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},children:"Selected Region"}),(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.sm,color:v.colors.text,padding:"8px 12px",background:v.colors.surface,border:"1px solid ".concat(v.colors.border),borderRadius:"4px"},children:void 0!==ye&&void 0!==Se?"Range: ".concat(ye.minimumNucleotideIndexInclusive+Se," - ").concat(ye.maximumNucleotideIndexInclusive+Se):"No region selected"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.xs,fontWeight:"600",color:v.colors.textSecondary,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},children:"Current Settings"}),(0,w.jsxs)("div",{style:{fontSize:v.typography.fontSize.sm,color:v.colors.text,padding:"8px 12px",background:v.colors.surface,border:"1px solid ".concat(v.colors.border),borderRadius:"4px"},children:["Increment: ",F," |",g?" Lines":"",_?" Text":""]})]})]})}),(0,w.jsxs)(Te,{title:"Labeling Controls",children:[(0,w.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{fontSize:v.typography.fontSize.xs,fontWeight:"600",color:v.colors.textSecondary,marginBottom:"8px",display:"block",textTransform:"uppercase",letterSpacing:"1px"},children:"Start Index"}),(0,w.jsx)(y.Z.Integer,{value:void 0!==Pe&&void 0!==Se?Pe+Se:1,setValue:function(e){if(-1!==le&&-1!==de&&-1!==ve){var n=e-(null!==Se&&void 0!==Se?Se:0);t=de,r=ve,o=n,U[le][t][r]=o,G(structuredClone(U)),Q&&Ne(le,de,ve,n)}var t,r,o},min:void 0!==ye&&void 0!==Se?ye.minimumNucleotideIndexInclusive+Se:1,max:void 0!==ye&&void 0!==Se?ye.maximumNucleotideIndexInclusive+Se:Number.MAX_SAFE_INTEGER}),(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.xs,color:v.colors.textMuted,marginTop:"6px"},children:"Where to start labeling"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{fontSize:v.typography.fontSize.xs,fontWeight:"600",color:v.colors.textSecondary,marginBottom:"8px",display:"block",textTransform:"uppercase",letterSpacing:"1px"},children:"Override Start (Optional)"}),(0,w.jsx)(y.Z.Integer,{value:void 0!==we&&void 0!==Se?we+Se:1,setValue:function(e){if(-1!==le&&-1!==de&&-1!==ve){var n=r[le].rnaMoleculeProps[de];Ne(le,de,ve,e-n.firstNucleotideIndex)}},min:1}),(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.xs,color:v.colors.textMuted,marginTop:"6px"},children:"Custom label numbering offset"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{fontSize:v.typography.fontSize.xs,fontWeight:"600",color:v.colors.textSecondary,marginBottom:"8px",display:"block",textTransform:"uppercase",letterSpacing:"1px"},children:"Increment"}),(0,w.jsx)(y.Z.Integer,{value:F,setValue:B,min:1}),(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.xs,color:v.colors.textMuted,marginTop:"6px"},children:"Label every Nth nucleotide"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{fontSize:v.typography.fontSize.xs,fontWeight:"600",color:v.colors.textSecondary,marginBottom:"8px",display:"block",textTransform:"uppercase",letterSpacing:"1px"},children:"End Index (Optional)"}),(0,w.jsx)(y.Z.Integer,{value:null!==re&&void 0!==re?re:0,setValue:function(e){return oe(0===e?void 0:e)},min:void 0!==Pe&&void 0!==Se?Pe+Se+1:1,max:void 0!==ye&&void 0!==Se?ye.maximumNucleotideIndexInclusive+Se:Number.MAX_SAFE_INTEGER,valueToString:function(e){return 0===e?"":e.toString()},stringToValue:function(e){if(""===e||"0"===e)return 0;var n=(0,I.wj)(e);if(void 0!==n){if(void 0!==Pe&&void 0!==Se&&n<=Pe+Se)return{errorMessage:"End index must be greater than start index"};if(void 0!==ye&&void 0!==Se&&n>ye.maximumNucleotideIndexInclusive+Se)return{errorMessage:"End index cannot exceed sequence length"}}return n}}),(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.xs,color:v.colors.textMuted,marginTop:"6px"},children:void 0!==Pe&&void 0!==Se&&void 0!==ye?"Leave empty to label entire region (min: ".concat(Pe+Se+1,", max: ").concat(ye.maximumNucleotideIndexInclusive+Se,")"):"Leave empty to label entire region"})]})]}),(0,w.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"24px",paddingTop:"20px",borderTop:"1px solid ".concat(v.colors.border)},children:[(0,w.jsx)("button",{onClick:function(e){h(),Ce(n.CREATE)},style:{flex:1,padding:"12px 16px",background:v.colors.primary,color:"white",border:"none",fontSize:v.typography.fontSize.sm,fontWeight:"500",cursor:"pointer",borderRadius:"6px",transition:"background-color 0.2s ease"},onMouseOver:function(e){e.currentTarget.style.background=v.colors.primaryHover||v.colors.primary},onMouseOut:function(e){e.currentTarget.style.background=v.colors.primary},children:"Create Annotations"}),(0,w.jsx)("button",{onClick:function(e){h(),Ce(n.DELETE,1)},style:{flex:1,padding:"12px 16px",background:"transparent",color:v.colors.textSecondary,border:"1px solid ".concat(v.colors.border),fontSize:v.typography.fontSize.sm,fontWeight:"500",cursor:"pointer",borderRadius:"6px",transition:"all 0.2s ease"},onMouseOver:function(e){e.currentTarget.style.background=v.colors.surface,e.currentTarget.style.borderColor=v.colors.textSecondary},onMouseOut:function(e){e.currentTarget.style.background="transparent",e.currentTarget.style.borderColor=v.colors.border},children:"Delete Selected"})]})]}),(0,w.jsxs)(Te,{title:"Advanced Selections",defaultCollapsed:!0,children:[(0,w.jsx)("div",{style:{fontSize:v.typography.fontSize.sm,color:v.colors.textMuted,marginBottom:"16px",lineHeight:"1.5"},children:"Configure which regions to label and sync settings."}),(0,w.jsx)(ke,{label:"Auto-sync Start with Override",checked:Q,onChange:function(){return Y(!Q)}}),(0,w.jsx)("div",{style:{marginTop:"20px"},children:(0,w.jsx)(o.Component,{regions:t,rnaComplexProps:r,startingNucleotideIndicesPerRegion:U,updateStartingNucleotideIndexHelper:function(e,n,t,r){U[e][n][t]=r,G(structuredClone(U))},startingNucleotideOverridingIndicesForLabelsPerRegion:V,updateStartingNucleotideOverridingIndexForLabelPerRegionHelper:function(e,n,t,r){V[e][n][t]=r,q(structuredClone(V))},copyStartingIndexToOverridingLabelIndexFlag:Q})})]}),(0,w.jsx)(Te,{title:"Labeling Options",defaultCollapsed:!0,children:(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,w.jsx)(ke,{label:"Include Label Lines",checked:g,onChange:function(){return A(!g)}}),(0,w.jsx)(ke,{label:"Include Label Text",checked:_,onChange:function(){return M(!_)}}),(0,w.jsx)(ke,{label:"Recreate Existing Labels",checked:O,onChange:function(){return Z(!O)}})]})}),(0,w.jsx)("div",{style:{marginTop:"8px"},children:(0,w.jsx)("button",{onClick:function(e){h();var n={};for(var t in r){var o=Number.parseInt(t);o in n||(n[o]={});var i=n[o],l=r[o].rnaMoleculeProps;for(var s in l){s in i||(i[s]=[]);var u=i[s],c=l[s].nucleotideProps;for(var d in c){var f=Number.parseInt(d),p=c[f];void 0===p.labelLineProps&&void 0===p.labelContentProps||(u.push(f),void 0!==p.labelLineProps&&delete p.labelLineProps,void 0!==p.labelContentProps&&delete p.labelContentProps)}}}for(var v=0,m=Object.values(n);v<m.length;v++)for(var x=m[v],g=0,y=Object.values(x);g<y.length;g++){y[g].sort(N.cV)}a(n)},style:{width:"100%",padding:"12px 16px",background:"transparent",color:v.colors.error||"#dc3545",border:"1px solid ".concat(v.colors.error||"#dc3545"),fontSize:v.typography.fontSize.sm,fontWeight:"500",cursor:"pointer",borderRadius:"6px",transition:"all 0.2s ease"},onMouseOver:function(e){e.currentTarget.style.background=v.colors.error||"#dc3545",e.currentTarget.style.color="white"},onMouseOut:function(e){e.currentTarget.style.background="transparent",e.currentTarget.style.color=v.colors.error||"#dc3545"},children:"Clear All Annotations"})})]})}}(r||(r={})),(o||(o={})).Component=function(e){var n=e.regions,t=e.rnaComplexProps,r=e.startingNucleotideIndicesPerRegion,o=(e.updateStartingNucleotideIndexHelper,e.startingNucleotideOverridingIndicesForLabelsPerRegion),a=(e.updateStartingNucleotideOverridingIndexForLabelPerRegionHelper,e.copyStartingIndexToOverridingLabelIndexFlag,(0,P.Fg)().theme),l=(0,u.useState)(-1),s=(0,i.Z)(l,2),c=s[0],d=s[1],f=(0,u.useState)(-1),p=(0,i.Z)(f,2),h=p[0],v=p[1],m=(0,u.useState)(-1),x=(0,i.Z)(m,2),g=x[0],y=x[1],b=(0,u.useState)(void 0),N=(0,i.Z)(b,2),I=N[0],C=N[1],E=(0,u.useState)(void 0),S=(0,i.Z)(E,2),A=S[0],k=S[1],T=(0,u.useState)(void 0),_=(0,i.Z)(T,2),M=(_[0],_[1]),R=(0,u.useState)(void 0),j=(0,i.Z)(R,2),O=j[0],Z=j[1],L=(0,u.useState)(void 0),D=(0,i.Z)(L,2),F=D[0],B=D[1],z=(0,u.useState)(void 0),W=(0,i.Z)(z,2),U=W[0],G=W[1],H=(0,u.useState)(void 0),K=(0,i.Z)(H,2),V=K[0],q=K[1],X=(0,u.useState)(void 0),$=(0,i.Z)(X,2),Q=$[0],Y=$[1],J=(0,u.useState)(void 0),ee=(0,i.Z)(J,2),ne=(ee[0],ee[1]);function te(e,t){if(d(e),-1!==e){var a=n[e];C(a);var l=r[e];Z(l);var s=o[e];q(s);var u=Object.entries(t);if(1===u.length){var c=(0,i.Z)(u[0],2);re(c[0],c[1],t,l,s)}}else v(-1),y(-1)}function re(e,n,t,r,o){if(v(e),-1!==e){var a=t[e];k(a);var l=r[e];B(l);var s=o[e];Y(s);var u=Object.entries(n);if(1===u.length){var c=(0,i.Z)(u[0],2),d=c[0];c[1],oe(Number.parseInt(d),a,l,s)}}else y(-1)}function oe(e,n,t,r){y(e),-1!==e&&(M(n[e]),void 0!==t&&G(t[e]),void 0!==r&&ne(r[e]))}(0,u.useMemo)((function(){if(-1!==c&&-1!==h&&-1!==g&&void 0!==U)return t[c].rnaMoleculeProps[h].firstNucleotideIndex}),[c,h,g,U]),(0,u.useEffect)((function(){var e=Object.entries(n);if(1===e.length){var t=(0,i.Z)(e[0],2),r=t[0],o=t[1];te(Number.parseInt(r),o)}else d(-1),v(-1),y(-1)}),[n,r,o]);var ae={width:"100%",padding:"8px 10px",background:a.colors.surface,border:"1px solid ".concat(a.colors.border),fontSize:a.typography.fontSize.sm,color:a.colors.text,cursor:"pointer",outline:"none"},ie={fontSize:a.typography.fontSize.xs,fontWeight:"600",color:a.colors.textSecondary,marginBottom:"6px",display:"block",textTransform:"uppercase",letterSpacing:"1px"},le={marginBottom:"20px"};return(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,w.jsxs)("div",{style:le,children:[(0,w.jsx)("label",{style:ie,children:"RNA Complex"}),(0,w.jsxs)("select",{value:c,onChange:function(e){var t=e.target.value,r=Number.parseInt(t);te(r,n[r])},style:ae,children:[(0,w.jsx)("option",{style:{display:"none"},value:-1,children:"Select an RNA complex"}),Object.keys(n).map((function(e){var n=Number.parseInt(e),r=t[n].name;return(0,w.jsx)("option",{value:n,children:r},n)}))]})]}),-1!==c&&void 0!==I&&void 0!==O&&void 0!==V&&(0,w.jsxs)("div",{style:le,children:[(0,w.jsx)("label",{style:ie,children:"RNA Molecule"}),(0,w.jsxs)("select",{value:h,onChange:function(e){var n=e.target.value;re(n,I[n],I,O,V)},style:ae,children:[(0,w.jsx)("option",{style:{display:"none"},value:-1,children:"Select an RNA molecule"}),Object.keys(n[c]).map((function(e){return(0,w.jsx)("option",{value:e,children:e},e)}))]})]}),-1!==h&&void 0!==A&&void 0!==F&&void 0!==Q&&(0,w.jsxs)("div",{style:le,children:[(0,w.jsxs)("label",{style:ie,children:["Region (",A.length," total)"]}),(0,w.jsxs)("select",{value:g,onChange:function(e){oe(Number.parseInt(e.target.value),A,F,Q)},style:ae,children:[(0,w.jsx)("option",{style:{display:"none"},value:-1,children:"Select a region"}),A.map((function(e,n){return(0,w.jsxs)("option",{value:n,children:["Region ",n+1]},n)}))]})]})]})};var A,k,T,_,M=t(4914),R=t(5910),j=t(974),O=t(649),Z=t(5088),L=t(3869),D=t(920);(A||(A={})).Component=function(e){var n,t,r,o=e.pathStyle,a=e.setPathStyle,l=(0,u.useContext)(f._.App.PushToUndoStack),s=null!==(n=o.pathColor)&&void 0!==n?n:E.E5,c=null!==(t=o.pathLineWidth)&&void 0!==t?t:I.tA,d=null!==(r=o.pathCurvature)&&void 0!==r?r:0,h=(0,u.useState)({h:0,s:0,v:100,a:1}),v=(0,i.Z)(h,2),m=v[0],x=v[1],g=(0,u.useState)(!1),y=(0,i.Z)(g,2),b=y[0],N=y[1];(0,u.useEffect)((function(){var e,n={r:s.red,g:s.green,b:s.blue,a:null!==(e=s.alpha)&&void 0!==e?e:1};x((0,Z.S7)(n)),N(!1)}),[o.pathColor]);var C=function(e){b||(l(),N(!0)),a((0,p.Z)((0,p.Z)({},o),{},{pathColor:e}))};return(0,w.jsx)(D.z.Component,{title:"Path",initialCollapsedFlag:!1,children:(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:"500"},children:"Path Color"}),(0,w.jsx)(L.Z,{hsva:m,onChange:function(e){var n=(0,p.Z)((0,p.Z)({},m),{},{v:e.v});x(n);var t=(0,Z.MA)(n),r={red:t.r,green:t.g,blue:t.b,alpha:s.alpha};C(r)},style:{width:"100%",marginBottom:"8px"}}),(0,w.jsx)(O.Z,{color:m,onChange:function(e){x((0,p.Z)((0,p.Z)({},m),e.hsva));var n={red:e.rgba.r,green:e.rgba.g,blue:e.rgba.b,alpha:s.alpha};C(n)}})]}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:"500"},children:["Line Width: ",c.toFixed(1)]}),(0,w.jsx)("input",{type:"range",min:.5,max:10,step:.5,value:c,onChange:function(e){var n=parseFloat(e.target.value);a((0,p.Z)((0,p.Z)({},o),{},{pathLineWidth:n}))},onMouseDown:function(){return l()},style:{width:"100%",height:"6px",borderRadius:"3px",outline:"none",cursor:"pointer"}}),(0,w.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666",marginTop:"4px"},children:[(0,w.jsx)("span",{children:"Thin (0.5)"}),(0,w.jsx)("span",{children:"Thick (10)"})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:"500"},children:["Curvature: ",0===d?"Straight":d<.3?"Slight":d<.7?"Moderate":"High"]}),(0,w.jsx)("input",{type:"range",min:0,max:1,step:.05,value:d,onChange:function(e){var n=parseFloat(e.target.value);a((0,p.Z)((0,p.Z)({},o),{},{pathCurvature:n}))},onMouseDown:function(){return l()},style:{width:"100%",height:"6px",borderRadius:"3px",outline:"none",cursor:"pointer"}}),(0,w.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666",marginTop:"4px"},children:[(0,w.jsx)("span",{children:"Straight"}),(0,w.jsx)("span",{children:"Curvy"})]})]})]})})},(T=k||(k={})).Component=function(e){var n=e.positions,t=e.onUpdatePositions,r=n,o=(0,u.useState)(E.E5),a=(0,i.Z)(o,2),l=a[0],c=a[1],d=(0,u.useState)(S.ZP.DEFAULT),h=(0,i.Z)(d,2),v=h[0],m=h[1],x=(0,u.useState)({pathColor:E.E5,pathLineWidth:I.tA,pathCurvature:0}),g=(0,i.Z)(x,2),y=g[0],b=g[1],N=(0,u.useState)(!1),C=(0,i.Z)(N,2),P=C[0],k=C[1],T=(0,u.useContext)(f._.App.PushToUndoStack);return(0,u.useEffect)((function(){var e,n,t,o,a;if(0!==r.length){for(var i=!0,l=r[0],s=null!==(e=l.color)&&void 0!==e?e:E.E5,u=1;u<r.length;u++){var d;if(!(0,E.wy)(s,null!==(d=r[u].color)&&void 0!==d?d:E.E5)){i=!1;break}}for(var f=!0,p=null!==(n=l.font)&&void 0!==n?n:S.ZP.DEFAULT,h=1;h<r.length;h++){var v;if(!S.ZP.areEqual(p,null!==(v=r[h].font)&&void 0!==v?v:S.ZP.DEFAULT)){f=!1;break}}for(var x=!0,g=null!==(t=l.pathColor)&&void 0!==t?t:E.E5,y=1;y<r.length;y++){var N;if(!(0,E.wy)(g,null!==(N=r[y].pathColor)&&void 0!==N?N:E.E5)){x=!1;break}}for(var C=!0,P=null!==(o=l.pathLineWidth)&&void 0!==o?o:I.tA,w=1;w<r.length;w++){var A;if(P!==(null!==(A=r[w].pathLineWidth)&&void 0!==A?A:I.tA)){C=!1;break}}for(var k=!0,T=null!==(a=l.pathCurvature)&&void 0!==a?a:0,_=1;_<r.length;_++){var M;if(T!==(null!==(M=r[_].pathCurvature)&&void 0!==M?M:0)){k=!1;break}}c(i?s:E.E5),m(f?p:S.ZP.DEFAULT),b({pathColor:x?g:E.E5,pathLineWidth:C?P:I.tA,pathCurvature:k?T:0})}}),[n]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(M.Y.Component,(0,p.Z)((0,p.Z)({},e),{},{onUpdatePositions:function(e){!P&&e&&T(),t(!1),k(!0)}})),(0,w.jsx)(R.S.Component,{color:l,setColorHelper:function(e){var n,o=(0,s.Z)(r);try{for(o.s();!(n=o.n()).done;)n.value.color=e}catch(a){o.e(a)}finally{o.f()}c(e),t(!1)}}),(0,w.jsx)(j.f.Component,(0,p.Z)((0,p.Z)({},v),{},{setFont:function(e){var n,o=(0,s.Z)(r);try{for(o.s();!(n=o.n()).done;)n.value.font=e}catch(a){o.e(a)}finally{o.f()}m(e),t(!1)}})),(0,w.jsx)(A.Component,{pathStyle:y,setPathStyle:function(e){var n,o=(0,s.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;void 0!==e.pathColor&&(a.pathColor=e.pathColor),void 0!==e.pathLineWidth&&(a.pathLineWidth=e.pathLineWidth),void 0!==e.pathCurvature&&(a.pathCurvature=e.pathCurvature)}}catch(i){o.e(i)}finally{o.f()}b(e),t(!1)}})]})},T.Simplified=function(e){var n=e.positions,t=e.onUpdatePositions,r=n,o=(0,u.useState)(E.E5),a=(0,i.Z)(o,2),l=a[0],c=a[1],d=(0,u.useState)(S.ZP.DEFAULT),h=(0,i.Z)(d,2),v=h[0],m=h[1],x=(0,u.useState)({pathColor:E.E5,pathLineWidth:I.tA,pathCurvature:0}),g=(0,i.Z)(x,2),y=g[0],b=g[1],N=(0,u.useState)(!1),C=(0,i.Z)(N,2),P=C[0],k=C[1],T=(0,u.useContext)(f._.App.PushToUndoStack);return(0,u.useEffect)((function(){var e,n,t,o,a;if(0!==r.length){for(var i=!0,l=r[0],s=null!==(e=l.color)&&void 0!==e?e:E.E5,u=1;u<r.length;u++){var d;if(!(0,E.wy)(s,null!==(d=r[u].color)&&void 0!==d?d:E.E5)){i=!1;break}}for(var f=!0,p=null!==(n=l.font)&&void 0!==n?n:S.ZP.DEFAULT,h=1;h<r.length;h++){var v;if(!S.ZP.areEqual(p,null!==(v=r[h].font)&&void 0!==v?v:S.ZP.DEFAULT)){f=!1;break}}for(var x=!0,g=null!==(t=l.pathColor)&&void 0!==t?t:E.E5,y=1;y<r.length;y++){var N;if(!(0,E.wy)(g,null!==(N=r[y].pathColor)&&void 0!==N?N:E.E5)){x=!1;break}}for(var C=!0,P=null!==(o=l.pathLineWidth)&&void 0!==o?o:I.tA,w=1;w<r.length;w++){var A;if(P!==(null!==(A=r[w].pathLineWidth)&&void 0!==A?A:I.tA)){C=!1;break}}for(var k=!0,T=null!==(a=l.pathCurvature)&&void 0!==a?a:0,_=1;_<r.length;_++){var M;if(T!==(null!==(M=r[_].pathCurvature)&&void 0!==M?M:0)){k=!1;break}}c(i?s:E.E5),m(f?p:S.ZP.DEFAULT),b({pathColor:x?g:E.E5,pathLineWidth:C?P:I.tA,pathCurvature:k?T:0})}}),[n]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(M.Y.Simplified,(0,p.Z)((0,p.Z)({},e),{},{onUpdatePositions:function(e){!P&&e&&T(),t(!1),k(!0)}})),(0,w.jsx)(R.S.Component,{color:l,setColorHelper:function(e){var n,o=(0,s.Z)(r);try{for(o.s();!(n=o.n()).done;)n.value.color=e}catch(a){o.e(a)}finally{o.f()}c(e),t(!1)}}),(0,w.jsx)(j.f.Component,(0,p.Z)((0,p.Z)({},v),{},{setFont:function(e){var n,o=(0,s.Z)(r);try{for(o.s();!(n=o.n()).done;)n.value.font=e}catch(a){o.e(a)}finally{o.f()}m(e),t(!1)}})),(0,w.jsx)(A.Component,{pathStyle:y,setPathStyle:function(e){var n,o=(0,s.Z)(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;void 0!==e.pathColor&&(a.pathColor=e.pathColor),void 0!==e.pathLineWidth&&(a.pathLineWidth=e.pathLineWidth),void 0!==e.pathCurvature&&(a.pathCurvature=e.pathCurvature)}}catch(i){o.e(i)}finally{o.f()}b(e),t(!1)}})]})},(_||(_={})).Component=function(e){var n=e.setNucleotideKeysToRerender,t=e.setBasePairKeysToRerender,r=e.rnaComplexProps,o=(0,u.useContext)(f._.App.ComplexDocumentName),a=(0,u.useContext)(f._.App.SetComplexDocumentName),l=(0,u.useContext)(f._.App.IndicesOfFrozenNucleotides),c=(0,u.useState)(o),p=(0,i.Z)(c,2),h=p[0],v=p[1],m=(0,u.useMemo)((function(){var e=new Array,o=Object.entries(r).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return{rnaComplexIndex:Number.parseInt(t),singularRnaComplexProps:r}}));o.reverse();var a,u={0:{x:-1,y:0},1:{x:1,y:0}},c={},f={},p=(0,s.Z)(o);try{for(p.s();!(a=p.n()).done;){var h=a.value,v=h.rnaComplexIndex,m=h.singularRnaComplexProps,x=Object.entries(m.rnaMoleculeProps);x.reverse();var g=m.basePairs;c[v]={};var y=c[v];f[v]=[];for(var b=f[v],N=(v in l?l[v]:{}),I=0,C=x;I<C.length;I++){var E=(0,i.Z)(C[I],2),S=E[0],P=E[1],A=g[S];y[S]=[];var T,_=y[S],M=Object.entries(P.nucleotideProps).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndex:Number.parseInt(t),singularNucleotideProps:r}})),R=S in N?N[S]:new Set,j=(0,s.Z)(M);try{for(j.s();!(T=j.n()).done;){var O=T.value,Z=O.nucleotideIndex,L=O.singularNucleotideProps;if(R.has(Z)||(_.push(Z),e.push(L)),Z in A){b.push({rnaMoleculeName:S,nucleotideIndex:Z});var D=A[Z].reduce(d.kB);u={0:L,1:m.rnaMoleculeProps[D.rnaMoleculeName].nucleotideProps[D.nucleotideIndex]}}}}catch(F){j.e(F)}finally{j.f()}}}}catch(F){p.e(F)}finally{p.f()}return(0,w.jsx)(k.Simplified,{boundingVector0:u[0],boundingVector1:u[1],positions:e,onUpdatePositions:function(){n(structuredClone(c)),t(structuredClone(f))}})}),[r]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("label",{children:["Name:\xa0",(0,w.jsx)("input",{type:"text",value:h,onChange:function(e){var n=e.target.value;v(n),a(n)}})]}),(0,w.jsx)("br",{}),m]})};var F={errorMessage:"Cannot interact with a base-paired nucleotide using this constraint."},B={errorMessage:"Cannot interact with a non-base-paired nucleotide using this constraint."},z={errorMessage:"Cannot apply this constraint to a nucleotide with multiple base pairs. Try right-clicking on a base pair instead."},W=function(){function e(n,t,r,o,a,i,l){(0,h.Z)(this,e),this.indicesOfAffectedNucleotides={},this.rnaComplexProps=void 0,this.fullKeys0=void 0,this.fullKeys1=void 0,this.setNucleotideKeysToRerender=void 0,this.setBasePairKeysToRerender=void 0,this.setDebugVisualElements=void 0,this.indicesOfFrozenNucleotides=void 0,this.rnaComplexProps=n,this.fullKeys0=i,this.fullKeys1=l,this.setNucleotideKeysToRerender=t,this.setBasePairKeysToRerender=r,this.setDebugVisualElements=o,this.indicesOfFrozenNucleotides=a}return(0,v.Z)(e,[{key:"addFullIndices",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var r=0,o=n;r<o.length;r++){var a=o[r],i=a.rnaComplexIndex,l=a.rnaMoleculeName,s=a.nucleotideIndex;i in this.indicesOfAffectedNucleotides||(this.indicesOfAffectedNucleotides[i]={});var u=this.indicesOfAffectedNucleotides[i];l in u||(u[l]=new Set),u[l].add(s)}}},{key:"addFullIndicesPerHelices",value:function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];for(var a=0,i=r;a<i.length;a++)for(var l=i[a],s=l.rnaComplexIndex,u=l.rnaMoleculeName0,c=l.rnaMoleculeName1,d=l.nucleotideIndex0,f=l.nucleotideIndex1,p=l.length,h=0;h<p;h++)this.addFullIndices({rnaComplexIndex:s,rnaMoleculeName:u,nucleotideIndex:d+h-e},{rnaComplexIndex:s,rnaMoleculeName:c,nucleotideIndex:f-h-n})}},{key:"addFullIndicesPerNucleotideKeysToRerender",value:function(e){for(var n=0,t=Object.entries(e);n<t.length;n++)for(var r=(0,i.Z)(t[n],2),o=r[0],a=r[1],l=Number.parseInt(o),u=0,c=Object.entries(a);u<c.length;u++){var d,f=(0,i.Z)(c[u],2),p=f[0],h=f[1],v=(0,s.Z)(h);try{for(v.s();!(d=v.n()).done;){var m=d.value;this.addFullIndices({rnaComplexIndex:l,rnaMoleculeName:p,nucleotideIndex:m})}}catch(x){v.e(x)}finally{v.f()}}}}]),e}();function U(e,n,t){var r=n.map((function(n){return(0,b.$X)(n,e)})),o=n.length;return{initiateDrag:function(){return e},continueDrag:function(e){for(var a=0;a<o;a++){var i=r[a],l=n[a];l.x=e.x+i.x,l.y=e.y+i.y}t()}}}var G,H=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,a,u,c,f,p,v){var m,x=f.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(m=n.call(this,e,r,o,a,c,p,v)).editMenuProps=void 0,m.initialBasePairs=void 0,m.dragListener=void 0;var g={},y={};m.editMenuProps={rnaComplexProps:m.rnaComplexProps,setNucleotideKeysToRerender:r,setBasePairKeysToRerender:o};var b=[];ye(e,x).forEach((function(n){var t=n.rnaComplexIndex,r=e[t];n.helixDataPerRnaMolecules.forEach((function(e){var n=e.rnaMoleculeName0,o=r.rnaMoleculeProps[n];b.push.apply(b,(0,l.Z)(e.helixData.map((function(e){var a=e.rnaMoleculeName1,i=r.rnaMoleculeProps[a];return{rnaComplexIndex:t,rnaMoleculeName0:n,rnaMoleculeName1:e.rnaMoleculeName1,nucleotideIndex0:e.start[0]+o.firstNucleotideIndex,nucleotideIndex1:Math.max(e.start[1],e.stop[1])+i.firstNucleotideIndex,length:Math.abs(e.start[0]-e.stop[0])+1}}))))}))})),m.initialBasePairs=b;for(var I=new Array,C=0,E=Object.entries(e);C<E.length;C++){var S=(0,i.Z)(E[C],2),P=S[0],w=S[1].rnaMoleculeProps,A=Number.parseInt(P),k=A in c?c[A]:{};g[A]={};var T=g[A];y[A]=[];for(var _=y[A],M=e[A],R=M.basePairs,j=0,O=Object.entries(w);j<O.length;j++){var Z=(0,i.Z)(O[j],2),L=Z[0],D=Z[1].nucleotideProps,F=L in k?k[L]:new Set;T[L]=[];for(var B=T[L],z=M.rnaMoleculeProps[L],W=(L in R?R[L]:{}),G=0,H=Object.keys(D);G<H.length;G++){var K=H[G],V=Number.parseInt(K);if(m.addFullIndices({rnaComplexIndex:A,rnaMoleculeName:L,nucleotideIndex:V}),!F.has(V)){B.push(V);var q=z.nucleotideProps[V];I.push(q)}if(V in W){var X,$={rnaMoleculeName:L,nucleotideIndex:V},Q=W[V],Y=(0,s.Z)(Q);try{for(Y.s();!(X=Y.n()).done;){var J=X.value;_.push((0,d.kB)($,J))}}catch(de){Y.e(de)}finally{Y.f()}}}}}for(var ee=p.rnaComplexIndex,ne=p.rnaMoleculeName,te=p.nucleotideIndex,re=e[ee].rnaMoleculeProps[ne].nucleotideProps[te],oe=0,ae=Object.values(g);oe<ae.length;oe++)for(var ie=ae[oe],le=0,se=Object.values(ie);le<se.length;le++){se[le].sort(N.cV)}for(var ue=0,ce=Object.values(y);ue<ce.length;ue++){ce[ue].sort(d.IK)}return m.dragListener=U({x:re.x,y:re.y},I,(function(){r(structuredClone(g)),o(structuredClone(y))})),m}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n;switch(e){case c.OK.EDIT:n=(0,w.jsx)(_.Component,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(e){}});break;case c.OK.ANNOTATE:var t={};for(var o in this.rnaComplexProps){var a=Number.parseInt(o),i={};a in this.indicesOfFrozenNucleotides&&(i=this.indicesOfFrozenNucleotides[a]),t[a]={};var l=t[a],s=this.rnaComplexProps[a];for(var u in s.rnaMoleculeProps){l[u]=[];var d=s.rnaMoleculeProps[u],f=l[u],h=new Set;u in i&&(h=i[u]);var v=new Array;for(var m in d.nucleotideProps){var x=Number.parseInt(m);v.push(x)}r.populateRegions(h,v,f)}}n=(0,w.jsx)(r.Component,{regions:t,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unhandled switch case."}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," entire scene:"]}),(0,w.jsx)("br",{}),n]})}}]),t}(W);(G||(G={})).Component=function(e){var n=e.rnaComplexIndex,t=e.rerender,r=e.singularRnaComplexProps,o=(0,u.useContext)(f._.App.IndicesOfFrozenNucleotides),a=n in o?o[n]:{},l=(0,u.useState)(r.name),c=(0,i.Z)(l,2),p=c[0],h=c[1],v=(0,u.useMemo)((function(){var e=r.basePairs,n={0:{x:-1,y:0},1:{x:1,y:0}},o=new Array,l=Object.entries(r.rnaMoleculeProps);l.reverse();for(var u=0,c=l;u<c.length;u++){var f=(0,i.Z)(c[u],2),p=f[0],h=f[1],v=e[p],m=Object.entries(h.nucleotideProps).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return{nucleotideIndex:Number.parseInt(t),singularNucleotideProps:r}}));m.sort((function(e,n){return n.nucleotideIndex-e.nucleotideIndex}));var x,g=p in a?a[p]:new Set,y=(0,s.Z)(m);try{for(y.s();!(x=y.n()).done;){var b=x.value,N=b.nucleotideIndex,I=b.singularNucleotideProps;if(g.has(N)||o.push(I),N in v){var C=v[N].reduce(d.kB);n={0:I,1:r.rnaMoleculeProps[C.rnaMoleculeName].nucleotideProps[C.nucleotideIndex]}}}}catch(E){y.e(E)}finally{y.f()}}return(0,w.jsx)(k.Simplified,{boundingVector0:n[0],boundingVector1:n[1],positions:o,onUpdatePositions:t})}),[a,r]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("label",{children:"Name:\xa0"}),(0,w.jsx)("input",{type:"text",value:p,onChange:function(e){var n=e.target.value;h(n),r.name=n}}),(0,w.jsx)("br",{}),v]})};var K,V=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,u,c,f,p,v){var m,x=f.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(m=n.call(this,e,r,o,i,c,p,v)).dragListener=void 0,m.editMenuProps=void 0,m.initialBasePairs=void 0;for(var g=m.fullKeys0,y=g.rnaComplexIndex,b=g.rnaMoleculeName,I=g.nucleotideIndex,C=(0,a.Z)({},y,{}),E=C[y],S=(0,a.Z)({},y,[]),P=S[y],w=new Array,A=m.rnaComplexProps[y],k=A.basePairs,T=(y in c?c[y]:{}),_=0,M=Object.keys(A.rnaMoleculeProps);_<M.length;_++){var R=M[_];E[R]=[];var j,O=E[R],Z=A.rnaMoleculeProps[R],L=k[R],D=Object.keys(Z.nucleotideProps).map(N.Lk),F=R in T?T[R]:new Set,B=(0,s.Z)(D);try{for(B.s();!(j=B.n()).done;){var z=j.value;if(m.addFullIndices({rnaComplexIndex:y,rnaMoleculeName:R,nucleotideIndex:z}),!F.has(z)){var W=Z.nucleotideProps[z];w.push(W),O.push(z)}z in L&&P.push({rnaMoleculeName:R,nucleotideIndex:z})}}catch(V){B.e(V)}finally{B.f()}}P.sort(d.IK);var G=A.rnaMoleculeProps[b].nucleotideProps[I];function H(){r(structuredClone(C)),o(structuredClone(S))}m.dragListener=U(structuredClone(G),w,H),m.editMenuProps={rnaComplexIndex:y,rerender:H,singularRnaComplexProps:A};var K=[];return be(y,A,x).helixDataPerRnaMolecules.forEach((function(e){var n=e.rnaMoleculeName0,t=A.rnaMoleculeProps[n];K.push.apply(K,(0,l.Z)(e.helixData.map((function(e){var r=e.rnaMoleculeName1,o=A.rnaMoleculeProps[r];return{rnaComplexIndex:y,rnaMoleculeName0:n,rnaMoleculeName1:r,nucleotideIndex0:e.start[0]+t.firstNucleotideIndex,nucleotideIndex1:Math.max(e.start[1],e.stop[1])+o.firstNucleotideIndex,length:Math.abs(e.start[0]-e.stop[0])+1}}))))})),m.initialBasePairs=K,m}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n,t=this.fullKeys0.rnaComplexIndex,o=this.rnaComplexProps[t],i=(0,w.jsxs)("b",{children:[e,' RNA complex "',o.name,'":']});switch(e){case c.OK.EDIT:i=(0,w.jsxs)("b",{children:[e," RNA complex:"]}),n=(0,w.jsx)(G.Component,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(e){for(var n=0;n<e.length;n++){var r=e[n];if(t!==r.rnaComplexIndex)throw"This constraint expects base pairs to be placed within the clicked-on RNA complex. The base pair(s) on line ".concat(n+1," do not.")}}});break;case c.OK.ANNOTATE:var l=(0,a.Z)({},t,{}),s=l[t];for(var u in this.rnaComplexProps){var d=Number.parseInt(u),f=this.rnaComplexProps[d],h=d in this.indicesOfFrozenNucleotides?this.indicesOfFrozenNucleotides[d]:{};for(var v in f.rnaMoleculeProps){s[v]=[];var m=s[v],x=f.rnaMoleculeProps[v],y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(var I in x.nucleotideProps){var C=Number.parseInt(I);C<y&&(y=C),C>b&&(b=C)}var E=v in h?h[v]:new Set;r.populateRegions(E,(0,N.w6)(b+1,y),m)}}n=(0,w.jsx)(r.Component,{regions:l,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unhandled switch case."}return(0,w.jsxs)(w.Fragment,{children:[i,(0,w.jsx)("br",{}),n]})}}]),t}(W),q=t(9750);function X(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,b.ir)(e.direction,n.direction);return(0,b.ir)((0,b.$X)(n.anchor,e.anchor),n.direction)/t}function $(e,n,t){var r,o,a={anchor:(0,b.wK)((0,b.IH)(n,t),.5),direction:(0,b.K)((0,b.$X)(n,t))},i={anchor:(0,b.wK)((0,b.IH)(e,t),.5),direction:(0,b.K)((0,b.$X)(e,t))},l=(r=a,o=X(a,i),(0,b.IH)(r.anchor,(0,b.wK)(r.direction,o)));return{center:l,radius:(0,b.TE)(l,e)}}function Q(e,n,t){var r=(0,b.$X)(n,t),o=(0,b.$X)(e,t);if(0===(0,N.Xx)((0,b.ir)(r,o))){var a,i=0,l=[r,o,(0,b.$X)(n,e)].map(b.Ae).reduce((function(e,n,t){return n>=e?(i=t,n):e})),s=.5*Math.sqrt(l);switch(i){case 0:a=[n,t];break;case 1:a=[e,t];break;case 2:a=[e,n];break;default:throw"This state should be impossible."}return{center:(0,b.wK)((0,b.IH)(a[0],a[1]),.5),radius:s}}return $(e,n,t)}(K||(K={})).Component=function(e){var n=e.initialRadius,t=e.minimumRadius,r=e.updatePositionsHelper,o=e.cycleGraphNucleotides,a=e.branchNucleotides,l=e.rerender,c=e.getRadius,d=(0,u.useContext)(f._.OrientationEditor.ResetDataTrigger),h=(0,u.useContext)(f._.App.Settings)[q.pE.AUTOMATICALLY_REPOSITION_ANNOTATIONS],v=(0,u.useContext)(f._.App.PushToUndoStack),m=(0,u.useState)(n),x=(0,i.Z)(m,2),g=x[0],b=x[1],N=(0,u.useState)(structuredClone(E.E5)),I=(0,i.Z)(N,2),C=I[0],P=I[1],A=(0,u.useState)(structuredClone(S.ZP.DEFAULT)),k=(0,i.Z)(A,2),T=k[0],_=k[1],M=(0,u.useState)(!1),O=(0,i.Z)(M,2),Z=O[0],L=O[1];function D(e,n){Z||v(),r(e,n),L(!0)}return(0,u.useEffect)((function(){b(c())}),[d]),(0,u.useEffect)((function(){for(var e,n=0===o.length?E.E5:null!==(e=o[0].color)&&void 0!==e?e:E.E5,t=0;t<o.length;t++){var r,a=o[t];if(!(0,E.wy)(n,null!==(r=a.color)&&void 0!==r?r:E.E5))break}}),[o]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("button",{onClick:function(){D(g,h)},children:"Normalize"}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["Radius:\xa0",(0,w.jsx)(y.Z.Number,{value:g,setValue:function(e){b(e),D(e,h)},min:t})]}),(0,w.jsx)("br",{}),(0,w.jsx)(R.S.Component,{color:C,setColorHelper:function(e){P(e);var n,t=(0,s.Z)(o);try{for(t.s();!(n=t.n()).done;)n.value.color=e}catch(u){t.e(u)}finally{t.f()}var r,i=(0,s.Z)(a);try{for(i.s();!(r=i.n()).done;)r.value.color=e}catch(u){i.e(u)}finally{i.f()}l()}}),(0,w.jsx)(j.f.Component,(0,p.Z)((0,p.Z)({},T),{},{setFont:function(e){_(e);var n,t=(0,s.Z)(o);try{for(t.s();!(n=t.n()).done;)n.value.font=e}catch(u){t.e(u)}finally{t.f()}var r,i=(0,s.Z)(a);try{for(i.s();!(r=i.n()).done;)r.value.font=e}catch(u){i.e(u)}finally{i.f()}l()}}))]})};var Y,J=.01,ee={errorMessage:"The clicked-on nucleotide is not part of an RNA cycle."},ne=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,u,c,f,v,m,x){var g,y=v.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(g=n.call(this,e,r,o,u,f,m,x)).rnaCycleBoundsText=void 0,g.editMenuProps=void 0,g.cycleIndices=void 0,g.initialDrag=void 0,g.boundingVector0=void 0,g.boundingVector1=void 0,g.updatePositionsHelper=void 0,g.minimumRadius=void 0,g.initialBasePairs=void 0;var I=e[m.rnaComplexIndex];g.initialDrag=structuredClone(I.rnaMoleculeProps[m.rnaMoleculeName].nucleotideProps[m.nucleotideIndex]);var E=I.basePairs;if(m.rnaMoleculeName in E&&m.nucleotideIndex in E[m.rnaMoleculeName]&&E[m.rnaMoleculeName][m.nucleotideIndex].some((function(e){var n;return C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(I.rnaMoleculeProps[m.rnaMoleculeName].nucleotideProps[m.nucleotideIndex].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)})))throw F;function S(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex,r=[{rnaMoleculeName:n,nucleotideIndex:t-1},{rnaMoleculeName:n,nucleotideIndex:t+1}].filter((function(e){var n=e.rnaMoleculeName;return e.nucleotideIndex in I.rnaMoleculeProps[n].nucleotideProps})),o=E[n];if(t in o){var a=o[t].filter((function(e){var r;return C.ZP.isEnabledBasePair(null!==(r=e.basePairType)&&void 0!==r?r:(0,C.iN)(I.rnaMoleculeProps[n].nucleotideProps[t].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)}));r.push.apply(r,(0,l.Z)(a))}return r}function P(e,n){var t=[e],r={};function o(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;n in r||(r[n]=new Set),r[n].add(t)}o(m),o(e);for(var a={};t.length>0;){var i=t.shift(),l=i,u=l.rnaMoleculeName,c=l.nucleotideIndex;if(u===n.rnaMoleculeName&&c===n.nucleotideIndex){for(var d=[];i.rnaMoleculeName in a&&i.nucleotideIndex in a[i.rnaMoleculeName];)d.push(i),i=a[i.rnaMoleculeName][i.nucleotideIndex];return d.push(i),d.reverse()}var f,p=(0,s.Z)(S(i));try{for(p.s();!(f=p.n()).done;){var h=f.value;h.rnaMoleculeName in r&&r[h.rnaMoleculeName].has(h.nucleotideIndex)||(o(h),h.rnaMoleculeName in a||(a[h.rnaMoleculeName]={}),a[h.rnaMoleculeName][h.nucleotideIndex]=i,t.push(h))}}catch(v){p.e(v)}finally{p.f()}}}for(var A=S(m),k=void 0,T=0;T<A.length;T++)for(var _=T+1;_<A.length;_++){var M=P(A[T],A[_]);void 0!==M&&((void 0===k||k.length>M.length)&&(k=M))}if(void 0===k)throw ee;var R=[].concat((0,l.Z)(k),[m]);g.cycleIndices=R;var j,O=R.map((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return I.rnaMoleculeProps[n].nucleotideProps[t]})),Z=(0,s.Z)(R);try{for(Z.s();!(j=Z.n()).done;){var L=j.value,D=L.rnaMoleculeName,B=L.nucleotideIndex;g.addFullIndices({rnaComplexIndex:m.rnaComplexIndex,rnaMoleculeName:D,nucleotideIndex:B})}}catch(zt){Z.e(zt)}finally{Z.f()}var z=0,W=R.reduce((function(e,n,t){return(0,d.IK)(e,n)<0?e:(z=t,n)})),U=E[W.rnaMoleculeName][W.nucleotideIndex].filter((function(e){var n;return C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(I.rnaMoleculeProps[W.rnaMoleculeName].nucleotideProps[W.nucleotideIndex].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)})).filter((function(e){return R.some((function(n){return e.rnaMoleculeName===n.rnaMoleculeName&&e.nucleotideIndex===n.nucleotideIndex}))})).reduce((function(e,n){return(0,d.IK)(e,n)>0?e:n})),G=R.findIndex((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return n===U.rnaMoleculeName&&t===U.nucleotideIndex}));if(-1===G)throw"Cannot find the minimum graph node.";var H=(z+1)%R.length===G?-1:1,K=O[z],V=O[G];g.boundingVector0=K,g.boundingVector1=V;var q=.5*(0,b.TE)(K,V)+J;if((0,N.wy)(q,0,.02))throw{errorMessage:"Cannot determine repositioning data for this cycle, because its anchoring vector positions are exactly equal."};var X,$=(0,b.wK)((0,b.IH)(K,V),.5),Y=(0,b.S7)((0,b.$X)(V,K)),ne=K.x,te=K.y,re=V.x,oe=V.y,ae=ne*ne,ie=te*te,le=re-ne;if((0,N.wy)(le,0)){var se=1/(oe-te),ue=(ne-re)*se,ce=(re*re-ae+oe*oe-ie)*se*.5,de=1+ue*ue,fe=1/(2*de),pe=4*de,he=2*(ue*(-te+ce)-ne),ve=-he,me=he*he,xe=ae+ie+ce*(ce-2*te),ge=1/Y.x;X=function(e){var n=xe-e*e,t=(ve+Math.sqrt(me-pe*n))*fe,r=Math.abs((t-$.x)*ge);return(0,b.IH)($,(0,b.wK)(Y,r))}}else{var ye=1/le,Ne=(te-oe)*ye,Ie=(re*re-ae+oe*oe-ie)*ye*.5,Ce=1+Ne*Ne,Ee=1/(2*Ce),Se=4*Ce,Pe=2*(Ne*(-ne+Ie)-te),we=-Pe,Ae=Pe*Pe,ke=ae+ie+Ie*(Ie-2*ne),Te=1/Y.y;X=function(e){var n=ke-e*e,t=(we+Math.sqrt(Ae-Se*n))*Ee,r=Math.abs((t-$.y)*Te);return(0,b.IH)($,(0,b.wK)(Y,r))}}var _e=O.map((function(e){return Q(K,V,e).radius})),Me=Math.max(q,_e.reduce((function(e,n){return e+n}),0)/_e.length);var Re,je=X(Me),Oe=(0,a.Z)({},m.rnaComplexIndex,{}),Ze=Oe[m.rnaComplexIndex],Le=(0,a.Z)({},m.rnaComplexIndex,[]),De=Le[m.rnaComplexIndex],Fe=(0,s.Z)(R);try{for(Fe.s();!(Re=Fe.n()).done;){var Be=Re.value,ze=Be.rnaMoleculeName,We=Be.nucleotideIndex;if(ze in Ze||(Ze[ze]=[]),Ze[ze].push(We),ze in E){var Ue=E[ze];if(We in Ue){var Ge,He=Ue[We],Ke=(0,s.Z)(He);try{for(Ke.s();!(Ge=Ke.n()).done;){var Ve=Ge.value;De.push((0,d.kB)(Be,Ve))}}catch(zt){Ke.e(zt)}finally{Ke.f()}}}}}catch(zt){Fe.e(zt)}finally{Fe.f()}for(var qe=new Array,Xe=0;Xe<R.length;Xe++)if(Xe!==z&&Xe!==G){var $e=R[Xe],Qe=(Xe+1)%R.length,Ye=R[Qe],Je=O[Xe],en=O[Qe],nn=(0,b.wK)((0,b.IH)(Je,en),.5),tn=(0,b.S7)((0,b.$X)(en,Je));(0,b.Ih)(tn,(0,b.$X)(nn,je))<0&&(tn=(0,b.tk)(tn));var rn=(0,b.HF)(tn);if($e.rnaMoleculeName!==Ye.rnaMoleculeName||1!==Math.abs($e.nucleotideIndex-Ye.nucleotideIndex)){var on=.5*(0,b.TE)(Je,en),an=$e.rnaMoleculeName,ln=Ye.rnaMoleculeName,sn=$e.nucleotideIndex,un=Ye.nucleotideIndex,cn=I.rnaMoleculeProps[an],dn=I.rnaMoleculeProps[ln],fn=cn.nucleotideProps,pn=dn.nucleotideProps,hn=E[an],vn=E[ln];an in Ze||(Ze[an]=[]);var mn=Ze[an];ln in Ze||(Ze[ln]=[]);for(var xn=Ze[ln],gn=new Array,yn=sn-R[(Xe-1+R.length)%R.length].nucleotideIndex,bn=un-R[(Xe+2)%R.length].nucleotideIndex,Nn=0,In=[{rnaMoleculeName:an,nucleotideIndex:sn+yn,otherRnaMoleculeName:ln,otherInitialNucleotideIndex:un,nucleotideProps:fn,nucleotideKeysToRerenderPerRnaMolecule:mn,basePairsPerRnaMolecule:hn,nucleotideIndexIncrement:yn,otherNucleotideIndexIncrement:bn},{rnaMoleculeName:ln,nucleotideIndex:un+bn,otherRnaMoleculeName:an,otherInitialNucleotideIndex:sn,nucleotideProps:pn,nucleotideKeysToRerenderPerRnaMolecule:xn,basePairsPerRnaMolecule:vn,nucleotideIndexIncrement:bn,otherNucleotideIndexIncrement:yn}];Nn<In.length;Nn++){var Cn=In[Nn],En=Cn.rnaMoleculeName,Sn=Cn.nucleotideIndex,Pn=Cn.otherRnaMoleculeName,wn=Cn.otherInitialNucleotideIndex,An=Cn.nucleotideProps,kn=Cn.nucleotideKeysToRerenderPerRnaMolecule,Tn=Cn.basePairsPerRnaMolecule,_n=Cn.nucleotideIndexIncrement;for(Cn.otherNucleotideIndexIncrement;Sn&&(En!==Pn||Sn!==wn)&&Sn in An;){g.addFullIndices({rnaComplexIndex:m.rnaComplexIndex,rnaMoleculeName:En,nucleotideIndex:Sn});var Mn=An[Sn],Rn=(0,b.Jc)((0,b.$X)(Mn,nn));Rn.angle-=rn;var jn=void 0,On=new Array;if(void 0!==Mn.labelContentProps&&(jn=(0,b.HF)(Mn.labelContentProps),On.push({position:Mn.labelContentProps,magnitude:(0,b.VE)(Mn.labelContentProps)})),void 0!==Mn.labelLineProps){var Zn=Mn.labelLineProps.points;jn=(0,b.HF)(Zn[0]),On.push.apply(On,(0,l.Z)(Zn.map((function(e){return{position:e,magnitude:(0,b.VE)(e)}}))))}if(void 0!==jn&&(jn-=rn),gn.push({singularNucleotideProps:Mn,polarWithAngleSubtracted:Rn,annotationData:void 0===jn?void 0:{subtractedAnnotationAngle:jn,positionsWithMagnitudes:On}}),kn.push(Sn),Sn in Tn){var Ln,Dn={rnaMoleculeName:En,nucleotideIndex:Sn},Fn=Tn[Sn],Bn=(0,s.Z)(Fn);try{for(Bn.s();!(Ln=Bn.n()).done;){var zn=Ln.value;De.push((0,d.kB)(Dn,zn))}}catch(zt){Bn.e(zt)}finally{Bn.f()}}Sn+=_n}}qe.push({arrayIndex:Xe,positionsToEdit:gn,originalBasePairDistanceOverTwo:on})}}for(var Wn=0,Un=Object.values(Ze);Wn<Un.length;Wn++){Un[Wn].sort(N.cV)}function Gn(){r(structuredClone(Oe)),o(structuredClone(Le))}De.sort(d.IK);for(var Hn=new Array,Kn=0,Vn=Object.entries(f);Kn<Vn.length;Kn++)for(var qn=(0,i.Z)(Vn[Kn],2),Xn=qn[0],$n=qn[1],Qn=(Number.parseInt(Xn),0),Yn=Object.entries($n);Qn<Yn.length;Qn++)for(var Jn=(0,i.Z)(Yn[Qn],2),et=Jn[0],nt=Jn[1],tt=I.rnaMoleculeProps[et],rt=0,ot=Array.from(nt);rt<ot.length;rt++){var at=ot[rt],it=tt.nucleotideProps[at];Hn.push(it)}g.updatePositionsHelper=function(e,n){for(var t=X(e),r=(0,b.$X)(K,t),o=(0,b.$X)(V,t),a=(0,b.dI)(r,o),i=(0,b.HF)(r),u=(2*Math.PI-a)/(O.length-1)*(0,N.Xx)((0,b.ir)(o,r)),c=i,d=z,f=new Array,h=0;h<O.length-2;h++){c+=u,d=(d+H+O.length)%O.length;var v=(0,b.IH)(t,(0,b.eA)({radius:e,angle:c})),m=O[d];f.push({angle:c,singularNucleotideProps:m}),Hn.includes(m)||(m.x=v.x,m.y=v.y)}if(n){var x,g=(0,s.Z)(f);try{for(g.s();!(x=g.n()).done;){var y=x.value,I=y.angle,C=y.singularNucleotideProps;if(!Hn.includes(C)){var E=(0,b.VB)(I),S=[];void 0!==C.labelContentProps&&S.push(C.labelContentProps),void 0!==C.labelLineProps&&(C.labelLineProps.points=(0,l.Z)(C.labelLineProps.points),S.push.apply(S,(0,l.Z)(C.labelLineProps.points)));for(var P=0,w=S;P<w.length;P++){var A=w[P],k=(0,b.wK)(E,(0,b.VE)(A));A.x=k.x,A.y=k.y}}}}catch(zt){g.e(zt)}finally{g.f()}}for(var T=function(){var r=M[_],o=r.arrayIndex,a=r.positionsToEdit,i=r.originalBasePairDistanceOverTwo,u=O[o],c=O[(o+1)%O.length],d=(0,b.wK)((0,b.IH)(u,c),.5),f=(0,b.HF)((0,b.$X)(d,t)),h=i/e,v=(0,b.IH)((0,b.eA)({angle:f,radius:e*Math.sqrt(1-h*h)}),t),m=(0,b.wK)((0,b.Fv)((0,b.$X)(u,d)),i),x=(0,b.IH)(v,m),g=(0,b.$X)(v,m);if(Hn.includes(u)||(u.x=x.x,u.y=x.y),Hn.includes(c)||(c.x=g.x,c.y=g.y),d=(0,b.wK)((0,b.IH)(x,g),.5),0===a.length)return"continue";var y,N=a.map((function(e){var n=e.singularNucleotideProps,t=e.polarWithAngleSubtracted,r=(0,p.Z)({},t);return r.angle+=f,{singularNucleotideProps:n,dv:(0,b.eA)(r)}})),I=(0,b.Ih)((0,b.$X)(d,t),N[0].dv)<0,C=I?b.$X:b.IH,E=(0,s.Z)(N);try{for(E.s();!(y=E.n()).done;){var S=y.value,P=S.singularNucleotideProps,w=C(d,S.dv);Hn.includes(P)||(P.x=w.x,P.y=w.y)}}catch(zt){E.e(zt)}finally{E.f()}if(n){var A,k=(0,s.Z)(a);try{for(k.s();!(A=k.n()).done;){var T=A.value,R=T.singularNucleotideProps,j=T.annotationData;if(void 0!==j){var Z=I?f-j.subtractedAnnotationAngle:f+j.subtractedAnnotationAngle;void 0!==R.labelLineProps&&(R.labelLineProps.points=(0,l.Z)(R.labelLineProps.points));var L,D=(0,b.VB)(Z),F=(0,s.Z)(j.positionsWithMagnitudes);try{for(F.s();!(L=F.n()).done;){var B=L.value,z=B.position,W=B.magnitude,U=(0,b.wK)(D,W);Hn.includes(z)||(z.x=U.x,z.y=U.y)}}catch(zt){F.e(zt)}finally{F.f()}}}}catch(zt){k.e(zt)}finally{k.f()}}},_=0,M=qe;_<M.length;_++)T();Gn()};var lt=R[z],st=lt.rnaMoleculeName,ut=I.rnaMoleculeProps[st],ct=R[G],dt=ct.rnaMoleculeName,ft=I.rnaMoleculeProps[dt];g.rnaCycleBoundsText=(0,w.jsxs)(w.Fragment,{children:["Anchored by:",(0,w.jsx)("br",{}),"Nucleotide #",lt.nucleotideIndex+ut.firstNucleotideIndex,(0,w.jsx)("br",{}),'In RNA molecule "',st,'"',(0,w.jsx)("br",{}),"And",(0,w.jsx)("br",{}),"Nucleotide #",ct.nucleotideIndex+ft.firstNucleotideIndex,(0,w.jsx)("br",{}),'In RNA molecule "',dt,'"',(0,w.jsx)("br",{}),'In RNA complex "',I.name,'"']});for(var pt=new Array,ht=0,vt=qe;ht<vt.length;ht++){var mt,xt=vt[ht].positionsToEdit,gt=(0,s.Z)(xt);try{for(gt.s();!(mt=gt.n()).done;){var yt=mt.value.singularNucleotideProps;pt.push(yt)}}catch(zt){gt.e(zt)}finally{gt.f()}}q=qe.reduce((function(e,n){var t=n.originalBasePairDistanceOverTwo;return Math.max(e,t+J)}),q),g.minimumRadius=q,g.editMenuProps={initialRadius:Me,minimumRadius:q,updatePositionsHelper:g.updatePositionsHelper,cycleGraphNucleotides:O.filter((function(e){return!Hn.includes(e)})),branchNucleotides:pt.filter((function(e){return!Hn.includes(e)})),rerender:Gn,getRadius:function(){return Math.max(Q(O[0],K,V).radius,q)}};var bt,Nt=be(m.rnaComplexIndex,I,y),It=g.indicesOfAffectedNucleotides[m.rnaComplexIndex],Ct=[],Et=(0,s.Z)(Nt.helixDataPerRnaMolecules);try{for(Et.s();!(bt=Et.n()).done;){var St,Pt=bt.value,wt=Pt.rnaMoleculeName0,At=Pt.helixData,kt=(0,s.Z)(At);try{for(kt.s();!(St=kt.n()).done;){var Tt=St.value,_t=Tt.rnaMoleculeName1,Mt=Tt.start,Rt=Tt.stop,jt={rnaComplexIndex:m.rnaComplexIndex,rnaMoleculeName0:wt,rnaMoleculeName1:_t,nucleotideIndex0:Mt[0]+I.rnaMoleculeProps[wt].firstNucleotideIndex,nucleotideIndex1:Math.max(Mt[1],Rt[1])+I.rnaMoleculeProps[_t].firstNucleotideIndex,length:Math.abs(Mt[0]-Rt[0])+1},Ot=!0;e:for(var Zt=0;Zt<jt.length;Zt++){var Lt=jt.nucleotideIndex0+Zt,Dt=jt.nucleotideIndex1-Zt;if(!(wt in It)){Ot=!1;break}if(!(_t in It)){Ot=!1;break}var Ft=It[wt],Bt=It[_t];if(!Ft.has(Lt)||!Bt.has(Dt)){Ot=!1;break e}}Ot&&Ct.push(jt)}}catch(zt){kt.e(zt)}finally{kt.f()}}}catch(zt){Et.e(zt)}finally{Et.f()}return g.initialBasePairs=Ct,g}return(0,v.Z)(t,[{key:"drag",value:function(){var e=this.initialDrag,n=this.updatePositionsHelper,t=this.boundingVector0,r=this.boundingVector1,o=this.minimumRadius;return{initiateDrag:function(){return e},continueDrag:function(e,a){n(Math.max(Q(t,r,e).radius,o),a)}}}},{key:"createRightClickMenu",value:function(e){var n,t=this.fullKeys0,o=t.rnaComplexIndex;t.rnaMoleculeName;switch(e){case c.OK.EDIT:n=(0,w.jsx)(K.Component,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(){}});break;case c.OK.ANNOTATE:var i,l=(0,a.Z)({},o,{}),u=l[o],d={rnaMoleculeName:void 0},f=o in this.indicesOfFrozenNucleotides?this.indicesOfFrozenNucleotides[o]:{},h=(0,s.Z)(this.cycleIndices);try{for(h.s();!(i=h.n()).done;){var v=i.value,m=v.rnaMoleculeName,x=v.nucleotideIndex;m in u||(u[m]=[]);var y=m in f?f[m]:new Set,b=u[m];if(!y.has(x))if(m===d.rnaMoleculeName&&b.length>0){var N=b[b.length-1];x===N.minimumNucleotideIndexInclusive-1?N.minimumNucleotideIndexInclusive=x:x===N.maximumNucleotideIndexInclusive+1?N.maximumNucleotideIndexInclusive=x:b.push({minimumNucleotideIndexInclusive:x,maximumNucleotideIndexInclusive:x})}else b.push({minimumNucleotideIndexInclusive:x,maximumNucleotideIndexInclusive:x})}}catch(I){h.e(I)}finally{h.f()}n=(0,w.jsx)(r.Component,{regions:l,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unhandled switch case"}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," RNA cycle:"]}),(0,w.jsx)("br",{}),this.rnaCycleBoundsText,(0,w.jsx)("br",{}),n]})}}]),t}(W),te=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,l,s,u,c,f){var p,v,m,x=u.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(m=n.call(this,e,r,o,i,s,c,f)).dragListener=void 0,m.partialHeader=void 0,m.editMenuProps=void 0,m.initialBasePairs=void 0;var g=m.fullKeys0,y=g.rnaComplexIndex,I=g.rnaMoleculeName,S=g.nucleotideIndex,P=I,A=m.rnaComplexProps[y],k=A.basePairs,T=A.rnaMoleculeProps[P],_=T.nucleotideProps[S];if(!C.ZP.isNucleotideBasePaired(_.symbol,A,k,I,S,x))throw B;var M,R=k[P][S];if(1===R.length)M=R[0];else{var j;if(void 0===f)throw z;if(M=R.find((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return f.rnaMoleculeName===n&&f.nucleotideIndex===t})),!C.ZP.isEnabledBasePair(null!==(j=M.basePairType)&&void 0!==j?j:(0,C.iN)(_.symbol,A.rnaMoleculeProps[M.rnaMoleculeName].nucleotideProps[M.nucleotideIndex].symbol),x))throw B}var O=M.rnaMoleculeName,Z=A.rnaMoleculeProps[O],L=Z.nucleotideProps[M.nucleotideIndex],D=new Array,F=(p={},(0,a.Z)(p,P,[]),(0,a.Z)(p,O,[]),p),W=F[P],G=F[O],H=(0,a.Z)({},y,F),K=(0,a.Z)({},y,[]),V=K[y];V.push((0,d.kB)({rnaMoleculeName:P,nucleotideIndex:S},{rnaMoleculeName:O,nucleotideIndex:M.nucleotideIndex}));var q=Ee(A,P,S,O,M.nucleotideIndex,D,x,V,(function(e){F[e.rnaMoleculeName].push(e.nucleotideIndex)})),X=q.start,$=q.stop;if(P===O){var Q=Se(X,$);0===Q?(Ce(A,P,X,D,W,x),X[0]!==$[0]&&Ce(A,P,$,D,W,x)):Ce(A,P,Q<0?X:$,D,W,x)}function Y(){r(structuredClone(H)),o(structuredClone(K))}W.sort(N.cV),G.sort(N.cV),V.sort(d.IK);var J=new Array;if(y in s){var ee=s[y];if(P in ee)for(var ne=ee[P],te=0,re=Array.from(ne);te<re.length;te++){var oe=re[te];J.push(T.nucleotideProps[oe])}if(O in ee)for(var ae=ee[O],ie=0,le=Array.from(ae);ie<le.length;ie++){var se=le[ie];J.push(Z.nucleotideProps[se])}}D=D.filter((function(e){return!J.includes(e)})),m.dragListener=U({x:_.x,y:_.y},D,Y);var ue,ce,de,fe="Nucleotides [".concat(X[0]+T.firstNucleotideIndex,", ").concat($[0]+T.firstNucleotideIndex,"]"),pe="Nucleotides [".concat(X[1]+Z.firstNucleotideIndex,", ").concat($[1]+Z.firstNucleotideIndex,"]");if(ue=P===O?(0,w.jsxs)(w.Fragment,{children:[fe,(0,w.jsx)("br",{}),"Contiguously bound to",(0,w.jsx)("br",{}),pe,(0,w.jsx)("br",{}),'In RNA molecule "',P,'"']}):(0,w.jsxs)(w.Fragment,{children:[fe,(0,w.jsx)("br",{}),'In RNA molecule "',P,'"',(0,w.jsx)("br",{}),pe,(0,w.jsx)("br",{}),'In RNA molecule "',O,'"']}),P===O){var he,ve=Math.min(X[0],X[1],$[0],$[1]);switch(ve){case X[0]:he=X[1];break;case X[1]:he=X[0];break;case $[0]:he=$[1];break;case $[1]:he=$[0];break;default:throw"This condition should be impossible."}ce=T.nucleotideProps[ve],de=T.nucleotideProps[he]}else ce=_,de=L;(0,b.wK)((0,b.IH)(ce,de),.5),(0,b.S7)((0,b.$X)(de,ce));m.partialHeader=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("br",{}),ue,(0,w.jsx)("br",{}),'In RNA complex "',A.name,'"',(0,w.jsx)("br",{})]});for(var me=D.length>0&&null!==(v=D[0].color)&&void 0!==v?v:E.E5,xe=1;xe<D.length;xe++){var ge;if(!(0,E.wy)(me,null!==(ge=D[xe].color)&&void 0!==ge?ge:E.E5)){!1;break}}m.editMenuProps={positions:D,onUpdatePositions:Y,boundingVector0:ce,boundingVector1:de};var ye={rnaComplexIndex:y,rnaMoleculeName0:P,rnaMoleculeName1:O,nucleotideIndex0:Math.min(X[0],$[0])+T.firstNucleotideIndex,nucleotideIndex1:Math.max(X[1],$[1])+Z.firstNucleotideIndex,length:$[0]-X[0]+1};return m.initialBasePairs=[ye],m.addFullIndicesPerNucleotideKeysToRerender(H),m}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n,t=this.fullKeys0,o=t.rnaComplexIndex,i=t.rnaMoleculeName,l=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," helix:"]}),this.partialHeader]});switch(e){case c.OK.EDIT:n=(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(k.Simplified,(0,p.Z)({},this.editMenuProps))});break;case c.OK.FORMAT:n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,approveBasePairs:function(e){},initialBasePairs:this.initialBasePairs,defaultRnaComplexIndex:o,defaultRnaMoleculeName0:i,defaultRnaMoleculeName1:i});break;case c.OK.ANNOTATE:var s,u=this.initialBasePairs[0],d=u.rnaMoleculeName0,f=u.rnaMoleculeName1,h=u.nucleotideIndex0,v=u.nucleotideIndex1,m=u.length,x=this.rnaComplexProps[o],y=x.rnaMoleculeProps[d],b=x.rnaMoleculeProps[f],I=h-y.firstNucleotideIndex,C=v-b.firstNucleotideIndex,E={minimumNucleotideIndexInclusive:I,maximumNucleotideIndexInclusive:I+m-1},S={minimumNucleotideIndexInclusive:C-m+1,maximumNucleotideIndexInclusive:C},P=o in this.indicesOfFrozenNucleotides?this.indicesOfFrozenNucleotides[o]:{},A=d in P?P[d]:new Set,T=f in P?P[f]:new Set,_=[],M=[];r.populateRegions(A,(0,N.w6)(E.maximumNucleotideIndexInclusive+1,E.minimumNucleotideIndexInclusive),_),r.populateRegions(T,(0,N.w6)(S.maximumNucleotideIndexInclusive+1,S.minimumNucleotideIndexInclusive),M),s=d===f?(0,a.Z)({},o,(0,a.Z)({},d,_)):(0,a.Z)({},o,{regionsPerRnaMoleculeName0:_,regionsPerRnaMoleculeName1:M}),n=(0,w.jsx)(r.Component,{regions:s,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unrecognized Tab"}return(0,w.jsxs)(w.Fragment,{children:[l,n]})}}]),t}(W);(Y||(Y={})).Component=function(e){var n=e.initialName,t=e.rnaComplexIndex,r=e.rnaMoleculeName,o=e.rnaComplexProps,l=e.setNucleotideKeysToRerender,c=e.setBasePairKeysToRerender,d=o[t],h=d.basePairs,v=(0,u.useContext)(f._.App.UpdateRnaMoleculeNameHelper),m=(0,u.useContext)(f._.App.IndicesOfFrozenNucleotides),x=t in m?m[t]:{},g=r in x?x[r]:new Set,I=(0,u.useState)(n),C=(0,i.Z)(I,2),E=C[0],S=C[1];(0,u.useEffect)((function(){S(n)}),[n]);var P=(0,u.useMemo)((function(){var e=d.rnaMoleculeProps[n],r=h[n],o=e.nucleotideProps,i=Object.keys(o).map(N.Lk),u=new Array,f=(0,a.Z)({},t,(0,a.Z)({},n,[])),p=f[t][n],v=(0,a.Z)({},t,[]),m=v[t],x=void 0;i.sort(N.yM);var y,I=!1,C=(0,s.Z)(i);try{for(C.s();!(y=C.n()).done;){var E=y.value;p.unshift(E);var S=o[E];if(g.has(E)||u.unshift(S),E in r){m.unshift({rnaMoleculeName:n,nucleotideIndex:E});var P,w=r[E],A=(0,s.Z)(w);try{for(A.s();!(P=A.n()).done;)P.value.rnaMoleculeName!==n&&(I=!0)}catch(M){A.e(M)}finally{A.f()}var k=w.reduce((function(e,n){return Math.max(e,n.nucleotideIndex)}),Number.NEGATIVE_INFINITY);x={0:S,1:o[k]}}}}catch(M){C.e(M)}finally{C.f()}if(void 0===x){var T=Object.values(o)[0];x={0:(0,b.IH)(T,{x:-1,y:0}),1:(0,b.IH)(T,{x:1,y:0})}}function _(){l(structuredClone(f)),c(structuredClone(v))}return I?{errorMessage:"Cannot re-position nucleotides of this RNA molecule, because it is base-paired to another RNA molecule.",orientationEditorProps:{boundingVector0:{x:0,y:0},boundingVector1:{x:1,y:0},positions:u,onUpdatePositions:_,disabledFlag:!0}}:{orientationEditorProps:{positions:u,onUpdatePositions:_,boundingVector0:x[0],boundingVector1:x[1]},errorMessage:void 0}}),[n]),A=P.orientationEditorProps,T=P.errorMessage;return(0,w.jsxs)(w.Fragment,{children:["Name:\xa0",(0,w.jsx)(y.Z.Component,{value:E,setValue:function(e){S(e)},valueToString:function(e){return e},stringToValue:function(e){return e in d.rnaMoleculeProps?(alert("This RNA-molecule name already represents a different molecule in this RNA complex. Change the name of the other RNA molecule first."),{errorMessage:"This RNA-molecule name already represents a different molecule in this RNA complex. Change the name of the other RNA molecule first."}):(v(t,E,e),e)},htmlInputType:"text"}),(0,w.jsx)("br",{}),T&&(0,w.jsxs)(w.Fragment,{children:[T,(0,w.jsx)("br",{})]}),(0,w.jsx)(k.Simplified,(0,p.Z)({},A))]})};var re,oe=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,l,u,c,f,p){var v,m=c.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(v=n.call(this,e,r,o,i,u,f,p)).dragListener=void 0,v.dragError=void 0,v.editMenuProps=void 0,v.initialBasePairs=void 0;var x=v.fullKeys0,g=x.rnaComplexIndex,y=x.rnaMoleculeName,b=x.nucleotideIndex,I=v.rnaComplexProps[g],C=I.rnaMoleculeProps[y],E=C.nucleotideProps[b],S=new Array,P=I.basePairs[y],w=(0,a.Z)({},g,(0,a.Z)({},y,[])),A=w[g][y],k=(0,a.Z)({},g,[]),T=k[g],_=Object.keys(C.nucleotideProps).map(N.Lk);_.sort(N.cV);var M,R=g in u?u[g]:{},j=y in R?R[y]:new Set,O=(0,s.Z)(_);try{for(O.s();!(M=O.n()).done;){var Z=M.value;if(v.addFullIndices({rnaComplexIndex:g,rnaMoleculeName:y,nucleotideIndex:Z}),j.has(Z)||(S.push(C.nucleotideProps[Z]),A.push(Z)),Z in P){var L,D=P[Z],F={rnaMoleculeName:y,nucleotideIndex:Z},B=(0,s.Z)(D);try{for(B.s();!(L=B.n()).done;){var z=L.value;T.push((0,d.kB)(F,z))}}catch(W){B.e(W)}finally{B.f()}}}}catch(W){O.e(W)}finally{O.f()}return T.sort(d.IK),v.dragListener=U(structuredClone(E),S,(function(){r(structuredClone(w)),o(structuredClone(k))})),v.editMenuProps={initialName:y,rnaComplexProps:e,rnaComplexIndex:f.rnaComplexIndex,rnaMoleculeName:y,setNucleotideKeysToRerender:r,setBasePairKeysToRerender:o},v.initialBasePairs=Ne(I,y,m).helixData.map((function(e){return{rnaComplexIndex:g,rnaMoleculeName0:y,rnaMoleculeName1:e.rnaMoleculeName1,nucleotideIndex0:e.start[0]+C.firstNucleotideIndex,nucleotideIndex1:Math.max(e.start[1],e.stop[1])+C.firstNucleotideIndex,length:Math.abs(e.start[0]-e.stop[0])+1}})),v}return(0,v.Z)(t,[{key:"drag",value:function(){if(void 0!==this.dragError)throw this.dragError;return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n,t=this.fullKeys0,o=t.rnaComplexIndex,i=t.rnaMoleculeName,s=(0,w.jsxs)("b",{children:[e,' RNA molecule "',i,'":',(0,w.jsx)("br",{})]});switch(e){case c.OK.EDIT:s=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," RNA molecule:"]}),(0,w.jsx)("br",{})]}),n=(0,w.jsx)(Y.Component,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(e){for(var n=0;n<e.length;n++){var t=e[n],r="This constraint expects base pairs to involve the clicked-on RNA molecule. The base pair on line #".concat(n+1," does not.");if(o!==t.rnaComplexIndex||i!==t.rnaMoleculeName0&&i!==t.rnaMoleculeName1)throw r}}});break;case c.OK.ANNOTATE:var u=this.rnaComplexProps[o].rnaMoleculeProps[i],d=Math.max.apply(Math,(0,l.Z)(Object.keys(u.nucleotideProps).map(N.Lk))),f=o in this.indicesOfFrozenNucleotides?this.indicesOfFrozenNucleotides[o]:{},h=i in f?f[i]:new Set,v=[];r.populateRegions(h,(0,N.w6)(d+1,0),v),n=(0,w.jsx)(r.Component,{regions:(0,a.Z)({},o,(0,a.Z)({},i,v)),rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unhandled switch case."}return(0,w.jsxs)(w.Fragment,{children:[s,n]})}}]),t}(W);!function(e){var n=function(e){return e.CLOCKWISE="clockwise",e.COUNTERCLOCKWISE="counterclockwise",e.STRAIGHT="straight",e}({});e.Orientation=n,e.Component=function(e){var t=e.updateSingleStrandPositions,r=e.updateSingleStrandColors,o=e.updateSingleStrandFonts,a=e.initialColor,l=e.initialFont,s=e.getDisplacementAlongNormal,c=e.getOrientation,d=(0,u.useContext)(f._.OrientationEditor.ResetDataTrigger),h=(0,u.useContext)(f._.App.Settings)[q.pE.AUTOMATICALLY_REPOSITION_ANNOTATIONS],v=(0,u.useContext)(f._.App.PushToUndoStack),m=(0,u.useState)(c()),x=(0,i.Z)(m,2),g=x[0],b=x[1],N=(0,u.useState)(s()),I=(0,i.Z)(N,2),C=I[0],E=I[1],S=(0,u.useState)(a),P=(0,i.Z)(S,2),A=P[0],k=P[1],T=(0,u.useState)(l),_=(0,i.Z)(T,2),M=_[0],O=_[1],Z=(0,u.useState)(!1),L=(0,i.Z)(Z,2),D=L[0],F=L[1],B=(0,u.useState)(!1),z=(0,i.Z)(B,2),W=z[0],U=z[1];(0,u.useEffect)((function(){E(s()),b(c())}),[d]);var G="orientation";function H(e){W||v(),b(e),U(!0),t(e,C,h)}return(0,u.useEffect)((function(){k(a)}),[a]),(0,u.useEffect)((function(){O(l)}),[l]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("b",{children:"Orientation:"}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["Clockwise:\xa0",(0,w.jsx)("input",{type:"radio",value:"clockwise",name:G,onChange:function(){H(n.CLOCKWISE)},checked:g===n.CLOCKWISE})]}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["Straight:\xa0",(0,w.jsx)("input",{type:"radio",value:"straight",name:G,onChange:function(){H(n.STRAIGHT)},checked:g===n.STRAIGHT})]}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["Counterclockwise:\xa0",(0,w.jsx)("input",{type:"radio",value:"counterclockwise",name:G,onChange:function(){H(n.COUNTERCLOCKWISE)},checked:g===n.COUNTERCLOCKWISE})]}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{style:{display:g===n.CLOCKWISE||g===n.COUNTERCLOCKWISE?"block":"none"},children:["Displacement along normal:\xa0",(0,w.jsx)(y.Z.Number,{value:C,setValue:function(e){!function(e){D||v(),E(e),F(!0)}(e),t(g,e,h)}})]}),(0,w.jsx)(R.S.Component,{color:A,setColorHelper:function(e){r(e),k(e)}}),(0,w.jsx)(j.f.Component,(0,p.Z)((0,p.Z)({},M),{},{setFont:function(e){O(e),o(e)}}))]})}}(re||(re={}));var ae=2*Math.PI;function ie(e,n,t,r,o){var a,i=e.angleTraversal/(t-n),u=e.beginningAngle+i,c=new Array,d=(0,s.Z)(r);try{for(d.s();!(a=d.n()).done;){var f=a.value;c.push({angle:u,singularNucleotideProps:f});var p=(0,b.IH)(e.boundingCircle.center,(0,b.eA)({angle:u,radius:e.boundingCircle.radius}));f.x=p.x,f.y=p.y,u+=i}}catch(P){d.e(P)}finally{d.f()}if(o){var h,v=(0,s.Z)(c);try{for(v.s();!(h=v.n()).done;){var m=h.value,x=m.singularNucleotideProps,g=m.angle,y=(0,b.VB)(g),N=[];void 0!==x.labelContentProps&&N.push(x.labelContentProps),void 0!==x.labelLineProps&&(x.labelLineProps.points=(0,l.Z)(x.labelLineProps.points),N.push.apply(N,(0,l.Z)(x.labelLineProps.points)));for(var I=0,C=N;I<C.length;I++){var E=C[I],S=(0,b.wK)(y,(0,b.VE)(E));E.x=S.x,E.y=S.y}}}catch(P){v.e(P)}finally{v.f()}}}function le(e,n,t,r){var o=(0,b.$X)(n,e),a=(0,b.$X)(t,e),i=(0,b.HF)(o),l=((0,b.HF)(a)-i+ae)%ae;return r(l)&&(l=function(e){return e<0?e+ae:e-ae}(l)),{beginningAngle:i,angleTraversal:l}}var se,ue=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,l,u,c,f,v){var m,x,g=c.truncateRnaSingleStrandFlag;c.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(x=n.call(this,e,r,o,i,u,f,v)).dragListener=void 0,x.partialMenuHeader=void 0,x.getDisplacementAlongNormal=void 0,x.getOrientation=void 0,x.updateSingleStrandPositions=void 0,x.updateSingleStrandColors=void 0,x.updateSingleStrandFonts=void 0,x.formattedLowerBoundingNucleotideIndex=void 0,x.formattedUpperBoundingNucleotideIndex=void 0,x.lowerBoundingNucleotideIndex=void 0,x.upperBoundingNucleotideIndex=void 0;var y=x.fullKeys0,I=y.rnaComplexIndex,C=y.rnaMoleculeName,E=y.nucleotideIndex,S=new Set;if(I in u){var P=u[I];C in P&&(S=P[C])}var A=x.rnaComplexProps[I],k=null!==(m=A.basePairs[C])&&void 0!==m?m:{};if(E in k)throw F;var T,_=A.rnaMoleculeProps[C],M=new Array,R=[],j=(0,a.Z)({},I,(0,a.Z)({},C,R)),O=[],Z=(0,a.Z)({},I,O),L=E;x.addFullIndices({rnaComplexIndex:I,rnaMoleculeName:C,nucleotideIndex:E});for(var D={x:0,y:0};;){var B=L-1;if(L=B,!(B in _.nucleotideProps)){D=structuredClone(_.nucleotideProps[B+1]),T=!1;break}var z=_.nucleotideProps[B];if(B in k||g&&S.has(E)!==S.has(B)){D=z,T=!0;break}R.unshift(B),x.addFullIndices({rnaComplexIndex:I,rnaMoleculeName:C,nucleotideIndex:B}),M.unshift(z)}var W=M.length;R.push(E),M.push(_.nucleotideProps[E]);for(var G,H=E,K={x:0,y:0};;){var V=H+1;if(H=V,!(V in _.nucleotideProps)){K=structuredClone(_.nucleotideProps[V-1]),G=!1;break}var q=_.nucleotideProps[V];if(V in k||g&&S.has(E)!==S.has(V)){K=q,G=!0;break}R.push(V),x.addFullIndices({rnaComplexIndex:I,rnaMoleculeName:C,nucleotideIndex:V}),M.push(q)}for(var X=L;X<=H;X++)if(X in k){var $,Y=k[X],J=(0,s.Z)(Y);try{for(J.s();!($=J.n()).done;){var ee=$.value;O.push((0,d.kB)({rnaMoleculeName:C,nucleotideIndex:X},ee))}}catch(de){J.e(de)}finally{J.f()}}function ne(){r(structuredClone(j)),o(structuredClone(Z))}O.sort(d.IK);var te=M[W],oe={x:te.x,y:te.y};if(S.has(E))x.dragListener={initiateDrag:function(){return{x:0,y:0}},continueDrag:function(){}},H=E-1,L=E+1;else if(T!==G){var ae;T?ae=D:(M.reverse(),W=M.length-W-1,ae=K),x.dragListener=function(e,n,t,r,o){var a=1/(t+1),i=n.length;return{initiateDrag:function(){return e},continueDrag:function(e){for(var t=(0,b.$X)(e,r),l=(0,b.wK)(t,a),s=r,u=0;u<i;u++){var c=n[u];c.x=s.x,c.y=s.y,s=(0,b.IH)(s,l),c.x=s.x,c.y=s.y}o()}}}(oe,M,W,ae,ne)}else x.dragListener=T?{initiateDrag:function(){return oe},continueDrag:function(e,n){var t=function(e,n,t,r){var o=Q(e,n,t);return(0,p.Z)((0,p.Z)({},le(o.center,n,t,r)),{},{boundingCircle:o})}(e,D,K,(function(){return function(e,n,t){return(0,N.Xx)((0,b.ir)((0,b.$X)(e,n),(0,b.$X)(t,n)))<0}(e,D,K)}));ie(t,L,H,M,n),ne()}}:U(oe,M,ne);x.partialMenuHeader=(0,w.jsxs)(w.Fragment,{children:[M.length," nucleotides in the range (",L+_.firstNucleotideIndex,", ",H+_.firstNucleotideIndex,")",(0,w.jsx)("br",{}),'In RNA molecule "',C,'"',(0,w.jsx)("br",{}),'In RNA complex "',A.name,'"',(0,w.jsx)("br",{})]});var se=(0,b.$X)(K,D),ue=(0,b.wK)((0,b.IH)(K,D),.5),ce=(0,b.Fv)((0,b.dv)(se));return x.getDisplacementAlongNormal=function(){for(var e={x:0,y:0},n=0,t=M;n<t.length;n++){var r=Q(t[n],D,K);e=(0,b.IH)(e,r.center)}var o=(0,b.uh)(e,M.length);return(0,b.Ih)((0,b.$X)(o,ue),ce)},x.getOrientation=function(){switch((0,N.Xx)((0,b.ir)((0,b.$X)(M[0],ue),se))){case 0:return re.Orientation.STRAIGHT;case-1:return re.Orientation.CLOCKWISE;case 1:return re.Orientation.COUNTERCLOCKWISE}},x.lowerBoundingNucleotideIndex=L,x.upperBoundingNucleotideIndex=H,x.updateSingleStrandPositions=function(e,n,t){function r(e){var r=(0,b.IH)(ue,(0,b.wK)(ce,n)),o=(0,b.TE)(r,D);ie((0,p.Z)((0,p.Z)({},le(r,D,K,(function(n){return n<0!==e}))),{},{boundingCircle:{center:r,radius:o}}),L,H,M,t),ne()}switch(e){case re.Orientation.CLOCKWISE:r(!0);break;case re.Orientation.COUNTERCLOCKWISE:r(!1);break;case re.Orientation.STRAIGHT:for(var o=(0,b.uh)((0,b.$X)(K,D),M.length+1),a=(0,b.IH)(D,o),i=L+1;i<H;i++){var l=_.nucleotideProps[i];l.x=a.x,l.y=a.y,a=(0,b.IH)(a,o)}ne();break;default:throw"Unrecognized orientation value."}},x.updateSingleStrandColors=function(e){for(var n=L+1;n<H;n++){_.nucleotideProps[n].color=e}ne()},x.updateSingleStrandFonts=function(e){for(var n=L+1;n<H;n++){_.nucleotideProps[n].font=e}ne()},x.formattedLowerBoundingNucleotideIndex=L+_.firstNucleotideIndex,x.formattedUpperBoundingNucleotideIndex=H+_.firstNucleotideIndex,x}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n=this.fullKeys0,t=n.rnaComplexIndex,o=n.rnaMoleculeName,i=n.nucleotideIndex,l=this.formattedLowerBoundingNucleotideIndex,s=this.formattedUpperBoundingNucleotideIndex,u=this.rnaComplexProps[t].rnaMoleculeProps[o],d=i+u.firstNucleotideIndex,f=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," single-stranded region:"]}),(0,w.jsx)("br",{}),this.partialMenuHeader]});switch(e){case c.OK.EDIT:for(var p,h,v=!0,m=!0,x=u.nucleotideProps[this.lowerBoundingNucleotideIndex+1],y=null!==(p=x.color)&&void 0!==p?p:E.E5,b=null!==(h=x.font)&&void 0!==h?h:S.ZP.DEFAULT,N=this.lowerBoundingNucleotideIndex+1;N<this.upperBoundingNucleotideIndex;N++){var I,C,P=u.nucleotideProps[N];(0,E.wy)(null!==(I=P.color)&&void 0!==I?I:E.E5,y)||(v=!1),S.ZP.areEqual(null!==(C=P.font)&&void 0!==C?C:S.ZP.DEFAULT,b)||(m=!1)}return(0,w.jsxs)(w.Fragment,{children:[f,(0,w.jsx)(re.Component,{initialColor:v?y:E.E5,initialFont:m?b:S.ZP.DEFAULT,updateSingleStrandPositions:this.updateSingleStrandPositions,updateSingleStrandColors:this.updateSingleStrandColors,updateSingleStrandFonts:this.updateSingleStrandFonts,getDisplacementAlongNormal:this.getDisplacementAlongNormal,getOrientation:this.getOrientation})]});case c.OK.FORMAT:return(0,w.jsxs)(w.Fragment,{children:[f,(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:[{rnaComplexIndex:t,rnaMoleculeName0:o,nucleotideIndex0:d}],approveBasePairs:function(e){for(var n=0;n<e.length;n++){var r=e[n],a="This constraint expects base pairs to include the clicked-on single-stranded nucleotide region. The helix on line ".concat(n+1," does not.");if(t!==r.rnaComplexIndex)throw a;var i=o===r.rnaMoleculeName0,u=o===r.rnaMoleculeName1;if(i&&u){if((s-1<r.nucleotideIndex0||l+1>=r.nucleotideIndex0+r.length)&&(s-1<=r.nucleotideIndex1-r.length||l+1>r.nucleotideIndex1))throw a}else if(i){if(s-1<r.nucleotideIndex0||l+1>=r.nucleotideIndex0+r.length)throw a}else{if(!u)throw a;if(s-1<=r.nucleotideIndex1-r.length||l+1>r.nucleotideIndex1)throw a}}},defaultRnaComplexIndex:t,defaultRnaMoleculeName0:o,defaultRnaMoleculeName1:o})]});case c.OK.ANNOTATE:return(0,w.jsxs)(w.Fragment,{children:[f,(0,w.jsx)(r.Component,{regions:(0,a.Z)({},t,(0,a.Z)({},o,[{minimumNucleotideIndexInclusive:l-u.firstNucleotideIndex+1,maximumNucleotideIndexInclusive:s-u.firstNucleotideIndex-1}])),rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender})]});default:throw{errorMessage:"Unhandled switch case."}}}}]),t}(W),ce=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,u,c,f,p,v){var m,x,g,y=f.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(g=n.call(this,e,r,o,i,c,p,v)).dragListener=void 0,g.partialHeader=void 0,g.editMenuProps=void 0,g.initialBasePairs=void 0,g.rnaMoleculeName0=void 0,g.rnaMoleculeName1=void 0;var I=e[p.rnaComplexIndex],E=I.basePairs,S=E[p.rnaMoleculeName];if(!(p.nucleotideIndex in S))throw B;var P,A=S[p.nucleotideIndex].filter((function(e){var n;return C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(I.rnaMoleculeProps[p.rnaMoleculeName].nucleotideProps[p.nucleotideIndex].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)}));if(0===A.length)throw B;if(A.length>1){if(void 0===v)throw z;P=A.find((function(e){return e.rnaMoleculeName===v.rnaMoleculeName&&e.nucleotideIndex===v.nucleotideIndex}))}else P=A[0];g.rnaMoleculeName0=p.rnaMoleculeName,g.rnaMoleculeName1=P.rnaMoleculeName;for(var k=(m={},(0,a.Z)(m,g.rnaMoleculeName0,new Set),(0,a.Z)(m,g.rnaMoleculeName1,new Set),m),T=[p,P],_=[],M=function(){var e;if(T.length>0)e=T.shift();else if(e=_.shift(),!k[e.rnaMoleculeName].has(e.nucleotideIndex-1)&&!k[e.rnaMoleculeName].has(e.nucleotideIndex+1))return"continue";var n=e,t=n.rnaMoleculeName,r=n.nucleotideIndex;if(k[t].has(r))return"continue";k[t].add(r);for(var o=function(){var e=i[a];if(!(e.nucleotideIndex in I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps))return"continue";var n=[];if(e.nucleotideIndex in I.basePairs[e.rnaMoleculeName]&&(n=I.basePairs[e.rnaMoleculeName][e.nucleotideIndex]).filter((function(n){var t;return C.ZP.isEnabledBasePair(null!==(t=n.basePairType)&&void 0!==t?t:(0,C.iN)(I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol,I.rnaMoleculeProps[n.rnaMoleculeName].nucleotideProps[n.nucleotideIndex].symbol),y)})).length>0){var t=n.filter((function(e){return e.rnaMoleculeName===g.rnaMoleculeName0||e.rnaMoleculeName===g.rnaMoleculeName1})),r=function(e){return k[e.rnaMoleculeName].has(e.nucleotideIndex-1)||k[e.rnaMoleculeName].has(e.nucleotideIndex+1)};T.push.apply(T,(0,l.Z)(t.filter(r))),_.push.apply(_,(0,l.Z)(t.filter((function(e){return!r(e)}))))}else T.push(e)},a=0,i=[{rnaMoleculeName:t,nucleotideIndex:r-1},{rnaMoleculeName:t,nucleotideIndex:r+1}];a<i.length;a++)o();r in E[t]&&_.push.apply(_,(0,l.Z)(E[t][r].filter((function(e){var n;return(e.rnaMoleculeName===g.rnaMoleculeName0||e.rnaMoleculeName===g.rnaMoleculeName1)&&C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(I.rnaMoleculeProps[t].nucleotideProps[r].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)}))))};T.length>0||_.length>0;)M();for(var R=new Array,j=(0,a.Z)({},p.rnaComplexIndex,(x={},(0,a.Z)(x,g.rnaMoleculeName0,[]),(0,a.Z)(x,g.rnaMoleculeName1,[]),x)),O=j[p.rnaComplexIndex],Z=O[g.rnaMoleculeName0],L=O[g.rnaMoleculeName1],D=(0,a.Z)({},p.rnaComplexIndex,[]),F=D[p.rnaComplexIndex],W=[],G={},H={},K=function(){var e,n,t=q[V],r=Array.from(k[t]);function o(e){var n=r[e];return n in I.basePairs[t]&&I.basePairs[t][n].some((function(e){var r;return C.ZP.isEnabledBasePair(null!==(r=e.basePairType)&&void 0!==r?r:(0,C.iN)(I.rnaMoleculeProps[t].nucleotideProps[n].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)}))}for(r.sort(N.cV);!o(0);)r.shift();for(;!o(r.length-1);)r.pop();for(var a=0;a<r.length-1;){if(o(a))a++;else r[a]!==r[a+1]-1?(r.splice(a,1),a--):a++}for(var i=r.length-1;i>0;){if(o(i))i--;else r[i]!==r[i-1]+1?(r.splice(i,1),i++):i--}(e=W).push.apply(e,(0,l.Z)(r.filter((function(e){if(!(p.rnaComplexIndex in c))return!0;var n=c[p.rnaComplexIndex];return!(t in n)||!n[t].has(e)})).map((function(e){return I.rnaMoleculeProps[t].nucleotideProps[e]})))),(n=O[t]).push.apply(n,r);for(var u=E[t],f=0,h=r;f<h.length;f++){var v=h[f];if(v in u){var m,x=u[v],g=(0,s.Z)(x);try{for(g.s();!(m=g.n()).done;){var b=m.value;F.push((0,d.kB)({rnaMoleculeName:t,nucleotideIndex:v},b))}}catch(w){g.e(w)}finally{g.f()}}}H[t]=r;var S=Math.min.apply(Math,r),P=Math.max.apply(Math,r);G[t]=[S,P]},V=0,q=[g.rnaMoleculeName0,g.rnaMoleculeName1];V<q.length;V++)K();var X=(0,d.kB)({rnaMoleculeName:g.rnaMoleculeName0,nucleotideIndex:G[g.rnaMoleculeName0][0]},{rnaMoleculeName:g.rnaMoleculeName1,nucleotideIndex:G[g.rnaMoleculeName1][0]}),$=I.rnaMoleculeProps[X.rnaMoleculeName].nucleotideProps[X.nucleotideIndex],Q=E[X.rnaMoleculeName][X.nucleotideIndex].filter((function(e){var n;return(e.rnaMoleculeName===g.rnaMoleculeName0||e.rnaMoleculeName===g.rnaMoleculeName1)&&H[e.rnaMoleculeName].includes(e.nucleotideIndex)&&C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(I.rnaMoleculeProps[X.rnaMoleculeName].nucleotideProps[X.nucleotideIndex].symbol,I.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),y)})),Y=Q.sort(d.IK)[Q.length-1],J=I.rnaMoleculeProps[Y.rnaMoleculeName].nucleotideProps[Y.nucleotideIndex],ee=(0,b.S7)((0,b.$X)(J,$));function ne(){r(structuredClone(j)),o(structuredClone(D))}g.editMenuProps={boundingVector0:$,boundingVector1:J,positions:W,onUpdatePositions:ne,initialAngle:(0,b.HF)(ee)},Z.sort(N.cV),L.sort(N.cV),F.sort(d.IK),W=W.filter((function(e){return!R.includes(e)})),g.dragListener=U(structuredClone(e[p.rnaComplexIndex].rnaMoleculeProps[p.rnaMoleculeName].nucleotideProps[p.nucleotideIndex]),W,ne);var te=I.rnaMoleculeProps[g.rnaMoleculeName0],re=I.rnaMoleculeProps[g.rnaMoleculeName1],oe=Ne(I,g.rnaMoleculeName0,y),ae=g.rnaMoleculeName0,ie=g.rnaMoleculeName1;function le(e){var n=I.basePairs[ae];if(!(e in n))throw"An unpaired nucleotide was passed to getNucleotideIndexOfBasePairedNucleotide";var t=n[e].filter((function(n){var t;return C.ZP.isEnabledBasePair(null!==(t=n.basePairType)&&void 0!==t?t:(0,C.iN)(I.rnaMoleculeProps[ae].nucleotideProps[e].symbol,I.rnaMoleculeProps[n.rnaMoleculeName].nucleotideProps[n.nucleotideIndex].symbol),y)&&n.rnaMoleculeName===ie&&H[ie].includes(n.nucleotideIndex)}));if(0===t.length)throw"An unpaired nucleotide was passed to getNucleotideIndexOfBasePairedNucleotide";return t[0].nucleotideIndex}g.initialBasePairs=oe.helixData.filter((function(e){return e.rnaMoleculeName1===g.rnaMoleculeName1&&H[g.rnaMoleculeName0].includes(e.start[0])&&H[g.rnaMoleculeName1].includes(e.start[1])&&H[g.rnaMoleculeName0].includes(e.stop[0])&&H[g.rnaMoleculeName1].includes(e.stop[1])})).map((function(e){return{rnaComplexIndex:p.rnaComplexIndex,rnaMoleculeName0:ae,rnaMoleculeName1:ie,nucleotideIndex0:e.start[0]+te.firstNucleotideIndex,nucleotideIndex1:Math.max(e.start[1],e.stop[1])+re.firstNucleotideIndex,length:Math.abs(e.start[0]-e.stop[0])+1}}));var se,ue=G[g.rnaMoleculeName0][0],ce=H[g.rnaMoleculeName0].find((function(e,n){return e!==H[g.rnaMoleculeName0][n+1]-1})),de="Nucleotides [".concat(ue+te.firstNucleotideIndex,", ").concat(ce+te.firstNucleotideIndex,"]"),fe="Nucleotides [".concat(le(ue)+re.firstNucleotideIndex,", ").concat(le(ce)+re.firstNucleotideIndex,"]");return se=g.rnaMoleculeName0===g.rnaMoleculeName1?(0,w.jsxs)(w.Fragment,{children:[de,(0,w.jsx)("br",{}),"Bound to",(0,w.jsx)("br",{}),fe,(0,w.jsx)("br",{}),'In RNA molecule "',g.rnaMoleculeName0,'"']}):(0,w.jsxs)(w.Fragment,{children:[de,(0,w.jsx)("br",{}),'In RNA molecule "',g.rnaMoleculeName0,'"',(0,w.jsx)("br",{}),fe,(0,w.jsx)("br",{}),'In RNA molecule "',g.rnaMoleculeName1,'"']}),g.partialHeader=(0,w.jsxs)(w.Fragment,{children:[se,(0,w.jsx)("br",{}),'In RNA complex "',I.name,'"',(0,w.jsx)("br",{})]}),g.addFullIndicesPerNucleotideKeysToRerender(j),g}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n=this.fullKeys0,t=n.rnaComplexIndex,o=n.rnaMoleculeName,i=this.rnaMoleculeName0,l=this.rnaMoleculeName1,u=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," stacked helices:"]}),(0,w.jsx)("br",{}),this.partialHeader]});switch(e){case c.OK.EDIT:return(0,w.jsxs)(w.Fragment,{children:[u,(0,w.jsx)(k.Simplified,(0,p.Z)({},this.editMenuProps))]});case c.OK.FORMAT:return(0,w.jsxs)(w.Fragment,{children:[u,(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(e){var n,t=(0,s.Z)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;if((i!==r.rnaMoleculeName0||l!==r.rnaMoleculeName1)&&(l!==r.rnaMoleculeName0||i!==r.rnaMoleculeName1)){throw i===l?'This constraint exclusively expects base-pairs between RNA molecule "'.concat(i,'" and RNA molecule "').concat(l,'".'):'This constraint exclusivley expects base-pairs within RNA molecule "'.concat(i,'"')}}}catch(o){t.e(o)}finally{t.f()}},defaultRnaComplexIndex:t,defaultRnaMoleculeName0:o,defaultRnaMoleculeName1:o})]});case c.OK.ANNOTATE:var d,f,h=(0,a.Z)({},t,(d={},(0,a.Z)(d,i,[]),(0,a.Z)(d,l,[]),d)),v=h[t],m=v[i],x=v[l],y=this.rnaComplexProps[t],b=y.rnaMoleculeProps[i],I=y.rnaMoleculeProps[l],C=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,A=t in this.indicesOfFrozenNucleotides?this.indicesOfFrozenNucleotides[t]:{},T=i in A?A[i]:new Set,_=l in A?A[l]:new Set,M=(0,s.Z)(this.initialBasePairs);try{for(M.s();!(f=M.n()).done;){var R=f.value,j=R.nucleotideIndex0,O=R.nucleotideIndex1,Z=R.length,L=j-b.firstNucleotideIndex,D=L+Z-1;L<C&&(C=L),D>E&&(E=D);var F=O-I.firstNucleotideIndex,B=F-Z+1;B<S&&(S=B),F>P&&(P=F)}}catch(z){M.e(z)}finally{M.f()}return i===l?(E=Math.max(E,P),C=Math.min(C,S),r.populateRegions(T,(0,N.w6)(E+1,C),m)):(r.populateRegions(T,(0,N.w6)(E+1,C),m),r.populateRegions(_,(0,N.w6)(P+1,S),x)),(0,w.jsxs)(w.Fragment,{children:[u,(0,w.jsx)(r.Component,{regions:h,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender})]});default:throw"Unhandled switch case"}}}]),t}(W),de=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,l,u,c,f,p){var v,m=c.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(v=n.call(this,e,r,o,i,u,f,p)).dragListener=void 0,v.partialMenuHeader=void 0,v.editMenuProps=void 0,v.initialBasePairs=void 0,v.minimumNucleotideIndex=void 0,v.maximumNucleotideIndex=void 0;var x=f.rnaComplexIndex,g=f.rnaMoleculeName,y=f.nucleotideIndex,I=g,E=y,S=v.rnaComplexProps[x],P=S.rnaMoleculeProps[I],A=P.nucleotideProps[y],k=S.basePairs;if(!C.ZP.isNucleotideBasePaired(A.symbol,S,k,I,E,m))throw B;var T,_=k[I],M=_[y];if(1===M.length)T=M[0];else{if(void 0===p)throw z;T=M.find((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return p.rnaMoleculeName===n&&p.nucleotideIndex===t}))}var R=T.rnaMoleculeName;if(I!==R)throw{errorMessage:"Cannot interact with a base pair between two distinct rna molecules using this constraint."};var j=T.nucleotideIndex,O=new Array,Z=(0,a.Z)({},x,(0,a.Z)({},I,[])),L=Z[x][I],D=[],F=(0,a.Z)({},x,D),W=[];var G=Ee(S,I,E,R,j,O,m,D,(function(e){W.push(e.nucleotideIndex)})),H=G.stop,K=G.start;W.sort(N.cV),v.minimumNucleotideIndex=Math.min(K[0],K[1],H[0],H[1]),v.maximumNucleotideIndex=Math.max(K[0],K[1],H[0],H[1]);for(var V=v.minimumNucleotideIndex;V<=v.maximumNucleotideIndex;V++)if(O.push(P.nucleotideProps[V]),L.push(V),V in _){var q,X={rnaMoleculeName:g,nucleotideIndex:V},$=_[V],Q=(0,s.Z)($);try{for(Q.s();!(q=Q.n()).done;){var Y=q.value;D.push((0,d.kB)(X,Y))}}catch(fe){Q.e(fe)}finally{Q.f()}}function J(){r(structuredClone(Z)),o(structuredClone(F))}L.sort(N.cV),D.sort(d.IK);var ee=new Array;if(x in u){var ne=u[x];if(I in ne)for(var te=ne[g],re=0,oe=Array.from(te);re<oe.length;re++){var ae=oe[re];ee.push(P.nucleotideProps[ae])}}O=O.filter((function(e){return!ee.includes(e)})),v.dragListener=U(structuredClone(A),O,J);var ie=W[0],le=W[W.length-1],se=P.nucleotideProps[ie],ue=P.nucleotideProps[le];v.partialMenuHeader=(0,w.jsxs)(w.Fragment,{children:["Nucleotides bound by",(0,w.jsx)("br",{}),"#",ie+P.firstNucleotideIndex," (",se.symbol,")",(0,w.jsx)("br",{}),"and",(0,w.jsx)("br",{}),"#",le+P.firstNucleotideIndex," (",ue.symbol,")",(0,w.jsx)("br",{}),'In RNA molecule "',g,'"',(0,w.jsx)("br",{}),'In RNA complex "',S.name,'"',(0,w.jsx)("br",{})]});var ce=(0,b.S7)((0,b.$X)(ue,se));v.editMenuProps={boundingVector0:se,boundingVector1:ue,positions:O,onUpdatePositions:J,initialAngle:(0,b.HF)(ce)};var de=Ie(S,g,v.minimumNucleotideIndex,v.maximumNucleotideIndex,m).helixData.map((function(e){return{rnaComplexIndex:x,rnaMoleculeName0:g,rnaMoleculeName1:g,nucleotideIndex0:e.start[0]+P.firstNucleotideIndex,nucleotideIndex1:Math.max(e.start[1],e.stop[1])+P.firstNucleotideIndex,length:Math.abs(e.start[0]-e.stop[0])+1}}));return v.addFullIndicesPerNucleotideKeysToRerender(Z),v.initialBasePairs=de,v}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n,t=this.fullKeys0,o=t.rnaComplexIndex,i=t.rnaMoleculeName,l=this.rnaComplexProps[o].rnaMoleculeProps[i],s=this.minimumNucleotideIndex+l.firstNucleotideIndex,u=this.maximumNucleotideIndex+l.firstNucleotideIndex;switch(e){case c.OK.EDIT:n=(0,w.jsx)(k.Simplified,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,approveBasePairs:function(e){for(var n=0;n<e.length;n++){var t="This constraint expects base-pairs to exist strictly within the clicked-on subdomain.",r=e[n];if(r.rnaComplexIndex!==o)throw t;if(r.rnaMoleculeName0!==i||r.rnaMoleculeName1!==i)throw t;for(var a=0,l=[r.nucleotideIndex0,r.nucleotideIndex0+r.length-1,r.nucleotideIndex1,r.nucleotideIndex1-r.length+1];a<l.length;a++){var c=l[a];if(c<s||c>u)throw t}}},initialBasePairs:this.initialBasePairs,defaultRnaComplexIndex:o,defaultRnaMoleculeName0:i,defaultRnaMoleculeName1:i});break;case c.OK.ANNOTATE:var d=o in this.indicesOfFrozenNucleotides?this.indicesOfFrozenNucleotides[o]:{},f=i in d?d[i]:new Set,h=[];r.populateRegions(f,(0,N.w6)(this.maximumNucleotideIndex+1,this.minimumNucleotideIndex),h),n=(0,w.jsx)(r.Component,{regions:(0,a.Z)({},o,(0,a.Z)({},i,h)),rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unhandled switch case"}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," RNA subdomain:"]}),(0,w.jsx)("br",{}),this.partialMenuHeader,n]})}}]),t}(W);(se||(se={})).Component=function(e){var n=e.initialColor,t=e.initialFont,r=e.onUpdatePositions,o=e.boundingNucleotides,a=e.allNucleotides,l=(0,u.useContext)(f._.App.InteractionConstraintOptions).affectHairpinNucleotidesFlag,s=(0,u.useState)(null!==n&&void 0!==n?n:E.E5),c=(0,i.Z)(s,2),d=(c[0],c[1]),p=(0,u.useState)(null!==t&&void 0!==t?t:S.ZP.DEFAULT),h=(0,i.Z)(p,2),v=h[0],m=h[1];return(0,u.useMemo)((function(){return l?a:o}),[l]),(0,u.useEffect)((function(){d(n)}),[n]),(0,u.useEffect)((function(){m(v)}),[t]),(0,w.jsxs)(w.Fragment,{children:["Base-pair type: ",e.basePairType.toLocaleLowerCase(),(0,w.jsx)("br",{}),(0,w.jsx)(k.Simplified,{positions:a,onUpdatePositions:r,boundingVector0:o[0],boundingVector1:o[1]})]})};var fe=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,l,u,c,f,v,m){var x,g,y,N,I,P,A=f.affectHairpinNucleotidesFlag,k=f.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(P=n.call(this,e,r,o,l,c,v,m)).dragListener=void 0,P.editMenuProps=void 0,P.partialHeader=void 0,P.initialBasePairs=void 0,P.basePairedKeys=void 0,P.nucleotideIndices=void 0,P.frozenFlag0=!1,P.frozenFlag1=!1,P.hairpinLoopFlag=!1,P.indicesOfFrozenNucleotidesPerRnaComplexPerRnaMolecule0=void 0;var T=P.fullKeys0,_=T.rnaComplexIndex,M=T.rnaMoleculeName,R=T.nucleotideIndex,j={},O=(0,a.Z)({},_,[]),Z=P.rnaComplexProps[_],L=Z.basePairs;if(!C.ZP.isNucleotideBasePaired(Z.rnaMoleculeProps[M].nucleotideProps[R].symbol,Z,L,M,R,k))throw B;var D,F={rnaMoleculeName:M,nucleotideIndex:R},W=L[M][R];if(1===W.length)D=W[0];else{var G;if(void 0===m)throw z;if(D=W.find((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return m.rnaMoleculeName===n&&m.nucleotideIndex===t})),!C.ZP.isEnabledBasePair(null!==(G=D.basePairType)&&void 0!==G?G:(0,C.iN)(Z.rnaMoleculeProps[M].nucleotideProps[R].symbol,Z.rnaMoleculeProps[D.rnaMoleculeName].nucleotideProps[D.nucleotideIndex].symbol),k))throw B}for(var H=Z.rnaMoleculeProps[M],K=H.nucleotideProps[R],V=Z.rnaMoleculeProps[D.rnaMoleculeName],q=V.nucleotideProps[D.nucleotideIndex],X=L[D.rnaMoleculeName][D.nucleotideIndex],$=O[_],Q=0,Y=[{keys0:F,basePairsPerNucleotide:W},{keys0:D,basePairsPerNucleotide:X}];Q<Y.length;Q++){var J,ee=Y[Q],ne=ee.keys0,te=ee.basePairsPerNucleotide,re=(0,s.Z)(te);try{for(re.s();!(J=re.n()).done;){var oe=J.value,ae=(0,d.kB)(ne,oe);$.push(ae)}}catch(Fe){re.e(Fe)}finally{re.f()}}$.sort(d.IK);var ie=[F,D].sort(d.IK),le=(0,i.Z)(ie,2),se=le[0],ue=le[1],ce={x:K.x,y:K.y},de=R,fe=D.nucleotideIndex,pe=M,he=D.rnaMoleculeName;if(P.indicesOfFrozenNucleotidesPerRnaComplexPerRnaMolecule0=new Set,_ in c){var ve=c[_];if(pe in ve&&(P.indicesOfFrozenNucleotidesPerRnaComplexPerRnaMolecule0=ve[pe],P.frozenFlag0=P.indicesOfFrozenNucleotidesPerRnaComplexPerRnaMolecule0.has(de)),he in ve){var me=ve[he];P.frozenFlag1=me.has(fe)}}var xe=[];P.frozenFlag0||xe.push(K),P.frozenFlag1||xe.push(q),P.nucleotideIndices={rnaMoleculeName0:pe,nucleotideIndex0:de,rnaMoleculeName1:he,nucleotideIndex1:fe};var ge=L[pe];if(pe===he){var ye,be=[];j[_]=(0,a.Z)({},M,be),be.push(se.nucleotideIndex),P.hairpinLoopFlag=!0;for(var Ne=[],Ie=se.nucleotideIndex+1;Ie<ue.nucleotideIndex;Ie++){if(Ie in ge){P.hairpinLoopFlag=!1;break}Ne.push({index:Ie,props:H.nucleotideProps[Ie]})}if((ye=P).hairpinLoopFlag&&(ye.hairpinLoopFlag=A),P.hairpinLoopFlag){var Ce,Ee=(0,s.Z)(Ne);try{for(Ee.s();!(Ce=Ee.n()).done;){var Se=Ce.value,Pe=Se.index,we=Se.props;P.addFullIndices({rnaComplexIndex:_,rnaMoleculeName:M,nucleotideIndex:Pe}),P.indicesOfFrozenNucleotidesPerRnaComplexPerRnaMolecule0.has(Pe)||(be.push(Pe),xe.push(we))}}catch(Fe){Ee.e(Fe)}finally{Ee.f()}}be.push(ue.nucleotideIndex)}function Ae(){r(structuredClone(j)),o(structuredClone(O))}var ke,Te,_e,Me,Re=[K,q];(P.dragListener=U(ce,A?xe:[K,q],Ae),P.partialHeader=(0,w.jsxs)(w.Fragment,{children:["Nucleotide #",R+V.firstNucleotideIndex," (",K.symbol,")",(0,w.jsx)("br",{}),'In RNA molecule "',M,'"',(0,w.jsx)("br",{}),"Base-paired to:",(0,w.jsx)("br",{}),"Nucleotide #",D.nucleotideIndex+V.firstNucleotideIndex," (",q.symbol,")",(0,w.jsx)("br",{}),'In RNA molecule "',D.rnaMoleculeName,'"',(0,w.jsx)("br",{}),'In RNA complex "',Z.name,'"',(0,w.jsx)("br",{})]}),pe===he)?(de<fe?(_e=de,Me=fe):(_e=fe,Me=de),ke=H.nucleotideProps[_e],Te=H.nucleotideProps[Me]):(ke=K,Te=q);var je=null!==(x=D.basePairType)&&void 0!==x?x:(0,C.iN)(K.symbol,q.symbol),Oe=null!==(g=K.color)&&void 0!==g?g:E.E5,Ze=null!==(y=q.color)&&void 0!==y?y:E.E5,Le=null!==(N=K.font)&&void 0!==N?N:S.ZP.DEFAULT,De=null!==(I=q.font)&&void 0!==I?I:S.ZP.DEFAULT;return P.editMenuProps={boundingVector0:ke,boundingVector1:Te,positions:xe,onUpdatePositions:Ae,orthogonalizeHelper:b.S7,basePairType:je,initialColor:(0,E.wy)(Oe,Ze)?Oe:E.E5,initialFont:S.ZP.areEqual(Le,De)?Le:S.ZP.DEFAULT,boundingNucleotides:Re,allNucleotides:xe},P.initialBasePairs=[{rnaComplexIndex:_,rnaMoleculeName0:pe,rnaMoleculeName1:he,nucleotideIndex0:de+Z.rnaMoleculeProps[pe].firstNucleotideIndex,nucleotideIndex1:fe+Z.rnaMoleculeProps[he].firstNucleotideIndex,length:1,type:je}],P.basePairedKeys={rnaMoleculeName:he,nucleotideIndex:fe},P.addFullIndices(v,(0,p.Z)({rnaComplexIndex:_},D)),P}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n=this.fullKeys0,t=n.rnaComplexIndex,o=n.rnaMoleculeName,i=(this.fullKeys0,this.basePairedKeys,this.nucleotideIndices),l=(0,w.jsx)(w.Fragment,{});switch(e){case c.OK.EDIT:l=(0,w.jsx)(se.Component,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:l=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(e){if(e.length>1)throw"This constraint expects at most one base pair.";if(1===e.length&&e[0].length>1)throw"This constraint expects at most one base pair."},defaultRnaComplexIndex:t,defaultRnaMoleculeName0:o,defaultRnaMoleculeName1:o});break;case c.OK.ANNOTATE:var s,u={minimumNucleotideIndexInclusive:i.nucleotideIndex0,maximumNucleotideIndexInclusive:i.nucleotideIndex0},d={minimumNucleotideIndexInclusive:i.nucleotideIndex1,maximumNucleotideIndexInclusive:i.nucleotideIndex1};if(i.rnaMoleculeName0===i.rnaMoleculeName1){var f=[],h=Math.min(i.nucleotideIndex0,i.nucleotideIndex1),v=Math.max(i.nucleotideIndex0,i.nucleotideIndex1);this.hairpinLoopFlag?r.populateRegions(this.indicesOfFrozenNucleotidesPerRnaComplexPerRnaMolecule0,(0,N.w6)(v+1,h),f):(this.frozenFlag0||f.push(u),this.frozenFlag1||f.push(d)),s=(0,a.Z)({},t,(0,a.Z)({},i.rnaMoleculeName0,f))}else{var m={};this.frozenFlag0||(m[i.rnaMoleculeName0]=[u]),this.frozenFlag1||(m[i.rnaMoleculeName1]=[d]),s=(0,a.Z)({},t,m)}l=(0,w.jsx)(r.Component,{regions:s,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender})}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," single base pair:"]}),(0,w.jsx)("br",{}),this.partialHeader,l]})}}]),t}(W),pe=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,a,i,u,c,d,f){var p,v,m=c.treatNoncanonicalBasePairsAsUnpairedFlag;(0,h.Z)(this,t),(v=n.call(this,e,r,o,a,u,d,f)).dragListener=void 0,v.editMenuProps=void 0,v.color=void 0,v.initialBasePairs=void 0,v.approveBasePair=void 0,v.fullKeysOfNucleotidesWithColor=void 0;var x=v.fullKeys0,g=x.rnaComplexIndex,y=x.rnaMoleculeName,b=x.nucleotideIndex,I=new Array,C={},S={},P=v.rnaComplexProps[g].rnaMoleculeProps[y].nucleotideProps[b],w=null!==(p=P.color)&&void 0!==p?p:E.E5;v.color=w,v.fullKeysOfNucleotidesWithColor=[];var A,k=Object.keys(v.rnaComplexProps).map(N.Lk),T=(0,s.Z)(k);try{for(T.s();!(A=T.n()).done;){var _=A.value,M=v.rnaComplexProps[_];C[_]={};var R=C[_];S[_]=[];for(var j=S[_],O=M.basePairs,Z=Object.keys(M.rnaMoleculeProps),L=0,D=Z;L<D.length;L++){var F=D[L],B=M.rnaMoleculeProps[F];R[F]=[];var z,W=R[F],G=O[F],H=Object.keys(B.nucleotideProps).map(N.Lk),K=(0,s.Z)(H);try{for(K.s();!(z=K.n()).done;){var V,q=z.value,X=B.nucleotideProps[q],$=null!==(V=X.color)&&void 0!==V?V:E.E5;if((0,E.wy)(w,$)){var Q=!1;if(_ in u){var Y=u[_];if(F in Y)Y[F].has(q)&&(Q=!0)}v.fullKeysOfNucleotidesWithColor.push({rnaComplexIndex:_,rnaMoleculeName:F,nucleotideIndex:q}),W.push(q),Q||(I.push(X),q in G&&j.push({rnaMoleculeName:F,nucleotideIndex:q}))}}}catch(te){K.e(te)}finally{K.f()}}}}catch(te){T.e(te)}finally{T.f()}function J(){r(structuredClone(C)),o(structuredClone(S))}v.dragListener=U(structuredClone(P),I,J),v.editMenuProps={initialCenter:P,normal:{x:1,y:0},positions:I,onUpdatePositions:J};var ee=[];function ne(n){for(var t=e[n.rnaComplexIndex],r=t.rnaMoleculeProps[n.rnaMoleculeName0],o=t.rnaMoleculeProps[n.rnaMoleculeName1],a=n.nucleotideIndex0-r.firstNucleotideIndex,i=n.nucleotideIndex1-o.firstNucleotideIndex,l=0;l<n.length;l++){var s,u,c=r.nucleotideProps[a+l],d=o.nucleotideProps[i-l];if(!(0,E.wy)(w,null!==(s=c.color)&&void 0!==s?s:E.E5))return!1;if(!(0,E.wy)(w,null!==(u=d.color)&&void 0!==u?u:E.E5))return!1}return!0}return ye(e,m).forEach((function(n){var t=n.rnaComplexIndex,r=e[t];n.helixDataPerRnaMolecules.forEach((function(e){var n=e.rnaMoleculeName0,o=r.rnaMoleculeProps[n];ee.push.apply(ee,(0,l.Z)(e.helixData.map((function(e){var a=e.rnaMoleculeName1,i=r.rnaMoleculeProps[a];return{rnaComplexIndex:t,rnaMoleculeName0:n,rnaMoleculeName1:e.rnaMoleculeName1,nucleotideIndex0:e.start[0]+o.firstNucleotideIndex,nucleotideIndex1:Math.max(e.start[1],e.stop[1])+i.firstNucleotideIndex,length:Math.abs(e.start[0]-e.stop[0])+1}}))))}))})),v.approveBasePair=ne,v.initialBasePairs=ee.filter(ne),v.addFullIndicesPerNucleotideKeysToRerender(C),v}return(0,v.Z)(t,[{key:"drag",value:function(){return this.dragListener}},{key:"createRightClickMenu",value:function(e){var n,t,o=this.color;this.approveBasePair;switch(e){case c.OK.EDIT:t=(0,w.jsx)(k.Component,(0,p.Z)({},this.editMenuProps));break;case c.OK.FORMAT:t=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:this.initialBasePairs,approveBasePairs:function(e){}});break;case c.OK.ANNOTATE:var a,i={},l=(0,s.Z)(this.fullKeysOfNucleotidesWithColor);try{for(l.s();!(a=l.n()).done;){var u=a.value,d=u.rnaComplexIndex,f=u.rnaMoleculeName,h=u.nucleotideIndex;d in i||(i[d]={});var v=i[d];f in v||(v[f]=[]);var m=v[f];if(m.length>0){var x=m[m.length-1];h===x.maximumNucleotideIndexInclusive+1?x.maximumNucleotideIndexInclusive=h:h===x.minimumNucleotideIndexInclusive-1?x.minimumNucleotideIndexInclusive=h:m.push({minimumNucleotideIndexInclusive:h,maximumNucleotideIndexInclusive:h})}else m.push({minimumNucleotideIndexInclusive:h,maximumNucleotideIndexInclusive:h})}}catch(y){l.e(y)}finally{l.f()}t=(0,w.jsx)(r.Component,{regions:i,rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw"Unhandled switch case."}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," all nucleotides of the same color:"]}),(0,w.jsx)("br",{}),"(red = ",o.red,", green = ",o.green,", blue = ",o.blue,", alpha = ",null!==(n=o.alpha)&&void 0!==n?n:E.Dt,"):",(0,w.jsx)("br",{}),t]})}}]),t}(W);var he,ve=t(9287);(he||(he={})).Component=function(e){var n,t,r=e.rnaComplexProps,o=e.fullKeys,a=e.triggerRerender,l=(0,u.useContext)(f._.OrientationEditor.ResetDataTrigger),s=(0,u.useMemo)((function(){var e=o.rnaComplexIndex,n=o.rnaMoleculeName,t=o.nucleotideIndex,a=r[e],i=a.rnaMoleculeProps[n],l=i.nucleotideProps[t];return(0,p.Z)((0,p.Z)({},o),{},{singularRnaComplexProps:a,singularRnaMoleculeProps:i,singularNucleotideProps:l})}),[o]),c=(s.rnaComplexIndex,s.rnaMoleculeName,s.nucleotideIndex),d=(s.singularRnaComplexProps,s.singularRnaMoleculeProps),h=s.singularNucleotideProps;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(o);var v=(0,u.useState)(h.symbol),m=(0,i.Z)(v,2),x=m[0],g=m[1],N=(0,u.useState)(h.x),C=(0,i.Z)(N,2),P=C[0],A=C[1],k=(0,u.useState)(h.y),T=(0,i.Z)(k,2),_=T[0],M=T[1],O=(0,u.useState)(null!==(n=h.color)&&void 0!==n?n:E.E5),Z=(0,i.Z)(O,2),L=Z[0],D=Z[1],F=(0,u.useState)(null!==(t=h.font)&&void 0!==t?t:S.ZP.DEFAULT),B=(0,i.Z)(F,2),z=B[0],W=B[1],U=(0,u.useState)(!1),G=(0,i.Z)(U,2),H=G[0],K=G[1],V=(0,u.useState)(!1),q=(0,i.Z)(V,2),X=q[0],$=q[1],Q=(0,u.useContext)(f._.App.PushToUndoStack),Y=(0,u.useMemo)((function(){return c-1 in d.nucleotideProps?d.nucleotideProps[c-1]:void 0}),[c]),J=(0,u.useMemo)((function(){return c+1 in d.nucleotideProps?d.nucleotideProps[c+1]:void 0}),[c]),ee=(0,u.useMemo)((function(){return void 0===Y?(0,w.jsx)(w.Fragment,{}):(0,w.jsxs)(w.Fragment,{children:["Distance to previous nucleotide: ",(0,b.TE)({x:P,y:_},Y).toFixed(I.Eu)]})}),[Y,P,_]),ne=(0,u.useMemo)((function(){return void 0===J?(0,w.jsx)(w.Fragment,{}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("br",{}),"Distance to next nucleotide: ",(0,b.TE)({x:P,y:_},J).toFixed(I.Eu)]})}),[J,P,_]);return(0,u.useEffect)((function(){g(h.symbol),A(h.x),M(h.y)}),[o,l]),(0,u.useEffect)((function(){var e;D(null!==(e=h.color)&&void 0!==e?e:E.E5)}),[h.color]),(0,u.useEffect)((function(){var e;W(null!==(e=h.font)&&void 0!==e?e:S.ZP.DEFAULT)}),[h.font]),(0,w.jsxs)(w.Fragment,{children:[ee,ne,(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["Symbol:\xa0",(0,w.jsx)("select",{value:x,onChange:function(e){var n=e.target.value;!function(e){H||Q(),g(e),K(!0)}(n),h.symbol=n,a()},children:ve.h5.symbols.map((function(e){return(0,w.jsx)("option",{value:e,children:e},e)}))})]}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["x:\xa0",(0,w.jsx)(y.Z.Number,{value:P,setValue:function(e){h.x=e,function(e){X||Q(),A(e),$(!0)}(e),a()}})]}),(0,w.jsx)("br",{}),(0,w.jsxs)("label",{children:["y:\xa0",(0,w.jsx)(y.Z.Number,{value:_,setValue:function(e){h.y=e,function(e){X||Q(),M(e),$(!0)}(e),a()}})]}),(0,w.jsx)("br",{}),(0,w.jsx)(R.S.Component,{color:L,setColorHelper:function(e){h.color=e,D(e),a()}}),(0,w.jsx)(j.f.Component,(0,p.Z)((0,p.Z)({},z),{},{setFont:function(e){h.font=e,W(e),a()}}))]})};var me,xe=function(e){(0,m.Z)(t,e);var n=(0,x.Z)(t);function t(e,r,o,i,l,u,c,f,p){var v;(0,h.Z)(this,t),(v=n.call(this,e,r,o,i,u,f,p)).singularNucleotideProps=void 0,v.error=void 0,v.rerender=void 0;var m,x=v.fullKeys0,g=x.rnaComplexIndex,y=x.rnaMoleculeName,b=x.nucleotideIndex,N=v.rnaComplexProps[g],I=N.basePairs;if(v.singularNucleotideProps=N.rnaMoleculeProps[y].nucleotideProps[b],v.addFullIndices(f),y in I&&b in(m=I[y])){m[b];v.error=F,v.rerender=function(){r((0,a.Z)({},g,(0,a.Z)({},y,[b])));var e,n={rnaMoleculeName:y,nucleotideIndex:b},t=(0,a.Z)({},g,[]),i=t[g],l=m[b],u=(0,s.Z)(l);try{for(u.s();!(e=u.n()).done;){var c=e.value;i.push((0,d.kB)(n,c))}}catch(f){u.e(f)}finally{u.f()}o(t)}}else v.rerender=function(){r((0,a.Z)({},g,(0,a.Z)({},y,[b])))};if(g in u){var C=u[g];if(y in C)C[y].has(b)&&(v.error={errorMessage:"Cannot interact with this frozen nucleotide."})}return v}return(0,v.Z)(t,[{key:"drag",value:function(){if(void 0!==this.error&&this.error!==F)throw this.error;var e=this.singularNucleotideProps,n=this.rerender;return{initiateDrag:function(){return{x:e.x,y:e.y}},continueDrag:function(t){e.x=t.x,e.y=t.y,n()}}}},{key:"createRightClickMenu",value:function(e){var n,t=this.fullKeys0,o=t.rnaComplexIndex,i=t.rnaMoleculeName,l=t.nucleotideIndex,s=this.rnaComplexProps[o],u=s.rnaMoleculeProps[i],d=this.rerender,f=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("b",{children:[e," nucleotide #",u.firstNucleotideIndex+l]}),(0,w.jsx)("br",{}),'In RNA molecule "',i,'"',(0,w.jsx)("br",{}),'In RNA complex "',s.name,'"',(0,w.jsx)("br",{})]});if(void 0!==this.error&&this.error!==F)throw this.error;switch(e){case c.OK.EDIT:n=(0,w.jsx)(he.Component,{rnaComplexProps:this.rnaComplexProps,fullKeys:this.fullKeys0,triggerRerender:d});break;case c.OK.FORMAT:if(void 0!==this.error)throw this.error;var p=l+u.firstNucleotideIndex;n=(0,w.jsx)(g.BasePairsEditor.Component,{rnaComplexProps:this.rnaComplexProps,initialBasePairs:[{rnaComplexIndex:o,rnaMoleculeName0:i,nucleotideIndex0:p,length:1}],approveBasePairs:function(e){switch(e.length){case 0:break;case 1:var n=e[0];if(n.length>1)throw"This constraint expects at most one base pair.";if(n.rnaComplexIndex!==o||![n.rnaMoleculeName0,n.rnaMoleculeName1].includes(i)||![n.nucleotideIndex0,n.nucleotideIndex1].includes(p))throw"This constraint expects a base pair involving the clicked-on nucleotide.";break;default:throw"This constraint expects at most one base pair."}},defaultRnaComplexIndex:o,defaultRnaMoleculeName0:i,defaultRnaMoleculeName1:i});break;case c.OK.ANNOTATE:n=(0,w.jsx)(r.Component,{regions:(0,a.Z)({},o,(0,a.Z)({},i,[{minimumNucleotideIndexInclusive:l,maximumNucleotideIndexInclusive:l}])),rnaComplexProps:this.rnaComplexProps,setNucleotideKeysToRerender:this.setNucleotideKeysToRerender});break;default:throw{errorMessage:"Not yet implemented."}}return(0,w.jsxs)(w.Fragment,{children:[f,n]})}}]),t}(W);function ge(e,n){for(var t=e.basePairs,r=[],o=0,a=Object.keys(t);o<a.length;o++)for(var i=a[o],l=t[i],u=0,c=Object.keys(l);u<c.length;u++){var f,p=c[u],h=Number.parseInt(p),v={rnaMoleculeName:i,nucleotideIndex:h},m=l[h],x=(0,s.Z)(m);try{for(x.s();!(f=x.n()).done;){var g,y=f.value;C.ZP.isEnabledBasePair(null!==(g=y.basePairType)&&void 0!==g?g:(0,C.iN)(e.rnaMoleculeProps[i].nucleotideProps[h].symbol,e.rnaMoleculeProps[y.rnaMoleculeName].nucleotideProps[y.nucleotideIndex].symbol),n)&&((0,d.JA)(v,y)&&r.push({keys0:v,keys1:y,mappedBasePair:y}))}}catch(b){x.e(b)}finally{x.f()}}return r.sort((function(e,n){return(0,d.IK)(e.keys0,n.keys0)||(0,d.IK)(e.keys1,n.keys1)})),r}function ye(e,n){var t=[];for(var r in e){var o=Number.parseInt(r),a=ge(e[o],n);t.push(be(o,e[o],n,a))}return t}function be(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ge(n,t),o=[];for(var a in n.rnaMoleculeProps){var i=Ne(n,a,t,r);o.push(i)}return{rnaComplexIndex:e,helixDataPerRnaMolecules:o}}function Ne(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ge(e,t),o=e.rnaMoleculeProps[n],a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(var l in o.nucleotideProps){var s=Number.parseInt(l);s<a&&(a=s),s>i&&(i=s)}return Ie(e,n,a,i,t,r)}function Ie(e,n,t,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ge(e,o),i=[],l={};function u(e,n,t,r){n in e||(e[n]={});var o=e[n];t in o||(o[t]=r)}a=a.filter((function(e){var o=e.keys0,a=e.keys1;return o.rnaMoleculeName===n&&o.nucleotideIndex>=t&&o.nucleotideIndex<=r||a.rnaMoleculeName===n&&a.nucleotideIndex>=t&&a.nucleotideIndex<=r}));var c,d=(0,s.Z)(a);try{for(d.s();!(c=d.n()).done;){var f=c.value,p=f.keys0,h=f.keys1;f.mappedBasePair;p.rnaMoleculeName in l||(l[p.rnaMoleculeName]={});var v=l[p.rnaMoleculeName];h.rnaMoleculeName in v||(v[h.rnaMoleculeName]={});var m=v[h.rnaMoleculeName],x=!1;if(p.nucleotideIndex-1 in m){var g=m[p.nucleotideIndex-1];if(h.nucleotideIndex+1 in g){var y=g[h.nucleotideIndex+1];Math.abs(y.stop[0]+1-y.start[0])===Math.abs(y.stop[1]-1-y.start[1])&&(y.stop[0]++,y.stop[1]--,u(m,p.nucleotideIndex,h.nucleotideIndex,y),x=!0)}}if(!x){var b={start:{0:p.nucleotideIndex,1:h.nucleotideIndex},stop:{0:p.nucleotideIndex,1:h.nucleotideIndex},rnaMoleculeName1:p.rnaMoleculeName===n?h.rnaMoleculeName:p.rnaMoleculeName};i.push(b),u(m,p.nucleotideIndex,h.nucleotideIndex,b)}}}catch(N){d.e(N)}finally{d.f()}return{rnaMoleculeName0:n,helixData:i}}function Ce(e,n,t,r,o,a){var i,s,u=e.basePairs[n],c=e.rnaMoleculeProps[n],d=[];t[0]<=t[1]?(i=t[0],s=t[1]):(i=t[1],s=t[0]);for(var f=!0,p=function(n){if(n in u&&u[n].some((function(t){var r;return C.ZP.isEnabledBasePair(null!==(r=t.basePairType)&&void 0!==r?r:(0,C.iN)(c.nucleotideProps[n].symbol,e.rnaMoleculeProps[t.rnaMoleculeName].nucleotideProps[t.nucleotideIndex].symbol),a)})))return f=!1,"break";d.push(n)},h=i+1;h<s;h++){if("break"===p(h))break}f&&(o.push.apply(o,d),r.push.apply(r,(0,l.Z)(d.map((function(e){return c.nucleotideProps[e]})))))}function Ee(e,n,t,r,o,a,l,u){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){},f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ge(e,l);return function(e,n,t,r,o,a){var l,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){},c=Ne(e,n,a,arguments.length>7&&void 0!==arguments[7]?arguments[7]:ge(e,a)).helixData,f=[{rnaMoleculeName:n,nucleotideIndex:t},{rnaMoleculeName:r,nucleotideIndex:o}].sort(d.IK),p=(0,i.Z)(f,2),h=p[0],v=p[1],m=(0,s.Z)(c);try{for(m.s();!(l=m.n()).done;){var x=l.value,g=x.start,y=x.stop,b=Math.min(g[0],y[0]),N=Math.max(g[0],y[0]),I=Math.min(g[1],y[1]),C=Math.max(g[1],y[1]);if(r===x.rnaMoleculeName1&&h.nucleotideIndex>=b&&h.nucleotideIndex<=N&&v.nucleotideIndex>=I&&v.nucleotideIndex<=C){e.rnaMoleculeProps[r];for(var E=b;E<=N;E++)u({rnaMoleculeName:h.rnaMoleculeName,nucleotideIndex:E});for(var S=I;S<=C;S++)u({rnaMoleculeName:v.rnaMoleculeName,nucleotideIndex:S});return x}}}catch(P){m.e(P)}finally{m.f()}throw"Could not find the relevant helix!"}(e,n,t,r,o,l,(function(n){c(n);var t=n.rnaMoleculeName,r=n.nucleotideIndex,o=e.rnaMoleculeProps[t];if(a.push(o.nucleotideProps[r]),void 0!==u){var i,l=e.basePairs[t][r],f=(0,s.Z)(l);try{for(f.s();!(i=f.n()).done;){var p=i.value;u.push((0,d.kB)(n,p))}}catch(h){f.e(h)}finally{f.f()}}}),f)}function Se(e,n){return Math.abs(e[0]-e[1])-Math.abs(n[0]-n[1])}function Pe(e,n){return e.rnaComplexIndex-n.rnaComplexIndex||e.rnaMoleculeName.localeCompare(n.rnaMoleculeName)||e.nucleotideIndex-n.nucleotideIndex}function we(e,n,t){function r(){var r;e.sort(Pe);for(var o=e[0],i=e[e.length-1],l=!0,u=!0,c=!1,d=void 0,f=1;f<e.length;f++){var p=e[f],h=p.rnaComplexIndex,v=p.rnaMoleculeName;h!==o.rnaComplexIndex&&(l=!1),v!==o.rnaMoleculeName&&(u=!1,void 0===d?(d=v,c=!0):v!==d&&(c=!1))}l||(u=!1);var m=!0,x=!0,g=e.map((function(e){var r=e.rnaComplexIndex,o=e.rnaMoleculeName,a=e.nucleotideIndex,i=n[r],l=i.basePairs;if(o in l){var s=l[o];if(a in s)if(s[a].some((function(e){var n;return C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(i.rnaMoleculeProps[o].nucleotideProps[a].symbol,i.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),t)})))return x=!1,s[a]}m=!1}));function y(){if(!u)return!1;var e=g[0];if(void 0===e||!e.some((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return n===i.rnaMoleculeName&&t===i.nucleotideIndex})))return!1;for(var t=n[o.rnaComplexIndex].basePairs[o.rnaMoleculeName],r=o.nucleotideIndex+1;r<i.nucleotideIndex;r++){var a=t[r];if(void 0!==a&&a.some((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return n!==o.rnaMoleculeName||t<o.nucleotideIndex||t>i.nucleotideIndex})))return!1}return!0}function b(n){if(!n||!u&&!c)return!1;var t=[],r=e[0],o=1,a=void 0!==g[0],i=void 0;if(!a)return!1;for(t.push(r);o<e.length;o++){var l=e[o],s=l.rnaMoleculeName,d=l.nucleotideIndex;if(s!==r.rnaMoleculeName||d!==r.nucleotideIndex+1){i=o;break}var f=void 0!==g[o];f&&t.push(l),a=f,r=l}if(!a)return!1;var p=g[o];if(void 0===p)return!1;p.some((function(e){var n=e.rnaMoleculeName,t=e.nucleotideIndex;return n===r.rnaMoleculeName&&t===r.nucleotideIndex}))||t.reverse();for(var h=function(){var n=e[o],a=n.rnaMoleculeName,l=n.nucleotideIndex;if(o!==i&&(a!==r.rnaMoleculeName||l!==r.nucleotideIndex+1))return{v:!1};var s=g[o];if(void 0!==s){var u=t.pop();if(void 0===u)return{v:!1};if(!s.some((function(e){return u.rnaMoleculeName,e.rnaMoleculeName,u.nucleotideIndex===e.nucleotideIndex})))return{v:!1}}r=n};o<e.length;o++){var v=h();if("object"===typeof v)return v.v}return void 0!==g[g.length-1]}var N=function(){if(!l)return!1;var r,i={},u=(0,s.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value,d=c.rnaMoleculeName,f=c.nucleotideIndex;d in i||(i[d]=new Set),i[d].add(f)}}catch(b){u.e(b)}finally{u.f()}for(var p=n[o.rnaComplexIndex],h=p.rnaMoleculeProps,v=p.basePairs,m=(0,a.Z)({},o.rnaMoleculeName,new Set([o.nucleotideIndex])),x=new Array(o),g=0,y=function(){g++;var e=x.shift(),n=e.rnaMoleculeName,r=e.nucleotideIndex,o=h[n].nucleotideProps,a=v[n],l=new Array;if(r-1 in o&&l.push({rnaMoleculeName:n,nucleotideIndex:r-1}),r+1 in o&&l.push({rnaMoleculeName:n,nucleotideIndex:r+1}),r in a){var u,c=a[r].filter((function(e){var o;return C.ZP.isEnabledBasePair(null!==(o=e.basePairType)&&void 0!==o?o:(0,C.iN)(p.rnaMoleculeProps[n].nucleotideProps[r].symbol,p.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),t)})),d=(0,s.Z)(c);try{for(d.s();!(u=d.n()).done;){var f=u.value;l.push(f)}}catch(b){d.e(b)}finally{d.f()}}for(var y=0,N=l;y<N.length;y++){var I=N[y],E=I.rnaMoleculeName,S=I.nucleotideIndex;if(E in i&&i[E].has(S)&&(!(E in m)||!m[E].has(S)))E in m||(m[E]=new Set),m[E].add(S),x.push(I)}};x.length>0;)y();return g===e.length}();if(x){if(N)return{fullKeys:o,interactionConstraint:me.Enum.RNA_SINGLE_STRAND}}else if(m){if(N&&(u||c))return{fullKeys:o,interactionConstraint:me.Enum.RNA_HELIX};if(y())return{fullKeys:o,interactionConstraint:me.Enum.RNA_SUB_DOMAIN};if(b(N))return{fullKeys:o,interactionConstraint:me.Enum.RNA_STACKED_HELIX}}else{if(y())return{fullKeys:o,interactionConstraint:me.Enum.RNA_SUB_DOMAIN};if(b(N))return{fullKeys:e.find((function(e,n){return void 0!==g[n]})),interactionConstraint:me.Enum.RNA_STACKED_HELIX};if(N)return{fullKeys:e.find((function(e,n){return void 0===g[n]})),interactionConstraint:me.Enum.RNA_CYCLE}}if(u)return{fullKeys:o,interactionConstraint:me.Enum.RNA_MOLECULE};if(l)return{fullKeys:o,interactionConstraint:me.Enum.RNA_COMPLEX};for(var I=null!==(r=n[o.rnaComplexIndex].rnaMoleculeProps[o.rnaMoleculeName].nucleotideProps[o.nucleotideIndex].color)&&void 0!==r?r:E.E5,S=!0,P=1;P<e.length;P++){var w,A=e[P],k=A.rnaComplexIndex,T=A.rnaMoleculeName,_=A.nucleotideIndex,M=null!==(w=n[k].rnaMoleculeProps[T].nucleotideProps[_].color)&&void 0!==w?w:E.E5;if(!(0,E.wy)(I,M)){S=!1;break}}return S?{fullKeys:o,interactionConstraint:me.Enum.SINGLE_COLOR}:{fullKeys:o,interactionConstraint:me.Enum.ENTIRE_SCENE}}switch(e.length){case 0:return;case 1:var o=e[0],i=o.rnaComplexIndex,l=o.rnaMoleculeName,u=o.nucleotideIndex,c=n[i],d=c.basePairs,f=me.Enum.SINGLE_NUCLEOTIDE;if(l in d){var p=d[l];u in p&&p[u].some((function(e){var n;return C.ZP.isEnabledBasePair(null!==(n=e.basePairType)&&void 0!==n?n:(0,C.iN)(c.rnaMoleculeProps[l].nucleotideProps[u].symbol,c.rnaMoleculeProps[e.rnaMoleculeName].nucleotideProps[e.nucleotideIndex].symbol),t)}))&&(f=me.Enum.SINGLE_BASE_PAIR)}return{fullKeys:o,interactionConstraint:f};case 2:var h,v=e[0],m=e[1],x=n[v.rnaComplexIndex],g=x.basePairs;return v.rnaComplexIndex===m.rnaComplexIndex&&v.rnaMoleculeName in g&&v.nucleotideIndex in(h=g[v.rnaMoleculeName])&&h[v.nucleotideIndex].some((function(e){var n=e.rnaMoleculeName,r=e.nucleotideIndex,o=e.basePairType;return m.rnaMoleculeName===n&&m.nucleotideIndex===r&&C.ZP.isEnabledBasePair(null!==o&&void 0!==o?o:(0,C.iN)(x.rnaMoleculeProps[v.rnaMoleculeName].nucleotideProps[v.nucleotideIndex].symbol,x.rnaMoleculeProps[n].nucleotideProps[r].symbol),t)}))?{fullKeys:v,interactionConstraint:me.Enum.SINGLE_BASE_PAIR}:r();default:return r()}}!function(e){var n,t,r,o,i=e.supportedTabs=(n={},(0,a.Z)(n,c.OK.EDIT,c.OK.EDIT),(0,a.Z)(n,c.OK.FORMAT,c.OK.FORMAT),(0,a.Z)(n,c.OK.ANNOTATE,c.OK.ANNOTATE),n);e.isSupportedTab=function(e){return e in i};var l=function(e){return e.SINGLE_NUCLEOTIDE="Single nucleotide",e.SINGLE_BASE_PAIR="Single basepair",e.RNA_SINGLE_STRAND="RNA single strand",e.RNA_HELIX="RNA helix",e.RNA_SUB_DOMAIN="RNA sub-domain",e.RNA_STACKED_HELIX="RNA stacked helix",e.RNA_CYCLE="RNA cycle",e.RNA_MOLECULE="RNA molecule",e.RNA_COMPLEX="RNA complex",e.SINGLE_COLOR="Single color",e.ENTIRE_SCENE="Entire scene",e}({});e.Enum=l;var s=e.all=Object.values(l);e.isEnum=function(e){return s.includes(e)};e.record=(t={},(0,a.Z)(t,l.SINGLE_NUCLEOTIDE,xe),(0,a.Z)(t,l.SINGLE_BASE_PAIR,fe),(0,a.Z)(t,l.RNA_SINGLE_STRAND,ue),(0,a.Z)(t,l.RNA_HELIX,te),(0,a.Z)(t,l.RNA_SUB_DOMAIN,de),(0,a.Z)(t,l.RNA_STACKED_HELIX,ce),(0,a.Z)(t,l.RNA_CYCLE,ne),(0,a.Z)(t,l.RNA_MOLECULE,oe),(0,a.Z)(t,l.RNA_COMPLEX,V),(0,a.Z)(t,l.SINGLE_COLOR,pe),(0,a.Z)(t,l.ENTIRE_SCENE,H),t),e.descriptionRecord=(r={},(0,a.Z)(r,l.SINGLE_NUCLEOTIDE,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a single nucleotide.",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=150&end=168",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.SINGLE_BASE_PAIR,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a single base pair between two nucleotides.",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=167&end=178",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_SINGLE_STRAND,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a contiguous series of single (non-basepaired) nucleotides.",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=176&end=204",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_HELIX,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a contiguous series of base-paired nucleotides.",(0,w.jsx)("br",{}),'"Helix" is defined as two series of nucleotides which are mutually base-paired without gaps.',(0,w.jsx)("br",{}),"This involves at most two RNA molecules.",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=202&end=214",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_SUB_DOMAIN,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a contiguous series of nucleotides constrainted by a helix.",(0,w.jsx)("br",{}),"This constraint involves only one RNA molecule.",(0,w.jsx)("br",{}),"This includes all nucleotides with nucleotide indices:",(0,w.jsxs)("ul",{style:{margin:0},children:[(0,w.jsx)("li",{children:"Greater than or equal to the least nucleotide index in the helix"}),(0,w.jsx)("li",{children:"Less than or equal to the greatest nucleotide index in the helix"})]}),(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=212&end=243",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_STACKED_HELIX,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a contiguous series of helices between RNA molecules.",(0,w.jsx)("br",{}),"These helices may be separated by single (non-basepaired) nucleotides, but their mutually-basepaired status must resume outside the single-stranded regions.",(0,w.jsx)("br",{}),"This constraint involves at most two RNA molecules.",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=243&end=269",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_CYCLE,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a cycle of nucleotides.",(0,w.jsx)("br",{}),"An RNA cycle is calculated as follows:",(0,w.jsxs)("ul",{style:{margin:0},children:[(0,w.jsx)("li",{children:"Treat the nucleotides as nodes in a graph"}),(0,w.jsx)("li",{children:"Treat the following as edges in the graph:"}),(0,w.jsxs)("ul",{style:{margin:0},children:[(0,w.jsx)("li",{children:"Base pairs between nucleotides"}),(0,w.jsx)("li",{children:"Neighboring nucleotides within a given RNA molecule (with nucleotide indices i, j such that abs(i - j) = 1)"})]}),(0,w.jsx)("li",{children:"Calculate the smallest cycle within the graph involving the clicked-on nucleotide"})]}),(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=269&end=298",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_MOLECULE,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a single RNA molecule.",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=311&end=325",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.RNA_COMPLEX,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with a single RNA complex (which may contain more than one RNA molecule).",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=324&end=340",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.SINGLE_COLOR,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with all nucleotides or labels with the same color",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=340&end=358",allowFullScreen:!0,width:960,height:540})})]})),(0,a.Z)(r,l.ENTIRE_SCENE,(0,w.jsxs)(w.Fragment,{children:["This constraint allows the user to interact with all nucleotides or labels within the scene (i.e. viewport)",(0,w.jsx)(D.z.Component,{title:"Demo",children:(0,w.jsx)("iframe",{src:"https://youtube.com/embed/WDOMlZ5QaK4?start=354",allowFullScreen:!0,width:960,height:540})})]})),r);e.DEFAULT_OPTIONS={affectHairpinNucleotidesFlag:!0,truncateRnaSingleStrandFlag:!0,treatNoncanonicalBasePairsAsUnpairedFlag:q.Z[q.pE.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED]},e.optionsMenuRecord=(o={},(0,a.Z)(o,l.SINGLE_BASE_PAIR,(function(e){var n=(0,u.useContext)(f._.App.InteractionConstraintOptions),t=(0,u.useContext)(f._.App.UpdateInteractionConstraintOptions),r=n.affectHairpinNucleotidesFlag;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("label",{children:["Affect hairpin-loop nucleotides:\xa0",(0,w.jsx)("input",{type:"checkbox",checked:r,onChange:function(){t({affectHairpinNucleotidesFlag:!r})}})]})})})),(0,a.Z)(o,l.RNA_SINGLE_STRAND,(function(e){var n=(0,u.useContext)(f._.App.InteractionConstraintOptions),t=(0,u.useContext)(f._.App.UpdateInteractionConstraintOptions),r=n.truncateRnaSingleStrandFlag;return(0,w.jsxs)("label",{children:["Truncate Single Strand At Frozen Nucleotides:\xa0",(0,w.jsx)("input",{type:"checkbox",checked:r,onChange:function(){t({truncateRnaSingleStrandFlag:!r})}})]})})),o)}(me||(me={}))},9750:function(e,n,t){"use strict";t.d(n,{GO:function(){return p},OP:function(){return v},Xd:function(){return d},Z:function(){return m},kR:function(){return h},pE:function(){return c},zT:function(){return f}});var r,o,a,i,l=t(4942),s=t(8161),u=t(4532),c=function(e){return e.COPY_FILE_NAME="copy_file_name",e.COPY_FILE_EXTENSION="copy_file_extension",e.RESET_VIEWPORT_AFTER_FILE_UPLOAD="reset_viewport_after_file_upload",e.USE_DEGREES="use_degrees",e.REPOSITION_NUCLEOTIDES_WHEN_FORMATTING="reposition_nucleotides_when_formatting",e.AUTOMATICALLY_REPOSITION_ANNOTATIONS="automatically_reposition_annotations",e.BASE_PAIRS_EDITOR_TYPE="base_pairs_editor_type",e.CANONICAL_BASE_PAIR_DISTANCE="canonical_base_pair_distance",e.WOBBLE_BASE_PAIR_DISTANCE="wobble_base_pair_distance",e.MISMATCH_BASE_PAIR_DISTANCE="mismatch_base_pair_distance",e.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS="distance_between_contiguous_base_pairs",e.REPLACE_NUCLEOTIDES_WITH_CONTOUR_LINE="replace_nucleotides_with_contour_line",e.CONTOUR_LINE_WIDTH="contour_line_width",e.PATH_MODE="path_mode",e.PATH_LINE_WIDTH="path_line_width",e.DARK_MODE="dark_mode",e.DISABLE_NAVIGATE_AWAY_PROMPT="disable_navigate_away_prompt",e.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED="treat_non_canonical_base_pairs_as_unpaired",e.GRID_ENABLED="grid_enabled",e.GRID_HORIZONTAL_LINES="grid_horizontal_lines",e.GRID_VERTICAL_LINES="grid_vertical_lines",e.GRID_LEFT_RIGHT_DIAGONAL="grid_left_right_diagonal",e.GRID_RIGHT_LEFT_DIAGONAL="grid_right_left_diagonal",e.GRID_CONCENTRIC_CIRCLES="grid_concentric_circles",e.GRID_DOTTED="grid_dotted",e.GRID_SPACING="grid_spacing",e.GRID_COLOR="grid_color",e.CANVAS_COLOR="canvas_color",e}({}),d=Object.values(c),f=(r={},(0,l.Z)(r,c.COPY_FILE_NAME,"Copy input-file names to output-file names"),(0,l.Z)(r,c.COPY_FILE_EXTENSION,"Copy input-file extensions to downloadable output files"),(0,l.Z)(r,c.RESET_VIEWPORT_AFTER_FILE_UPLOAD,"Reset viewport after file upload"),(0,l.Z)(r,c.USE_DEGREES,"Use degrees"),(0,l.Z)(r,c.AUTOMATICALLY_REPOSITION_ANNOTATIONS,"Reposition annotations when editing"),(0,l.Z)(r,c.BASE_PAIRS_EDITOR_TYPE,"Format-tab base-pairs editor type"),(0,l.Z)(r,c.REPOSITION_NUCLEOTIDES_WHEN_FORMATTING,"Reposition nucleotides when formatting"),(0,l.Z)(r,c.CANONICAL_BASE_PAIR_DISTANCE,"Canonical base-pair distance"),(0,l.Z)(r,c.WOBBLE_BASE_PAIR_DISTANCE,"Wobble base-pair distance"),(0,l.Z)(r,c.MISMATCH_BASE_PAIR_DISTANCE,"Mismatch base-pair distance"),(0,l.Z)(r,c.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS,"Distance between contiguous base pairs"),(0,l.Z)(r,c.REPLACE_NUCLEOTIDES_WITH_CONTOUR_LINE,"Replace nucleotides with contour line"),(0,l.Z)(r,c.CONTOUR_LINE_WIDTH,"Contour-line width"),(0,l.Z)(r,c.PATH_MODE,"Path mode (show lines, hide nucleotide text)"),(0,l.Z)(r,c.PATH_LINE_WIDTH,"Path-line width"),(0,l.Z)(r,c.DARK_MODE,"Dark mode"),(0,l.Z)(r,c.DISABLE_NAVIGATE_AWAY_PROMPT,"Disable the navigate-away prompt"),(0,l.Z)(r,c.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED,"Treat non-canonical base pairs as unpaired (when editing and formatting)"),(0,l.Z)(r,c.GRID_ENABLED,"Enable canvas grid"),(0,l.Z)(r,c.GRID_HORIZONTAL_LINES,"Show horizontal grid lines"),(0,l.Z)(r,c.GRID_VERTICAL_LINES,"Show vertical grid lines"),(0,l.Z)(r,c.GRID_LEFT_RIGHT_DIAGONAL,"Show left-to-right diagonal lines"),(0,l.Z)(r,c.GRID_RIGHT_LEFT_DIAGONAL,"Show right-to-left diagonal lines"),(0,l.Z)(r,c.GRID_CONCENTRIC_CIRCLES,"Show concentric circles"),(0,l.Z)(r,c.GRID_DOTTED,"Show dotted grid pattern"),(0,l.Z)(r,c.GRID_SPACING,"Grid line spacing"),(0,l.Z)(r,c.GRID_COLOR,"Grid color"),(0,l.Z)(r,c.CANVAS_COLOR,"Canvas background color"),r),p=(o={},(0,l.Z)(o,c.COPY_FILE_NAME,"Copy the name from uploaded input files to downloadable output files"),(0,l.Z)(o,c.COPY_FILE_EXTENSION,"Copy the extension from uploaded input files to downloadable output files (when supported)"),(0,l.Z)(o,c.RESET_VIEWPORT_AFTER_FILE_UPLOAD,"Reset the viewport translation and scale after parsing an input file"),(0,l.Z)(o,c.USE_DEGREES,"Use degrees (instead of radians) when editing angles"),(0,l.Z)(o,c.AUTOMATICALLY_REPOSITION_ANNOTATIONS,"Reposition annotations when their parent nucleotides are repositioned"),(0,l.Z)(o,c.BASE_PAIRS_EDITOR_TYPE,"Type of the base-pairs editor within the format menu"),(0,l.Z)(o,c.REPOSITION_NUCLEOTIDES_WHEN_FORMATTING,"Reposition nucleotides when formatting"),(0,l.Z)(o,c.CANONICAL_BASE_PAIR_DISTANCE,'The default distance between base pairs which are "canonical." (i.e. Watson-Crick). Applied when formatting base pairs'),(0,l.Z)(o,c.WOBBLE_BASE_PAIR_DISTANCE,'The default distance between base pairs which are "wobble." Applied when formatting base pairs'),(0,l.Z)(o,c.MISMATCH_BASE_PAIR_DISTANCE,'The default distance between base pairs which are "mismatch." Applied when formatting base pairs'),(0,l.Z)(o,c.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS,"The default distance between base pairs which are contiguous. Applied when formatting base pairs"),(0,l.Z)(o,c.REPLACE_NUCLEOTIDES_WITH_CONTOUR_LINE,"Display only a countour line per RNA molecule, instead of individual nucleotides"),(0,l.Z)(o,c.CONTOUR_LINE_WIDTH,"Width of the contour line (applied when replacing nucleotides with a contour line)"),(0,l.Z)(o,c.PATH_MODE,"Display lines tracing the centers of nucleotides while hiding the nucleotide text. This provides an abstracted view ideal for visualizing larger structures efficiently while keeping base pairs, labels, and other features visible."),(0,l.Z)(o,c.PATH_LINE_WIDTH,"Width of the path line (applied when path mode is enabled)"),(0,l.Z)(o,c.DARK_MODE,"Change background colors and scene colors to darken the scene"),(0,l.Z)(o,c.DISABLE_NAVIGATE_AWAY_PROMPT,"Disable the prompt asking you to save your work, when you navigate away from this page"),(0,l.Z)(o,c.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED,"Disable editing and formatting of non-canonical base pairs."),(0,l.Z)(o,c.GRID_ENABLED,"Enable or disable the canvas grid system. When enabled, you can choose which grid types to display."),(0,l.Z)(o,c.GRID_HORIZONTAL_LINES,"Display horizontal parallel lines across the canvas. These lines move with the viewport pan but maintain their spacing."),(0,l.Z)(o,c.GRID_VERTICAL_LINES,"Display vertical parallel lines across the canvas. These lines move with the viewport pan but maintain their spacing."),(0,l.Z)(o,c.GRID_LEFT_RIGHT_DIAGONAL,"Display diagonal lines from top-left to bottom-right. These lines move with the viewport pan but maintain their spacing."),(0,l.Z)(o,c.GRID_RIGHT_LEFT_DIAGONAL,"Display diagonal lines from top-right to bottom-left. These lines move with the viewport pan but maintain their spacing."),(0,l.Z)(o,c.GRID_CONCENTRIC_CIRCLES,"Display concentric circles centered on the canvas. The radius between circles is controlled by the grid spacing setting."),(0,l.Z)(o,c.GRID_DOTTED,"Display a dotted grid pattern across the canvas. The spacing between dots is controlled by the grid spacing setting."),(0,l.Z)(o,c.GRID_SPACING,"Control the distance between parallel grid lines or the radius increment for concentric circles. Higher values create more spaced out grids."),(0,l.Z)(o,c.GRID_COLOR,"Customize the color of all grid elements. Leave empty to use automatic theme-based colors."),(0,l.Z)(o,c.CANVAS_COLOR,"Customize the canvas background color. Leave empty to use automatic theme-based colors."),o),h=(a={},(0,l.Z)(a,c.COPY_FILE_NAME,"boolean"),(0,l.Z)(a,c.COPY_FILE_EXTENSION,"boolean"),(0,l.Z)(a,c.RESET_VIEWPORT_AFTER_FILE_UPLOAD,"boolean"),(0,l.Z)(a,c.USE_DEGREES,"boolean"),(0,l.Z)(a,c.AUTOMATICALLY_REPOSITION_ANNOTATIONS,"boolean"),(0,l.Z)(a,c.BASE_PAIRS_EDITOR_TYPE,"BasePairsEditorType"),(0,l.Z)(a,c.REPOSITION_NUCLEOTIDES_WHEN_FORMATTING,"boolean"),(0,l.Z)(a,c.CANONICAL_BASE_PAIR_DISTANCE,"number"),(0,l.Z)(a,c.WOBBLE_BASE_PAIR_DISTANCE,"number"),(0,l.Z)(a,c.MISMATCH_BASE_PAIR_DISTANCE,"number"),(0,l.Z)(a,c.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS,"number"),(0,l.Z)(a,c.REPLACE_NUCLEOTIDES_WITH_CONTOUR_LINE,"boolean"),(0,l.Z)(a,c.CONTOUR_LINE_WIDTH,"number"),(0,l.Z)(a,c.PATH_MODE,"boolean"),(0,l.Z)(a,c.PATH_LINE_WIDTH,"number"),(0,l.Z)(a,c.DARK_MODE,"boolean"),(0,l.Z)(a,c.DISABLE_NAVIGATE_AWAY_PROMPT,"boolean"),(0,l.Z)(a,c.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED,"boolean"),(0,l.Z)(a,c.GRID_ENABLED,"boolean"),(0,l.Z)(a,c.GRID_HORIZONTAL_LINES,"boolean"),(0,l.Z)(a,c.GRID_VERTICAL_LINES,"boolean"),(0,l.Z)(a,c.GRID_LEFT_RIGHT_DIAGONAL,"boolean"),(0,l.Z)(a,c.GRID_RIGHT_LEFT_DIAGONAL,"boolean"),(0,l.Z)(a,c.GRID_CONCENTRIC_CIRCLES,"boolean"),(0,l.Z)(a,c.GRID_DOTTED,"boolean"),(0,l.Z)(a,c.GRID_SPACING,"number"),(0,l.Z)(a,c.GRID_COLOR,"string"),(0,l.Z)(a,c.CANVAS_COLOR,"string"),a);function v(e){return d.includes(e)}var m=(i={},(0,l.Z)(i,c.COPY_FILE_NAME,!0),(0,l.Z)(i,c.COPY_FILE_EXTENSION,!0),(0,l.Z)(i,c.RESET_VIEWPORT_AFTER_FILE_UPLOAD,!0),(0,l.Z)(i,c.USE_DEGREES,!0),(0,l.Z)(i,c.AUTOMATICALLY_REPOSITION_ANNOTATIONS,!0),(0,l.Z)(i,c.BASE_PAIRS_EDITOR_TYPE,s.BasePairsEditor.EditorType.TABLE_BASED),(0,l.Z)(i,c.REPOSITION_NUCLEOTIDES_WHEN_FORMATTING,!0),(0,l.Z)(i,c.CANONICAL_BASE_PAIR_DISTANCE,NaN),(0,l.Z)(i,c.WOBBLE_BASE_PAIR_DISTANCE,NaN),(0,l.Z)(i,c.MISMATCH_BASE_PAIR_DISTANCE,NaN),(0,l.Z)(i,c.DISTANCE_BETWEEN_CONTIGUOUS_BASE_PAIRS,NaN),(0,l.Z)(i,c.REPLACE_NUCLEOTIDES_WITH_CONTOUR_LINE,!1),(0,l.Z)(i,c.CONTOUR_LINE_WIDTH,u.tA),(0,l.Z)(i,c.PATH_MODE,!1),(0,l.Z)(i,c.PATH_LINE_WIDTH,u.tA),(0,l.Z)(i,c.DARK_MODE,!1),(0,l.Z)(i,c.DISABLE_NAVIGATE_AWAY_PROMPT,!1),(0,l.Z)(i,c.TREAT_NON_CANONICAL_BASE_PAIRS_AS_UNPAIRED,!0),(0,l.Z)(i,c.GRID_ENABLED,!1),(0,l.Z)(i,c.GRID_HORIZONTAL_LINES,!0),(0,l.Z)(i,c.GRID_VERTICAL_LINES,!0),(0,l.Z)(i,c.GRID_LEFT_RIGHT_DIAGONAL,!1),(0,l.Z)(i,c.GRID_RIGHT_LEFT_DIAGONAL,!1),(0,l.Z)(i,c.GRID_CONCENTRIC_CIRCLES,!1),(0,l.Z)(i,c.GRID_DOTTED,!1),(0,l.Z)(i,c.GRID_SPACING,50),(0,l.Z)(i,c.GRID_COLOR,""),(0,l.Z)(i,c.CANVAS_COLOR,""),i)},4532:function(e,n,t){"use strict";t.d(n,{Eu:function(){return a},J3:function(){return u},_h:function(){return i},cb:function(){return c},tA:function(){return o},wj:function(){return s},zK:function(){return l}});var r=t(3871),o=.2,a=2,i=((0,r.hG)(r.gL),1.1),l=(Math.log(i),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e.toFixed(n)}),s=function(e){return/^-?(0x)?\d+$/.test(e)?Number.parseInt(e):void 0},u=function(e){var n=Number.parseFloat(e);return Number.isNaN(n)?void 0:n},c=function(e){return e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e}({})},9766:function(e,n,t){"use strict";t.d(n,{C2:function(){return y},Ht:function(){return p},Lk:function(){return m},Qt:function(){return c},Xx:function(){return l},_H:function(){return g},cV:function(){return h},f1:function(){return a},h9:function(){return d},ry:function(){return u},vi:function(){return f},w6:function(){return i},wy:function(){return s},xb:function(){return x},yM:function(){return v}});var r=t(3433),o=t(6559),a=1e-7;function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if((e-n)*t<=0)throw"Infinite loop error";for(var r=[],o=n;o<e;o+=t)r.push(o);return r}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e<-n?-1:e<n?0:1}function s(e,n){return 0===function(e,n){return l(e-n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a)}(e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a)}function u(e,n){if(0===e.length)return null;for(var t=0,r=e.length-1;;){var o=t+r>>1,a=e[o],i=n(a);if(0===i)return{arrayEntry:a,arrayIndex:o};if(i>0?r=o-1:t=o+1,t>r)break}return null}var c=function(e){return e.THROW_ERROR="Throw error",e.DELETE_AND_ADD="Delete and add",e.DELETE="Delete",e.ADD="Add",e.DO_NOTHING="Do nothing",e}({});function d(e,n,t){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c.THROW_ERROR,i=0,l=e.length-1,s=!0;i<=l;){var u=i+l>>1,d=n(e[u]);if(0===d){i=u,s=!1;break}d>0?l=u-1:i=u+1}var f=t,p=o;if(s)switch(a){case c.THROW_ERROR:throw"The query was not found within the input sorted array.";case c.DELETE_AND_ADD:break;case c.DELETE:p=[];break;case c.ADD:f=0;break;case c.DO_NOTHING:p=[],f=0;break;default:throw"Unhandled switch case."}e.splice.apply(e,[i,f].concat((0,r.Z)(p)))}function f(e){return 57.2957795131*e}function p(e){return.01745329251*e}function h(e,n){return e-n}function v(e,n){return n-e}function m(e){return Number.parseInt(e)}function x(e){for(var n in e)return!1;return!0}function g(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=(0,o.$X)(n,e),i=(0,o.wK)((0,o.K)(a),r/(0,o.VE)(a)),l=(0,o.IH)(e,i),s=(0,o.$X)(e,i),u=(0,o.IH)(n,i),c=(0,o.$X)(n,i);return"M ".concat(l.x," ").concat(l.y," A 1 1 0 0 ").concat(t?1:0," ").concat(s.x," ").concat(s.y," L ").concat(c.x," ").concat(c.y," A 1 1 0 0 ").concat(t?1:0," ").concat(u.x," ").concat(u.y," z")}function y(e){e.sort(h);var n=e.length>>1;return e.length%2==0?.5*(e[n-1]+e[n]):e[n]}},5088:function(e,n,t){"use strict";t.d(n,{$_:function(){return x},A:function(){return m},Gg:function(){return u},HW:function(){return p},MA:function(){return v},S7:function(){return s}});var r=t(9439),o=t(7462),a=t(1153),i=255,l=100,s=function(e){var n=e.r,t=e.g,r=e.b,o=e.a,a=Math.max(n,t,r),s=a-Math.min(n,t,r),u=s?a===n?(t-r)/s:a===t?2+(r-n)/s:4+(n-t)/s:0;return{h:60*(u<0?u+6:u),s:a?s/a*l:0,v:a/i*l,a:o}},u=function(e){var n=c(e);return"hsla("+n.h+", "+n.s+"%, "+n.l+"%, "+n.a+")"},c=function(e){var n=e.h,t=e.s,r=e.v,o=e.a,a=(200-t)*r/l;return{h:n,s:a>0&&a<200?t*r/l/(a<=l?a:200-a)*l:0,l:a/2,a:o}},d=(Math.PI,function(e){var n,t=e.r,r=e.g,o=e.b;return"#"+(n=(t<<16|r<<8|o).toString(16),new Array(7-n.length).join("0")+n)}),f=function(e){var n=e.r,t=e.g,r=e.b,o=e.a,a="number"===typeof o&&(255*o|256).toString(16).slice(1);return""+d({r:n,g:t,b:r,a:o})+(a||"")},p=function(e){return s(h(e))},h=function(e){var n=e.replace("#","");/^#?/.test(e)&&3===n.length&&(e="#"+n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2));var t=new RegExp("[A-Za-z0-9]{2}","g"),o=e.match(t).map((function(e){return parseInt(e,16)})),a=(0,r.Z)(o,4),l=a[0],s=a[1],u=a[2],c=void 0===u?0:u,d=a[3];return{r:l,g:s,b:c,a:(null!=d?d:255)/i}},v=function(e){var n=e.h,t=e.s,r=e.v,a=e.a,s=n/60,u=t/l,c=r/l,d=Math.floor(s)%6,f=s-Math.floor(s),p=i*c*(1-u),h=i*c*(1-u*f),v=i*c*(1-u*(1-f));c*=i;var m={};switch(d){case 0:m.r=c,m.g=v,m.b=p;break;case 1:m.r=h,m.g=c,m.b=p;break;case 2:m.r=p,m.g=c,m.b=v;break;case 3:m.r=p,m.g=h,m.b=c;break;case 4:m.r=v,m.g=p,m.b=c;break;case 5:m.r=c,m.g=p,m.b=h}return m.r=Math.round(m.r),m.g=Math.round(m.g),m.b=Math.round(m.b),(0,o.Z)({},m,{a:a})},m=function(e){return d(v(e))},x=function(e){var n,t,r,o,i,l,s,u,d,h,x;return"string"===typeof e&&(0,a.Ff)(e)?(l=p(e),s=e):"string"!==typeof e&&(l=e),l&&(r={h:(x=l).h,s:x.s,v:x.v},i=c(l),o=v(l),u=f(o),s=m(l),t={h:(h=i).h,s:h.s,l:h.l},n={r:(d=o).r,g:d.g,b:d.b}),{rgb:n,hsl:t,hsv:r,rgba:o,hsla:i,hsva:l,hex:s,hexa:u}}},1153:function(e,n,t){"use strict";t.d(n,{Ff:function(){return r}});var r=function(e){return/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e)}},3869:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(7462),o=t(3366),a=t(2791),i=t(5088),l=t(5894),s=t(184),u=["className","prefixCls","left","top","style","fillProps"],c=function(e){var n=e.className,t=e.prefixCls,a=e.left,i=e.top,l=e.style,c=e.fillProps,d=(0,o.Z)(e,u),f=(0,r.Z)({},l,{position:"absolute",left:a,top:i}),p=(0,r.Z)({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},null==c?void 0:c.style,{transform:a?"translate(-9px, -1px)":"translate(-1px, -9px)"});return(0,s.jsx)("div",(0,r.Z)({className:t+"-pointer "+(n||""),style:f},d,{children:(0,s.jsx)("div",(0,r.Z)({className:t+"-fill"},c,{style:p}))}))},d=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],f=a.forwardRef((function(e,n){var t=e.prefixCls,a=void 0===t?"w-color-alpha":t,u=e.className,f=e.hsva,p=e.background,h=e.bgProps,v=void 0===h?{}:h,m=e.innerProps,x=void 0===m?{}:m,g=e.pointerProps,y=void 0===g?{}:g,b=e.radius,N=void 0===b?0:b,I=e.width,C=e.height,E=void 0===C?16:C,S=e.direction,P=void 0===S?"horizontal":S,w=e.style,A=e.onChange,k=e.pointer,T=(0,o.Z)(e,d),_=function(e){A&&A((0,r.Z)({},f,{a:"horizontal"===P?e.left:e.top}),e)},M=(0,i.Gg)(Object.assign({},f,{a:1})),R="linear-gradient(to "+("horizontal"===P?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+M+" 100%)",j={};"horizontal"===P?j.left=100*f.a+"%":j.top=100*f.a+"%";var O=(0,r.Z)({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:N,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==) left center",backgroundColor:"var(--alpha-background-color)"},w,{position:"relative"},{width:I,height:E}),Z=k&&"function"===typeof k?k((0,r.Z)({prefixCls:a},y,j)):(0,s.jsx)(c,(0,r.Z)({},y,{prefixCls:a},j));return(0,s.jsxs)("div",(0,r.Z)({},T,{className:[a,a+"-"+P,u||""].filter(Boolean).join(" "),style:O,ref:n,children:[(0,s.jsx)("div",(0,r.Z)({},v,{style:(0,r.Z)({inset:0,position:"absolute",background:p||R,borderRadius:N},v.style)})),(0,s.jsx)(l.ZP,(0,r.Z)({},x,{style:(0,r.Z)({},x.style,{inset:0,zIndex:1,position:"absolute"}),onMove:_,onDown:_,children:Z}))]}))}));f.displayName="Alpha";var p=f,h=["prefixCls","className","onChange","direction","hsva"],v=a.forwardRef((function(e,n){var t=e.prefixCls,a=void 0===t?"w-color-saturation":t,l=e.className,u=e.onChange,c=e.direction,d=void 0===c?"horizontal":c,f=e.hsva,v=(0,o.Z)(e,h),m=(0,i.Gg)((0,r.Z)({},f,{a:1,v:100}));return(0,s.jsx)(p,(0,r.Z)({ref:n},v,{className:a+" "+(l||""),hsva:{h:f.h,s:f.s,v:f.v,a:1-f.v/100},direction:d,background:"linear-gradient(to "+("horizontal"===d?"right":"bottom")+", "+m+", rgb(0, 0, 0))",onChange:function(e,n){u&&u({v:"horizontal"===d?100-100*n.left:100-100*n.top})}}))}));v.displayName="ShadeSlider";var m=v},649:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(7462),o=t(3366),a=t(2791),i=t(1153),l=t(5088),s=t(5894),u=t(184),c=function(e){var n=e.className,t=e.color,o=e.left,a=e.top,i=e.style,l=e.prefixCls,s=(0,r.Z)({},i,{position:"absolute",top:a,left:o}),c=l+"-pointer "+(n||"");return(0,u.jsx)("div",{className:c,style:s,children:(0,u.jsx)("div",{className:l+"-fill",style:{width:10,height:10,transform:"translate(-5px, -5px)",boxShadow:"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",borderRadius:"50%",backgroundColor:"#fff"},children:(0,u.jsx)("div",{style:{inset:0,borderRadius:"50%",position:"absolute",backgroundColor:t}})})})},d=2*Math.PI,f=function(e,n){return(e%n+n)%n},p=function(e,n){return Math.sqrt(e*e+n*n)};function h(e){var n=e.width,t=void 0===n?0:n,r=t/2;return{width:t,radius:r,cx:r,cy:r}}function v(e){var n=e.width;return(void 0===n?0:n)/2}function m(e,n,t){var r=e.angle||0,o=e.direction;return t&&"clockwise"===o?n=r+n:"clockwise"===o?n=360-r+n:t&&"anticlockwise"===o?n=r+180-n:"anticlockwise"===o&&(n=r-n),f(n,360)}var x=["prefixCls","radius","pointer","className","style","width","height","oval","direction","angle","color","onChange"],g=a.forwardRef((function(e,n){var t=e.prefixCls,a=void 0===t?"w-color-wheel":t,f=(e.radius,e.pointer),g=e.className,y=e.style,b=e.width,N=void 0===b?200:b,I=e.height,C=void 0===I?200:I,E=e.oval,S=e.direction,P=void 0===S?"anticlockwise":S,w=e.angle,A=void 0===w?180:w,k=e.color,T=e.onChange,_=(0,o.Z)(e,x),M="string"===typeof k&&(0,i.Ff)(k)?(0,l.HW)(k):k||{},R=k?(0,l.A)(M):"",j=function(e,n){var t=h(e),r=t.cx,o=t.cy,a=v(e),i=(180+m(e,n.h,!0))*(d/360),l=n.s/100*a,s="clockwise"===e.direction?-1:1;return{x:r+l*Math.cos(i)*s,y:o+l*Math.sin(i)*s}}({width:N},M),O={top:"0",left:"0",color:R},Z=function(e,n){var t=function(e,n,t){var r=h(e),o=r.cx,a=r.cy,i=v(e);n=o-n,t=a-t;var l=m(e,Math.atan2(-t,-n)*(360/d)),s=Math.min(p(n,t),i);return{h:Math.round(l),s:Math.round(100/i*s)}}({width:N},N-e.x,C-e.y),r={h:t.h,s:t.s,v:M.v,a:M.a};T&&T((0,l.$_)(r))},L={zIndex:1,transform:"translate("+j.x+"px, "+j.y+"px) "+("x"===E||"X"===E?"scaleY(2)":"y"===E||"Y"===E?"scaleX(2)":"")},D=f&&"function"===typeof f?f((0,r.Z)({prefixCls:a,style:L},O)):(0,u.jsx)(c,(0,r.Z)({prefixCls:a,style:L},O));return(0,u.jsxs)(s.ZP,(0,r.Z)({className:[a,g||""].filter(Boolean).join(" ")},_,{style:(0,r.Z)({position:"relative",width:N,transform:"x"===E||"X"===E?"scaleY(0.5)":"y"===E||"Y"===E?"scaleX(0.5)":"",height:C},y),ref:n,onMove:Z,onDown:Z,children:[D,(0,u.jsx)("div",{style:{position:"absolute",borderRadius:"50%",background:"anticlockwise"===P?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)",transform:"rotateZ("+(A+90)+"deg)",inset:0}}),(0,u.jsx)("div",{style:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle closest-side, #fff, transparent)",inset:0}}),(0,u.jsx)("div",{style:{backgroundColor:"#000",borderRadius:"50%",position:"absolute",inset:0,opacity:"number"===typeof M.v?1-M.v/100:0}})]}))}));g.displayName="Wheel";var y=g},5894:function(e,n,t){"use strict";t.d(n,{ZP:function(){return v}});var r=t(9439),o=t(7462),a=t(3366),i=t(2791);function l(e){var n=(0,i.useRef)(e);return(0,i.useEffect)((function(){n.current=e})),(0,i.useCallback)((function(e,t){return n.current&&n.current(e,t)}),[])}var s=function(e){return"touches"in e},u=function(e){!s(e)&&e.preventDefault&&e.preventDefault()},c=function(e,n,t){return void 0===n&&(n=0),void 0===t&&(t=1),e>t?t:e<n?n:e},d=function(e,n){var t=e.getBoundingClientRect(),r=s(n)?n.touches[0]:n;return{left:c((r.pageX-(t.left+window.pageXOffset))/t.width),top:c((r.pageY-(t.top+window.pageYOffset))/t.height),width:t.width,height:t.height,x:r.pageX-(t.left+window.pageXOffset),y:r.pageY-(t.top+window.pageYOffset)}},f=t(184),p=["prefixCls","className","onMove","onDown"],h=i.forwardRef((function(e,n){var t=e.prefixCls,c=void 0===t?"w-color-interactive":t,h=e.className,v=e.onMove,m=e.onDown,x=(0,a.Z)(e,p),g=(0,i.useRef)(null),y=(0,i.useRef)(!1),b=(0,i.useState)(!1),N=(0,r.Z)(b,2),I=N[0],C=N[1],E=l(v),S=l(m),P=(0,i.useCallback)((function(e){u(e),(s(e)?e.touches.length>0:e.buttons>0)&&g.current?E&&E(d(g.current,e),e):C(!1)}),[E]),w=(0,i.useCallback)((function(){return C(!1)}),[]),A=(0,i.useCallback)((function(e){var n=e?window.addEventListener:window.removeEventListener;n(y.current?"touchmove":"mousemove",P),n(y.current?"touchend":"mouseup",w)}),[]);(0,i.useEffect)((function(){return A(I),function(){I&&A(!1)}}),[I,A]);var k=(0,i.useCallback)((function(e){u(e.nativeEvent),function(e){return!(y.current&&!s(e))&&(y.current=s(e),!0)}(e.nativeEvent)&&(S&&S(d(g.current,e.nativeEvent),e.nativeEvent),C(!0))}),[S]);return(0,f.jsx)("div",(0,o.Z)({},x,{className:[c,h||""].filter(Boolean).join(" "),style:(0,o.Z)({},x.style,{touchAction:"none"}),ref:g,tabIndex:0,onMouseDown:k,onTouchStart:k}))}));h.displayName="Interactive";var v=h},7197:function(e,n,t){var r=t(7009).Symbol;e.exports=r},9066:function(e,n,t){var r=t(7197),o=t(1587),a=t(3581),i="[object Null]",l="[object Undefined]",s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?l:i:s&&s in Object(e)?o(e):a(e)}},821:function(e,n,t){var r=t(6050),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},1032:function(e,n,t){var r="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=r},1587:function(e,n,t){var r=t(7197),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var n=a.call(e,l),t=e[l];try{e[l]=void 0;var r=!0}catch(s){}var o=i.call(e);return r&&(n?e[l]=t:delete e[l]),o}},3581:function(e){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},7009:function(e,n,t){var r=t(1032),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},6050:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},8573:function(e,n,t){var r=t(8092),o=t(72),a=t(2582),i="Expected a function",l=Math.max,s=Math.min;e.exports=function(e,n,t){var u,c,d,f,p,h,v=0,m=!1,x=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function y(n){var t=u,r=c;return u=c=void 0,v=n,f=e.apply(r,t)}function b(e){var t=e-h;return void 0===h||t>=n||t<0||x&&e-v>=d}function N(){var e=o();if(b(e))return I(e);p=setTimeout(N,function(e){var t=n-(e-h);return x?s(t,d-(e-v)):t}(e))}function I(e){return p=void 0,g&&u?y(e):(u=c=void 0,f)}function C(){var e=o(),t=b(e);if(u=arguments,c=this,h=e,t){if(void 0===p)return function(e){return v=e,p=setTimeout(N,n),m?y(e):f}(h);if(x)return clearTimeout(p),p=setTimeout(N,n),y(h)}return void 0===p&&(p=setTimeout(N,n)),f}return n=a(n)||0,r(t)&&(m=!!t.leading,d=(x="maxWait"in t)?l(a(t.maxWait)||0,n):d,g="trailing"in t?!!t.trailing:g),C.cancel=function(){void 0!==p&&clearTimeout(p),v=0,u=h=c=p=void 0},C.flush=function(){return void 0===p?f:I(o())},C}},8092:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,n,t){var r=t(9066),o=t(3141),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==a}},72:function(e,n,t){var r=t(7009);e.exports=function(){return r.Date.now()}},3038:function(e,n,t){var r=t(8573),o=t(8092),a="Expected a function";e.exports=function(e,n,t){var i=!0,l=!0;if("function"!=typeof e)throw new TypeError(a);return o(t)&&(i="leading"in t?!!t.leading:i,l="trailing"in t?!!t.trailing:l),r(e,n,{leading:i,maxWait:n,trailing:l})}},2582:function(e,n,t){var r=t(821),o=t(8092),a=t(152),i=NaN,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return i;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var t=s.test(e);return t||u.test(e)?c(e.slice(2),t?2:8):l.test(e)?i:+e}},700:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(1413),o=t(3366);function a(e,n){if(null==e)return{};var t,r,a=(0,o.Z)(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=t(2791),l=function(e){var n=function(e){return e.replace(/^([A-Z])|[\s-_]+(\w)/g,(function(e,n,t){return t?t.toUpperCase():n.toLowerCase()}))}(e);return n.charAt(0).toUpperCase()+n.slice(1)},s=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter((function(e,n,t){return Boolean(e)&&""!==e.trim()&&t.indexOf(e)===n})).join(" ").trim()},u=t(9439),c=t(3433),d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},f=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],p=(0,i.forwardRef)((function(e,n){var t=e.color,o=void 0===t?"currentColor":t,l=e.size,p=void 0===l?24:l,h=e.strokeWidth,v=void 0===h?2:h,m=e.absoluteStrokeWidth,x=e.className,g=void 0===x?"":x,y=e.children,b=e.iconNode,N=a(e,f);return(0,i.createElement)("svg",(0,r.Z)((0,r.Z)((0,r.Z)({ref:n},d),{},{width:p,height:p,stroke:o,strokeWidth:m?24*Number(v)/Number(p):v,className:s("lucide",g)},!y&&!function(e){for(var n in e)if(n.startsWith("aria-")||"role"===n||"title"===n)return!0}(N)&&{"aria-hidden":"true"}),N),[].concat((0,c.Z)(b.map((function(e){var n=(0,u.Z)(e,2),t=n[0],r=n[1];return(0,i.createElement)(t,r)}))),(0,c.Z)(Array.isArray(y)?y:[y])))})),h=["className"],v=function(e,n){var t=(0,i.forwardRef)((function(t,o){var u,c=t.className,d=a(t,h);return(0,i.createElement)(p,(0,r.Z)({ref:o,iconNode:n,className:s("lucide-".concat((u=l(e),u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},d))}));return t.displayName=l(e),t}},6088:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var r=(0,t(700).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4463:function(e,n,t){"use strict";var r=t(2791),o=t(5296);function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(l[e]=n,e=0;e<n.length;e++)i.add(n[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,n,t,r,o,a,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];m[n]=new v(n,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,n,t,r){var o=m.hasOwnProperty(n)?m[n]:null;(null!==o?0!==o.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null===n||"undefined"===typeof n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,o,r)&&(t=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):o.mustUseProperty?e[o.propertyName]=null===t?3!==o.type&&"":t:(n=o.attributeName,r=o.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(o=o.type)||4===o&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(x,g);m[n]=new v(n,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(x,g);m[n]=new v(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(x,g);m[n]=new v(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),w=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var Z,L=Object.assign;function D(e){if(void 0===Z)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);Z=n&&n[1]||""}return"\n"+Z+e}var F=!1;function B(e,n){if(!e||F)return"";F=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var r=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){r=u}e.call(n.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||o[i]!==a[l]){var s="\n"+o[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{F=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?D(e):""}function z(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case I:return"Portal";case S:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case w:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case A:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(n=e.displayName||null)?n:W(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return W(e(n))}catch(t){}}return null}function U(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(n);case 8:return n===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function K(e){e._valueTracker||(e._valueTracker=function(e){var n=H(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var o=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function V(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function X(e,n){var t=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function $(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=G(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function Q(e,n){null!=(n=n.checked)&&y(e,"checked",n,!1)}function Y(e,n){Q(e,n);var t=G(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,G(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function J(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&q(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var o=0;o<t.length;o++)n["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=n.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&r&&(e[t].defaultSelected=!0)}else{for(t=""+G(t),n=null,o=0;o<e.length;o++){if(e[o].value===t)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==n||e[o].disabled||(n=e[o])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(a(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(a(92));if(ne(t)){if(1<t.length)throw Error(a(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:G(t)}}function ae(e,n){var t=G(n.value),r=G(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?le(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,n)}))}:ce);function fe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||pe.hasOwnProperty(e)&&pe[e]?(""+n).trim():n+"px"}function me(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),o=ve(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,o):e[t]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),pe[n]=pe[e]}))}));var xe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,n){if(n){if(xe[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(a(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(a(62))}}function ye(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ee=null;function Se(e){if(e=bo(e)){if("function"!==typeof Ie)throw Error(a(280));var n=e.stateNode;n&&(n=Io(n),Ie(e.stateNode,e.type,n))}}function Pe(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function we(){if(Ce){var e=Ce,n=Ee;if(Ee=Ce=null,Se(e),n)for(e=0;e<n.length;e++)Se(n[e])}}function Ae(e,n){return e(n)}function ke(){}var Te=!1;function _e(e,n,t){if(Te)return e(n,t);Te=!0;try{return Ae(e,n,t)}finally{Te=!1,(null!==Ce||null!==Ee)&&(ke(),we())}}function Me(e,n){var t=e.stateNode;if(null===t)return null;var r=Io(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(a(231,n,typeof t));return t}var Re=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Re=!1}function Oe(e,n,t,r,o,a,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{n.apply(t,u)}catch(c){this.onError(c)}}var Ze=!1,Le=null,De=!1,Fe=null,Be={onError:function(e){Ze=!0,Le=e}};function ze(e,n,t,r,o,a,i,l,s){Ze=!1,Le=null,Oe.apply(Be,arguments)}function We(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Ue(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Ge(e){if(We(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=We(e)))throw Error(a(188));return n!==e?null:e}for(var t=e,r=n;;){var o=t.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return Ge(o),e;if(i===r)return Ge(o),n;i=i.sibling}throw Error(a(188))}if(t.return!==r.return)t=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===t){l=!0,t=o,r=i;break}if(s===r){l=!0,r=o,t=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===t){l=!0,t=i,r=o;break}if(s===r){l=!0,r=i,t=o;break}s=s.sibling}if(!l)throw Error(a(189))}}if(t.alternate!==r)throw Error(a(190))}if(3!==t.tag)throw Error(a(188));return t.stateNode.current===t?e:n}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Ke(e);if(null!==n)return n;e=e.sibling}return null}var Ve=o.unstable_scheduleCallback,qe=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,$e=o.unstable_requestPaint,Qe=o.unstable_now,Ye=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,en=o.unstable_UserBlockingPriority,nn=o.unstable_NormalPriority,tn=o.unstable_LowPriority,rn=o.unstable_IdlePriority,on=null,an=null;var ln=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(sn(e)/un|0)|0},sn=Math.log,un=Math.LN2;var cn=64,dn=4194304;function fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var l=i&~o;0!==l?r=fn(l):0!==(a&=i)&&(r=fn(a))}else 0!==(i=t&~o)?r=fn(i):0!==a&&(r=fn(a));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&o)&&((o=r&-r)>=(a=n&-n)||16===o&&0!==(4194240&a)))return n;if(0!==(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)o=1<<(t=31-ln(n)),r|=e[t],n&=~o;return r}function hn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function vn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mn(){var e=cn;return 0===(4194240&(cn<<=1))&&(cn=64),e}function xn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function gn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-ln(n)]=t}function yn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ln(t),o=1<<r;o&n|e[r]&n&&(e[r]|=n),t&=~o}}var bn=0;function Nn(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var In,Cn,En,Sn,Pn,wn=!1,An=[],kn=null,Tn=null,_n=null,Mn=new Map,Rn=new Map,jn=[],On="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zn(e,n){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Mn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(n.pointerId)}}function Ln(e,n,t,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==n&&(null!==(n=bo(n))&&Cn(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==o&&-1===n.indexOf(o)&&n.push(o),e)}function Dn(e){var n=yo(e.target);if(null!==n){var t=We(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=Ue(t)))return e.blockedOn=n,void Pn(e.priority,(function(){En(t)}))}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Fn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=$n(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=bo(t))&&Cn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);be=r,t.target.dispatchEvent(r),be=null,n.shift()}return!0}function Bn(e,n,t){Fn(e)&&t.delete(n)}function zn(){wn=!1,null!==kn&&Fn(kn)&&(kn=null),null!==Tn&&Fn(Tn)&&(Tn=null),null!==_n&&Fn(_n)&&(_n=null),Mn.forEach(Bn),Rn.forEach(Bn)}function Wn(e,n){e.blockedOn===n&&(e.blockedOn=null,wn||(wn=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zn)))}function Un(e){function n(n){return Wn(n,e)}if(0<An.length){Wn(An[0],e);for(var t=1;t<An.length;t++){var r=An[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kn&&Wn(kn,e),null!==Tn&&Wn(Tn,e),null!==_n&&Wn(_n,e),Mn.forEach(n),Rn.forEach(n),t=0;t<jn.length;t++)(r=jn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&null===(t=jn[0]).blockedOn;)Dn(t),null===t.blockedOn&&jn.shift()}var Gn=b.ReactCurrentBatchConfig,Hn=!0;function Kn(e,n,t,r){var o=bn,a=Gn.transition;Gn.transition=null;try{bn=1,qn(e,n,t,r)}finally{bn=o,Gn.transition=a}}function Vn(e,n,t,r){var o=bn,a=Gn.transition;Gn.transition=null;try{bn=4,qn(e,n,t,r)}finally{bn=o,Gn.transition=a}}function qn(e,n,t,r){if(Hn){var o=$n(e,n,t,r);if(null===o)Gr(e,n,r,Xn,t),Zn(e,r);else if(function(e,n,t,r,o){switch(n){case"focusin":return kn=Ln(kn,e,n,t,r,o),!0;case"dragenter":return Tn=Ln(Tn,e,n,t,r,o),!0;case"mouseover":return _n=Ln(_n,e,n,t,r,o),!0;case"pointerover":var a=o.pointerId;return Mn.set(a,Ln(Mn.get(a)||null,e,n,t,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Rn.set(a,Ln(Rn.get(a)||null,e,n,t,r,o)),!0}return!1}(o,e,n,t,r))r.stopPropagation();else if(Zn(e,r),4&n&&-1<On.indexOf(e)){for(;null!==o;){var a=bo(o);if(null!==a&&In(a),null===(a=$n(e,n,t,r))&&Gr(e,n,r,Xn,t),a===o)break;o=a}null!==o&&r.stopPropagation()}else Gr(e,n,r,null,t)}}var Xn=null;function $n(e,n,t,r){if(Xn=null,null!==(e=yo(e=Ne(r))))if(null===(n=We(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=Ue(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Xn=e,null}function Qn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Je:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Yn=null,Jn=null,et=null;function nt(){if(et)return et;var e,n,t=Jn,r=t.length,o="value"in Yn?Yn.value:Yn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return et=o.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function ot(){return!1}function at(e){function n(n,t,r,o,a){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rt:ot,this.isPropagationStopped=ot,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,lt,st,ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ct=at(ut),dt=L({},ut,{view:0,detail:0}),ft=at(dt),pt=L({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==st&&(st&&"mousemove"===e.type?(it=e.screenX-st.screenX,lt=e.screenY-st.screenY):lt=it=0,st=e),it)},movementY:function(e){return"movementY"in e?e.movementY:lt}}),ht=at(pt),vt=at(L({},pt,{dataTransfer:0})),mt=at(L({},dt,{relatedTarget:0})),xt=at(L({},ut,{animationName:0,elapsedTime:0,pseudoElement:0})),gt=L({},ut,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yt=at(gt),bt=at(L({},ut,{data:0})),Nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},It={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Et(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=Ct[e])&&!!n[e]}function St(){return Et}var Pt=L({},dt,{key:function(e){if(e.key){var n=Nt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?It[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wt=at(Pt),At=at(L({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kt=at(L({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St})),Tt=at(L({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0})),_t=L({},pt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mt=at(_t),Rt=[9,13,27,32],jt=c&&"CompositionEvent"in window,Ot=null;c&&"documentMode"in document&&(Ot=document.documentMode);var Zt=c&&"TextEvent"in window&&!Ot,Lt=c&&(!jt||Ot&&8<Ot&&11>=Ot),Dt=String.fromCharCode(32),Ft=!1;function Bt(e,n){switch(e){case"keyup":return-1!==Rt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zt(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wt=!1;var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Ut[e.type]:"textarea"===n}function Ht(e,n,t,r){Pe(r),0<(n=Kr(n,"onChange")).length&&(t=new ct("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Kt=null,Vt=null;function qt(e){Dr(e,0)}function Xt(e){if(V(No(e)))return e}function $t(e,n){if("change"===e)return n}var Qt=!1;if(c){var Yt;if(c){var Jt="oninput"in document;if(!Jt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jt="function"===typeof er.oninput}Yt=Jt}else Yt=!1;Qt=Yt&&(!document.documentMode||9<document.documentMode)}function nr(){Kt&&(Kt.detachEvent("onpropertychange",tr),Vt=Kt=null)}function tr(e){if("value"===e.propertyName&&Xt(Vt)){var n=[];Ht(n,Vt,e,Ne(e)),_e(qt,n)}}function rr(e,n,t){"focusin"===e?(nr(),Vt=t,(Kt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xt(Vt)}function ar(e,n){if("click"===e)return Xt(n)}function ir(e,n){if("input"===e||"change"===e)return Xt(n)}var lr="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function sr(e,n){if(lr(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!d.call(n,o)||!lr(e[o],n[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,n){var t,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?dr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function fr(){for(var e=window,n=q();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=q((e=n.contentWindow).document)}return n}function pr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function hr(e){var n=fr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&dr(t.ownerDocument.documentElement,t)){if(null!==r&&pr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var o=t.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=cr(t,a);var i=cr(t,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,xr=null,gr=null,yr=!1;function br(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;yr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(xr,"onSelect")).length&&(n=new ct("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=mr)))}function Nr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Ir={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},Cr={},Er={};function Sr(e){if(Cr[e])return Cr[e];if(!Ir[e])return e;var n,t=Ir[e];for(n in t)if(t.hasOwnProperty(n)&&n in Er)return Cr[e]=t[n];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Pr=Sr("animationend"),wr=Sr("animationiteration"),Ar=Sr("animationstart"),kr=Sr("transitionend"),Tr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,n){Tr.set(e,n),s(n,[e])}for(var Rr=0;Rr<_r.length;Rr++){var jr=_r[Rr];Mr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Mr(Pr,"onAnimationEnd"),Mr(wr,"onAnimationIteration"),Mr(Ar,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,o,i,l,s,u){if(ze.apply(this,arguments),Ze){if(!Ze)throw Error(a(198));var c=Le;Ze=!1,Le=null,De||(De=!0,Fe=c)}}(r,n,void 0,e),e.currentTarget=null}function Dr(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var r=e[t],o=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&o.isPropagationStopped())break e;Lr(o,l,u),a=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,u=l.currentTarget,l=l.listener,s!==a&&o.isPropagationStopped())break e;Lr(o,l,u),a=s}}}if(De)throw e=Fe,De=!1,Fe=null,e}function Fr(e,n){var t=n[mo];void 0===t&&(t=n[mo]=new Set);var r=e+"__bubble";t.has(r)||(Ur(n,e,2,!1),t.add(r))}function Br(e,n,t){var r=0;n&&(r|=4),Ur(t,e,r,n)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[zr]){e[zr]=!0,i.forEach((function(n){"selectionchange"!==n&&(Zr.has(n)||Br(n,!1,e),Br(n,!0,e))}));var n=9===e.nodeType?e:e.ownerDocument;null===n||n[zr]||(n[zr]=!0,Br("selectionchange",!1,n))}}function Ur(e,n,t,r){switch(Qn(n)){case 1:var o=Kn;break;case 4:o=Vn;break;default:o=qn}t=o.bind(null,n,t,e),o=void 0,!Re||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(o=!0),r?void 0!==o?e.addEventListener(n,t,{capture:!0,passive:o}):e.addEventListener(n,t,!0):void 0!==o?e.addEventListener(n,t,{passive:o}):e.addEventListener(n,t,!1)}function Gr(e,n,t,r,o){var a=r;if(0===(1&n)&&0===(2&n)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;i=i.return}for(;null!==l;){if(null===(i=yo(l)))return;if(5===(s=i.tag)||6===s){r=a=i;continue e}l=l.parentNode}}r=r.return}_e((function(){var r=a,o=Ne(t),i=[];e:{var l=Tr.get(e);if(void 0!==l){var s=ct,u=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":s=wt;break;case"focusin":u="focus",s=mt;break;case"focusout":u="blur",s=mt;break;case"beforeblur":case"afterblur":s=mt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=kt;break;case Pr:case wr:case Ar:s=xt;break;case kr:s=Tt;break;case"scroll":s=ft;break;case"wheel":s=Mt;break;case"copy":case"cut":case"paste":s=yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=At}var c=0!==(4&n),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Me(h,f))&&c.push(Hr(h,v,p)))),d)break;h=h.return}0<c.length&&(l=new s(l,u,null,t,o),i.push({event:l,listeners:c}))}}if(0===(7&n)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||t===be||!(u=t.relatedTarget||t.fromElement)||!yo(u)&&!u[vo])&&(s||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=t.relatedTarget||t.toElement)?yo(u):null)&&(u!==(d=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=ht,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=At,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:No(s),p=null==u?l:No(u),(l=new c(v,h+"leave",s,t,o)).target=d,l.relatedTarget=p,v=null,yo(o)===r&&((c=new c(f,h+"enter",u,t,o)).target=p,c.relatedTarget=d,v=c),d=v,s&&u)e:{for(f=u,h=0,p=c=s;p;p=Vr(p))h++;for(p=0,v=f;v;v=Vr(v))p++;for(;0<h-p;)c=Vr(c),h--;for(;0<p-h;)f=Vr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==s&&qr(i,l,s,c,!1),null!==u&&null!==d&&qr(i,d,u,c,!0)}if("select"===(s=(l=r?No(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var m=$t;else if(Gt(l))if(Qt)m=ir;else{m=or;var x=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=ar);switch(m&&(m=m(e,r))?Ht(i,m,t,o):(x&&x(e,l,r),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=r?No(r):window,e){case"focusin":(Gt(x)||"true"===x.contentEditable)&&(mr=x,xr=r,gr=null);break;case"focusout":gr=xr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(i,t,o);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(i,t,o)}var g;if(jt)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wt?Bt(e,t)&&(y="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(y="onCompositionStart");y&&(Lt&&"ko"!==t.locale&&(Wt||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wt&&(g=nt()):(Jn="value"in(Yn=o)?Yn.value:Yn.textContent,Wt=!0)),0<(x=Kr(r,y)).length&&(y=new bt(y,e,null,t,o),i.push({event:y,listeners:x}),g?y.data=g:null!==(g=zt(t))&&(y.data=g))),(g=Zt?function(e,n){switch(e){case"compositionend":return zt(n);case"keypress":return 32!==n.which?null:(Ft=!0,Dt);case"textInput":return(e=n.data)===Dt&&Ft?null:e;default:return null}}(e,t):function(e,n){if(Wt)return"compositionend"===e||!jt&&Bt(e,n)?(e=nt(),et=Jn=Yn=null,Wt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lt&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new bt("onBeforeInput","beforeinput",null,t,o),i.push({event:o,listeners:r}),o.data=g))}Dr(i,n)}))}function Hr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Kr(e,n){for(var t=n+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Me(e,t))&&r.unshift(Hr(e,a,o)),null!=(a=Me(e,n))&&r.push(Hr(e,a,o))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,n,t,r,o){for(var a=n._reactName,i=[];null!==t&&t!==r;){var l=t,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,o?null!=(s=Me(t,a))&&i.unshift(Hr(t,s,l)):o||null!=(s=Me(t,a))&&i.push(Hr(t,s,l))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Yr(e,n,t){if(n=Qr(n),Qr(e)!==n&&t)throw Error(a(425))}function Jr(){}var eo=null,no=null;function to(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(lo)}:ro;function lo(e){setTimeout((function(){throw e}))}function so(e,n){var t=n,r=0;do{var o=t.nextSibling;if(e.removeChild(t),o&&8===o.nodeType)if("/$"===(t=o.data)){if(0===r)return e.removeChild(o),void Un(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=o}while(t);Un(n)}function uo(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function co(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,vo="__reactContainer$"+fo,mo="__reactEvents$"+fo,xo="__reactListeners$"+fo,go="__reactHandles$"+fo;function yo(e){var n=e[po];if(n)return n;for(var t=e.parentNode;t;){if(n=t[vo]||t[po]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=co(e);null!==e;){if(t=e[po])return t;e=co(e)}return n}t=(e=t).parentNode}return null}function bo(e){return!(e=e[po]||e[vo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function No(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Io(e){return e[ho]||null}var Co=[],Eo=-1;function So(e){return{current:e}}function Po(e){0>Eo||(e.current=Co[Eo],Co[Eo]=null,Eo--)}function wo(e,n){Eo++,Co[Eo]=e.current,e.current=n}var Ao={},ko=So(Ao),To=So(!1),_o=Ao;function Mo(e,n){var t=e.type.contextTypes;if(!t)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in t)a[o]=n[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jo(){Po(To),Po(ko)}function Oo(e,n,t){if(ko.current!==Ao)throw Error(a(168));wo(ko,n),wo(To,t)}function Zo(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var o in r=r.getChildContext())if(!(o in n))throw Error(a(108,U(e)||"Unknown",o));return L({},t,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,_o=ko.current,wo(ko,e),wo(To,To.current),!0}function Do(e,n,t){var r=e.stateNode;if(!r)throw Error(a(169));t?(e=Zo(e,n,_o),r.__reactInternalMemoizedMergedChildContext=e,Po(To),Po(ko),wo(ko,e)):Po(To),wo(To,t)}var Fo=null,Bo=!1,zo=!1;function Wo(e){null===Fo?Fo=[e]:Fo.push(e)}function Uo(){if(!zo&&null!==Fo){zo=!0;var e=0,n=bn;try{var t=Fo;for(bn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Fo=null,Bo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ve(Je,Uo),o}finally{bn=n,zo=!1}}return null}var Go=[],Ho=0,Ko=null,Vo=0,qo=[],Xo=0,$o=null,Qo=1,Yo="";function Jo(e,n){Go[Ho++]=Vo,Go[Ho++]=Ko,Ko=e,Vo=n}function ea(e,n,t){qo[Xo++]=Qo,qo[Xo++]=Yo,qo[Xo++]=$o,$o=e;var r=Qo;e=Yo;var o=32-ln(r)-1;r&=~(1<<o),t+=1;var a=32-ln(n)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Qo=1<<32-ln(n)+o|t<<o|r,Yo=a+e}else Qo=1<<a|t<<o|r,Yo=e}function na(e){null!==e.return&&(Jo(e,1),ea(e,1,0))}function ta(e){for(;e===Ko;)Ko=Go[--Ho],Go[Ho]=null,Vo=Go[--Ho],Go[Ho]=null;for(;e===$o;)$o=qo[--Xo],qo[Xo]=null,Yo=qo[--Xo],qo[Xo]=null,Qo=qo[--Xo],qo[Xo]=null}var ra=null,oa=null,aa=!1,ia=null;function la(e,n){var t=Mu(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function sa(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ra=e,oa=uo(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ra=e,oa=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==$o?{id:Qo,overflow:Yo}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Mu(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ra=e,oa=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var n=oa;if(n){var t=n;if(!sa(e,n)){if(ua(e))throw Error(a(418));n=uo(t.nextSibling);var r=ra;n&&sa(e,n)?la(r,t):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!to(e.type,e.memoizedProps)),n&&(n=oa)){if(ua(e))throw pa(),Error(a(418));for(;n;)la(e,n),n=uo(n.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){oa=uo(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}oa=null}}else oa=ra?uo(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=uo(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function va(e){null===ia?ia=[e]:ia.push(e)}var ma=b.ReactCurrentBatchConfig;function xa(e,n){if(e&&e.defaultProps){for(var t in n=L({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var ga=So(null),ya=null,ba=null,Na=null;function Ia(){Na=ba=ya=null}function Ca(e){var n=ga.current;Po(ga),e._currentValue=n}function Ea(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Sa(e,n){ya=e,Na=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(bl=!0),e.firstContext=null)}function Pa(e){var n=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:n,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return n}var wa=null;function Aa(e){null===wa?wa=[e]:wa.push(e)}function ka(e,n,t,r){var o=n.interleaved;return null===o?(t.next=t,Aa(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ta(e,r)}function Ta(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var _a=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Oa(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ks)){var o=r.pending;return null===o?n.next=n:(n.next=o.next,o.next=n),r.pending=n,Ta(e,t)}return null===(o=r.interleaved)?(n.next=n,Aa(r)):(n.next=o.next,o.next=n),r.interleaved=n,Ta(e,t)}function Za(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,yn(e,t)}}function La(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var o=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?o=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?o=a=n:a=a.next=n}else o=a=n;return t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Da(e,n,t,r){var o=e.updateQueue;_a=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var s=l,u=s.next;s.next=null,null===i?a=u:i.next=u,i=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(i=0,c=u=s=null,l=a;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,v=l;switch(f=n,p=t,v.tag){case 1:if("function"===typeof(h=v.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=v.payload)?h.call(p,d,f):h)||void 0===f)break e;d=L({},d,f);break e;case 2:_a=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=p,s=d):c=c.next=p,i|=f;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(f=l).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(n=o.shared.interleaved)){o=n;do{i|=o.lane,o=o.next}while(o!==n)}else null===a&&(o.shared.lanes=0);Ls|=i,e.lanes=i,e.memoizedState=d}}function Fa(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],o=r.callback;if(null!==o){if(r.callback=null,r=t,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Ba=(new r.Component).refs;function za(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:L({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=nu(),o=tu(e),a=ja(r,o);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),null!==(n=Oa(e,a,o))&&(ru(n,e,o,r),Za(n,e,o))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=nu(),o=tu(e),a=ja(r,o);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),null!==(n=Oa(e,a,o))&&(ru(n,e,o,r),Za(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=nu(),r=tu(e),o=ja(t,r);o.tag=2,void 0!==n&&null!==n&&(o.callback=n),null!==(n=Oa(e,o,r))&&(ru(n,e,r,t),Za(n,e,r))}};function Ua(e,n,t,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!sr(t,r)||!sr(o,a))}function Ga(e,n,t){var r=!1,o=Ao,a=n.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(o=Ro(n)?_o:ko.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?Mo(e,o):Ao),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Wa,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function Ha(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Wa.enqueueReplaceState(n,n.state,null)}function Ka(e,n,t,r){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs=Ba,Ma(e);var a=n.contextType;"object"===typeof a&&null!==a?o.context=Pa(a):(a=Ro(n)?_o:ko.current,o.context=Mo(e,a)),o.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(za(e,n,a,t),o.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(n=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&Wa.enqueueReplaceState(o,o.state,null),Da(e,t,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Va(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(a(309));var r=t.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=o.refs;n===Ba&&(n=o.refs={}),null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!==typeof e)throw Error(a(284));if(!t._owner)throw Error(a(290,e))}return e}function qa(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function $a(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function o(e,n){return(e=ju(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function l(n){return e&&null===n.alternate&&(n.flags|=2),n}function s(e,n,t,r){return null===n||6!==n.tag?((n=Du(t,e.mode,r)).return=e,n):((n=o(n,t)).return=e,n)}function u(e,n,t,r){var a=t.type;return a===C?d(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&Xa(a)===n.type)?((r=o(n,t.props)).ref=Va(e,n,t),r.return=e,r):((r=Ou(t.type,t.key,t.props,null,e.mode,r)).ref=Va(e,n,t),r.return=e,r)}function c(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Fu(t,e.mode,r)).return=e,n):((n=o(n,t.children||[])).return=e,n)}function d(e,n,t,r,a){return null===n||7!==n.tag?((n=Zu(t,e.mode,r,a)).return=e,n):((n=o(n,t)).return=e,n)}function f(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=Du(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case N:return(t=Ou(n.type,n.key,n.props,null,e.mode,t)).ref=Va(e,null,n),t.return=e,t;case I:return(n=Fu(n,e.mode,t)).return=e,n;case M:return f(e,(0,n._init)(n._payload),t)}if(ne(n)||O(n))return(n=Zu(n,e.mode,t,null)).return=e,n;qa(e,n)}return null}function p(e,n,t,r){var o=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==o?null:s(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case N:return t.key===o?u(e,n,t,r):null;case I:return t.key===o?c(e,n,t,r):null;case M:return p(e,n,(o=t._init)(t._payload),r)}if(ne(t)||O(t))return null!==o?null:d(e,n,t,r,null);qa(e,t)}return null}function h(e,n,t,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return s(n,e=e.get(t)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case N:return u(n,e=e.get(null===r.key?t:r.key)||null,r,o);case I:return c(n,e=e.get(null===r.key?t:r.key)||null,r,o);case M:return h(e,n,t,(0,r._init)(r._payload),o)}if(ne(r)||O(r))return d(n,e=e.get(t)||null,r,o,null);qa(n,r)}return null}function v(o,a,l,s){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<l.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var x=p(o,d,l[v],s);if(null===x){null===d&&(d=m);break}e&&d&&null===x.alternate&&n(o,d),a=i(x,a,v),null===c?u=x:c.sibling=x,c=x,d=m}if(v===l.length)return t(o,d),aa&&Jo(o,v),u;if(null===d){for(;v<l.length;v++)null!==(d=f(o,l[v],s))&&(a=i(d,a,v),null===c?u=d:c.sibling=d,c=d);return aa&&Jo(o,v),u}for(d=r(o,d);v<l.length;v++)null!==(m=h(d,o,v,l[v],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=i(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return n(o,e)})),aa&&Jo(o,v),u}function m(o,l,s,u){var c=O(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,v=l,m=l=0,x=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(x=v,v=null):x=v.sibling;var y=p(o,v,g.value,u);if(null===y){null===v&&(v=x);break}e&&v&&null===y.alternate&&n(o,v),l=i(y,l,m),null===d?c=y:d.sibling=y,d=y,v=x}if(g.done)return t(o,v),aa&&Jo(o,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=f(o,g.value,u))&&(l=i(g,l,m),null===d?c=g:d.sibling=g,d=g);return aa&&Jo(o,m),c}for(v=r(o,v);!g.done;m++,g=s.next())null!==(g=h(v,o,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),l=i(g,l,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return n(o,e)})),aa&&Jo(o,m),c}return function e(r,a,i,s){if("object"===typeof i&&null!==i&&i.type===C&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case N:e:{for(var u=i.key,c=a;null!==c;){if(c.key===u){if((u=i.type)===C){if(7===c.tag){t(r,c.sibling),(a=o(c,i.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Xa(u)===c.type){t(r,c.sibling),(a=o(c,i.props)).ref=Va(r,c,i),a.return=r,r=a;break e}t(r,c);break}n(r,c),c=c.sibling}i.type===C?((a=Zu(i.props.children,r.mode,s,i.key)).return=r,r=a):((s=Ou(i.type,i.key,i.props,null,r.mode,s)).ref=Va(r,a,i),s.return=r,r=s)}return l(r);case I:e:{for(c=i.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){t(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}t(r,a);break}n(r,a),a=a.sibling}(a=Fu(i,r.mode,s)).return=r,r=a}return l(r);case M:return e(r,a,(c=i._init)(i._payload),s)}if(ne(i))return v(r,a,i,s);if(O(i))return m(r,a,i,s);qa(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(t(r,a.sibling),(a=o(a,i)).return=r,r=a):(t(r,a),(a=Du(i,r.mode,s)).return=r,r=a),l(r)):t(r,a)}}var Qa=$a(!0),Ya=$a(!1),Ja={},ei=So(Ja),ni=So(Ja),ti=So(Ja);function ri(e){if(e===Ja)throw Error(a(174));return e}function oi(e,n){switch(wo(ti,n),wo(ni,e),wo(ei,Ja),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:se(null,"");break;default:n=se(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Po(ei),wo(ei,n)}function ai(){Po(ei),Po(ni),Po(ti)}function ii(e){ri(ti.current);var n=ri(ei.current),t=se(n,e.type);n!==t&&(wo(ni,e),wo(ei,t))}function li(e){ni.current===e&&(Po(ei),Po(ni))}var si=So(0);function ui(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var fi=b.ReactCurrentDispatcher,pi=b.ReactCurrentBatchConfig,hi=0,vi=null,mi=null,xi=null,gi=!1,yi=!1,bi=0,Ni=0;function Ii(){throw Error(a(321))}function Ci(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!lr(e[t],n[t]))return!1;return!0}function Ei(e,n,t,r,o,i){if(hi=i,vi=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,fi.current=null===e||null===e.memoizedState?ll:sl,e=t(r,o),yi){i=0;do{if(yi=!1,bi=0,25<=i)throw Error(a(301));i+=1,xi=mi=null,n.updateQueue=null,fi.current=ul,e=t(r,o)}while(yi)}if(fi.current=il,n=null!==mi&&null!==mi.next,hi=0,xi=mi=vi=null,gi=!1,n)throw Error(a(300));return e}function Si(){var e=0!==bi;return bi=0,e}function Pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xi?vi.memoizedState=xi=e:xi=xi.next=e,xi}function wi(){if(null===mi){var e=vi.alternate;e=null!==e?e.memoizedState:null}else e=mi.next;var n=null===xi?vi.memoizedState:xi.next;if(null!==n)xi=n,mi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mi=e).memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},null===xi?vi.memoizedState=xi=e:xi=xi.next=e}return xi}function Ai(e,n){return"function"===typeof n?n(e):n}function ki(e){var n=wi(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=mi,o=r.baseQueue,i=t.pending;if(null!==i){if(null!==o){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,t.pending=null}if(null!==o){i=o.next,r=r.baseState;var s=l=null,u=null,c=i;do{var d=c.lane;if((hi&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,l=r):u=u.next=f,vi.lanes|=d,Ls|=d}c=c.next}while(null!==c&&c!==i);null===u?l=r:u.next=s,lr(r,n.memoizedState)||(bl=!0),n.memoizedState=r,n.baseState=l,n.baseQueue=u,t.lastRenderedState=r}if(null!==(e=t.interleaved)){o=e;do{i=o.lane,vi.lanes|=i,Ls|=i,o=o.next}while(o!==e)}else null===o&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Ti(e){var n=wi(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=t.dispatch,o=t.pending,i=n.memoizedState;if(null!==o){t.pending=null;var l=o=o.next;do{i=e(i,l.action),l=l.next}while(l!==o);lr(i,n.memoizedState)||(bl=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function _i(){}function Mi(e,n){var t=vi,r=wi(),o=n(),i=!lr(r.memoizedState,o);if(i&&(r.memoizedState=o,bl=!0),r=r.queue,Gi(Oi.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==xi&&1&xi.memoizedState.tag){if(t.flags|=2048,Fi(9,ji.bind(null,t,r,o,n),void 0,null),null===Ts)throw Error(a(349));0!==(30&hi)||Ri(t,n,o)}return o}function Ri(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=vi.updateQueue)?(n={lastEffect:null,stores:null},vi.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function ji(e,n,t,r){n.value=t,n.getSnapshot=r,Zi(n)&&Li(e)}function Oi(e,n,t){return t((function(){Zi(n)&&Li(e)}))}function Zi(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!lr(e,t)}catch(r){return!0}}function Li(e){var n=Ta(e,1);null!==n&&ru(n,e,1,-1)}function Di(e){var n=Pi();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n.queue=e,e=e.dispatch=tl.bind(null,vi,e),[n.memoizedState,e]}function Fi(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=vi.updateQueue)?(n={lastEffect:null,stores:null},vi.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Bi(){return wi().memoizedState}function zi(e,n,t,r){var o=Pi();vi.flags|=e,o.memoizedState=Fi(1|n,t,void 0,void 0===r?null:r)}function Wi(e,n,t,r){var o=wi();r=void 0===r?null:r;var a=void 0;if(null!==mi){var i=mi.memoizedState;if(a=i.destroy,null!==r&&Ci(r,i.deps))return void(o.memoizedState=Fi(n,t,a,r))}vi.flags|=e,o.memoizedState=Fi(1|n,t,a,r)}function Ui(e,n){return zi(8390656,8,e,n)}function Gi(e,n){return Wi(2048,8,e,n)}function Hi(e,n){return Wi(4,2,e,n)}function Ki(e,n){return Wi(4,4,e,n)}function Vi(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function qi(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Wi(4,4,Vi.bind(null,n,e),t)}function Xi(){}function $i(e,n){var t=wi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Ci(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Qi(e,n){var t=wi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Ci(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Yi(e,n,t){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=t):(lr(t,n)||(t=mn(),vi.lanes|=t,Ls|=t,e.baseState=!0),n)}function Ji(e,n){var t=bn;bn=0!==t&&4>t?t:4,e(!0);var r=pi.transition;pi.transition={};try{e(!1),n()}finally{bn=t,pi.transition=r}}function el(){return wi().memoizedState}function nl(e,n,t){var r=tu(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},rl(e))ol(n,t);else if(null!==(t=ka(e,n,t,r))){ru(t,e,r,nu()),al(t,n,r)}}function tl(e,n,t){var r=tu(e),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(rl(e))ol(n,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,l=a(i,t);if(o.hasEagerState=!0,o.eagerState=l,lr(l,i)){var s=n.interleaved;return null===s?(o.next=o,Aa(n)):(o.next=s.next,s.next=o),void(n.interleaved=o)}}catch(u){}null!==(t=ka(e,n,o,r))&&(ru(t,e,r,o=nu()),al(t,n,r))}}function rl(e){var n=e.alternate;return e===vi||null!==n&&n===vi}function ol(e,n){yi=gi=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function al(e,n,t){if(0!==(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,yn(e,t)}}var il={readContext:Pa,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},ll={readContext:Pa,useCallback:function(e,n){return Pi().memoizedState=[e,void 0===n?null:n],e},useContext:Pa,useEffect:Ui,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,zi(4194308,4,Vi.bind(null,n,e),t)},useLayoutEffect:function(e,n){return zi(4194308,4,e,n)},useInsertionEffect:function(e,n){return zi(4,2,e,n)},useMemo:function(e,n){var t=Pi();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Pi();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=nl.bind(null,vi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pi().memoizedState=e},useState:Di,useDebugValue:Xi,useDeferredValue:function(e){return Pi().memoizedState=e},useTransition:function(){var e=Di(!1),n=e[0];return e=Ji.bind(null,e[1]),Pi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=vi,o=Pi();if(aa){if(void 0===t)throw Error(a(407));t=t()}else{if(t=n(),null===Ts)throw Error(a(349));0!==(30&hi)||Ri(r,n,t)}o.memoizedState=t;var i={value:t,getSnapshot:n};return o.queue=i,Ui(Oi.bind(null,r,i,e),[e]),r.flags|=2048,Fi(9,ji.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=Pi(),n=Ts.identifierPrefix;if(aa){var t=Yo;n=":"+n+"R"+(t=(Qo&~(1<<32-ln(Qo)-1)).toString(32)+t),0<(t=bi++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=Ni++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},sl={readContext:Pa,useCallback:$i,useContext:Pa,useEffect:Gi,useImperativeHandle:qi,useInsertionEffect:Hi,useLayoutEffect:Ki,useMemo:Qi,useReducer:ki,useRef:Bi,useState:function(){return ki(Ai)},useDebugValue:Xi,useDeferredValue:function(e){return Yi(wi(),mi.memoizedState,e)},useTransition:function(){return[ki(Ai)[0],wi().memoizedState]},useMutableSource:_i,useSyncExternalStore:Mi,useId:el,unstable_isNewReconciler:!1},ul={readContext:Pa,useCallback:$i,useContext:Pa,useEffect:Gi,useImperativeHandle:qi,useInsertionEffect:Hi,useLayoutEffect:Ki,useMemo:Qi,useReducer:Ti,useRef:Bi,useState:function(){return Ti(Ai)},useDebugValue:Xi,useDeferredValue:function(e){var n=wi();return null===mi?n.memoizedState=e:Yi(n,mi.memoizedState,e)},useTransition:function(){return[Ti(Ai)[0],wi().memoizedState]},useMutableSource:_i,useSyncExternalStore:Mi,useId:el,unstable_isNewReconciler:!1};function cl(e,n){try{var t="",r=n;do{t+=z(r),r=r.return}while(r);var o=t}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:n,stack:o,digest:null}}function dl(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function fl(e,n){try{console.error(n.value)}catch(t){setTimeout((function(){throw t}))}}var pl="function"===typeof WeakMap?WeakMap:Map;function hl(e,n,t){(t=ja(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Hs||(Hs=!0,Ks=r),fl(0,n)},t}function vl(e,n,t){(t=ja(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=n.value;t.payload=function(){return r(o)},t.callback=function(){fl(0,n)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){fl(0,n),"function"!==typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function ml(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new pl;var o=new Set;r.set(n,o)}else void 0===(o=r.get(n))&&(o=new Set,r.set(n,o));o.has(t)||(o.add(t),e=Pu.bind(null,e,n,t),n.then(e,e))}function xl(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function gl(e,n,t,r,o){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=ja(-1,1)).tag=2,Oa(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var yl=b.ReactCurrentOwner,bl=!1;function Nl(e,n,t,r){n.child=null===e?Ya(n,null,t,r):Qa(n,e.child,t,r)}function Il(e,n,t,r,o){t=t.render;var a=n.ref;return Sa(n,o),r=Ei(e,n,t,r,a,o),t=Si(),null===e||bl?(aa&&t&&na(n),n.flags|=1,Nl(e,n,r,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Hl(e,n,o))}function Cl(e,n,t,r,o){if(null===e){var a=t.type;return"function"!==typeof a||Ru(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Ou(t.type,null,r,n,n.mode,o)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,El(e,n,a,r,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:sr)(i,r)&&e.ref===n.ref)return Hl(e,n,o)}return n.flags|=1,(e=ju(a,r)).ref=n.ref,e.return=n,n.child=e}function El(e,n,t,r,o){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===n.ref){if(bl=!1,n.pendingProps=r=a,0===(e.lanes&o))return n.lanes=e.lanes,Hl(e,n,o);0!==(131072&e.flags)&&(bl=!0)}}return wl(e,n,t,r,o)}function Sl(e,n,t){var r=n.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},wo(js,Rs),Rs|=t;else{if(0===(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,wo(js,Rs),Rs|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,wo(js,Rs),Rs|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,wo(js,Rs),Rs|=r;return Nl(e,n,o,t),n.child}function Pl(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function wl(e,n,t,r,o){var a=Ro(t)?_o:ko.current;return a=Mo(n,a),Sa(n,o),t=Ei(e,n,t,r,a,o),r=Si(),null===e||bl?(aa&&r&&na(n),n.flags|=1,Nl(e,n,t,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Hl(e,n,o))}function Al(e,n,t,r,o){if(Ro(t)){var a=!0;Lo(n)}else a=!1;if(Sa(n,o),null===n.stateNode)Gl(e,n),Ga(n,t,r),Ka(n,t,r,o),r=!0;else if(null===e){var i=n.stateNode,l=n.memoizedProps;i.props=l;var s=i.context,u=t.contextType;"object"===typeof u&&null!==u?u=Pa(u):u=Mo(n,u=Ro(t)?_o:ko.current);var c=t.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||s!==u)&&Ha(n,i,r,u),_a=!1;var f=n.memoizedState;i.state=f,Da(n,r,i,o),s=n.memoizedState,l!==r||f!==s||To.current||_a?("function"===typeof c&&(za(n,t,c,r),s=n.memoizedState),(l=_a||Ua(n,t,l,r,f,s,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(n.flags|=4194308)):("function"===typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=s),i.props=r,i.state=s,i.context=u,r=l):("function"===typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Ra(e,n),l=n.memoizedProps,u=n.type===n.elementType?l:xa(n.type,l),i.props=u,d=n.pendingProps,f=i.context,"object"===typeof(s=t.contextType)&&null!==s?s=Pa(s):s=Mo(n,s=Ro(t)?_o:ko.current);var p=t.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||f!==s)&&Ha(n,i,r,s),_a=!1,f=n.memoizedState,i.state=f,Da(n,r,i,o);var h=n.memoizedState;l!==d||f!==h||To.current||_a?("function"===typeof p&&(za(n,t,p,r),h=n.memoizedState),(u=_a||Ua(n,t,u,r,f,h,s)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof i.componentDidUpdate&&(n.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=s,r=u):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),r=!1)}return kl(e,n,t,r,a,o)}function kl(e,n,t,r,o,a){Pl(e,n);var i=0!==(128&n.flags);if(!r&&!i)return o&&Do(n,t,!1),Hl(e,n,a);r=n.stateNode,yl.current=n;var l=i&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=Qa(n,e.child,null,a),n.child=Qa(n,null,l,a)):Nl(e,n,l,a),n.memoizedState=r.state,o&&Do(n,t,!0),n.child}function Tl(e){var n=e.stateNode;n.pendingContext?Oo(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Oo(0,n.context,!1),oi(e,n.containerInfo)}function _l(e,n,t,r,o){return ha(),va(o),n.flags|=256,Nl(e,n,t,r),n.child}var Ml,Rl,jl,Ol,Zl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,n,t){var r,o=n.pendingProps,i=si.current,l=!1,s=0!==(128&n.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),wo(si,1&i),null===e)return ca(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(s=o.children,e=o.fallback,l?(o=n.mode,l=n.child,s={mode:"hidden",children:s},0===(1&o)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Lu(s,o,0,null),e=Zu(e,o,t,null),l.return=n,e.return=n,l.sibling=e,n.child=l,n.child.memoizedState=Ll(t),n.memoizedState=Zl,e):Fl(n,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,o,i,l){if(t)return 256&n.flags?(n.flags&=-257,Bl(e,n,l,r=dl(Error(a(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,o=n.mode,r=Lu({mode:"visible",children:r.children},o,0,null),(i=Zu(i,o,l,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,0!==(1&n.mode)&&Qa(n,e.child,null,l),n.child.memoizedState=Ll(l),n.memoizedState=Zl,i);if(0===(1&n.mode))return Bl(e,n,l,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,Bl(e,n,l,r=dl(i=Error(a(419)),r,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(r=Ts)){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|l))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Ta(e,o),ru(r,e,o,-1))}return mu(),Bl(e,n,l,r=dl(Error(a(421))))}return"$?"===o.data?(n.flags|=128,n.child=e.child,n=Au.bind(null,e),o._reactRetry=n,null):(e=i.treeContext,oa=uo(o.nextSibling),ra=n,aa=!0,ia=null,null!==e&&(qo[Xo++]=Qo,qo[Xo++]=Yo,qo[Xo++]=$o,Qo=e.id,Yo=e.overflow,$o=n),n=Fl(n,r.children),n.flags|=4096,n)}(e,n,s,o,r,i,t);if(l){l=o.fallback,s=n.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&s)&&n.child!==i?((o=n.child).childLanes=0,o.pendingProps=u,n.deletions=null):(o=ju(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=ju(r,l):(l=Zu(l,s,t,null)).flags|=2,l.return=n,o.return=n,o.sibling=l,n.child=o,o=l,l=n.child,s=null===(s=e.child.memoizedState)?Ll(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~t,n.memoizedState=Zl,o}return e=(l=e.child).sibling,o=ju(l,{mode:"visible",children:o.children}),0===(1&n.mode)&&(o.lanes=t),o.return=n,o.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=o,n.memoizedState=null,o}function Fl(e,n){return(n=Lu({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Bl(e,n,t,r){return null!==r&&va(r),Qa(n,e.child,null,t),(e=Fl(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function zl(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Ea(e.return,n,t)}function Wl(e,n,t,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o)}function Ul(e,n,t){var r=n.pendingProps,o=r.revealOrder,a=r.tail;if(Nl(e,n,r.children,t),0!==(2&(r=si.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zl(e,t,n);else if(19===e.tag)zl(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(wo(si,r),0===(1&n.mode))n.memoizedState=null;else switch(o){case"forwards":for(t=n.child,o=null;null!==t;)null!==(e=t.alternate)&&null===ui(e)&&(o=t),t=t.sibling;null===(t=o)?(o=n.child,n.child=null):(o=t.sibling,t.sibling=null),Wl(n,!1,o,t,a);break;case"backwards":for(t=null,o=n.child,n.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ui(e)){n.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}Wl(n,!0,t,null,a);break;case"together":Wl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gl(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Hl(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ls|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(a(153));if(null!==n.child){for(t=ju(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=ju(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Kl(e,n){if(!aa)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function ql(e,n,t){var r=n.pendingProps;switch(ta(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vl(n),null;case 1:case 17:return Ro(n.type)&&jo(),Vl(n),null;case 3:return r=n.stateNode,ai(),Po(To),Po(ko),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==ia&&(lu(ia),ia=null))),Rl(e,n),Vl(n),null;case 5:li(n);var o=ri(ti.current);if(t=n.type,null!==e&&null!=n.stateNode)jl(e,n,t,r,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(a(166));return Vl(n),null}if(e=ri(ei.current),fa(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[po]=n,r[ho]=i,e=0!==(1&n.mode),t){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Or.length;o++)Fr(Or[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":oe(r,i),Fr("invalid",r)}for(var s in ge(t,i),o=null,i)if(i.hasOwnProperty(s)){var u=i[s];"children"===s?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),o=["children",""+u]):l.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Fr("scroll",r)}switch(t){case"input":K(r),J(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=o,n.updateQueue=r,null!==r&&(n.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(t,{is:r.is}):(e=s.createElement(t),"select"===t&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,t),e[po]=n,e[ho]=r,Ml(e,n,!1,!1),n.stateNode=e;e:{switch(s=ye(t,r),t){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Fr(Or[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":$(e,r),o=X(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(i in ge(t,o),u=o)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?me(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==t||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Fr("scroll",e):null!=c&&y(e,i,c,s))}switch(t){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Vl(n),null;case 6:if(e&&null!=n.stateNode)Ol(e,n,e.memoizedProps,r);else{if("string"!==typeof r&&null===n.stateNode)throw Error(a(166));if(t=ri(ti.current),ri(ei.current),fa(n)){if(r=n.stateNode,t=n.memoizedProps,r[po]=n,(i=r.nodeValue!==t)&&null!==(e=ra))switch(e.tag){case 3:Yr(r.nodeValue,t,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,t,0!==(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[po]=n,n.stateNode=r}return Vl(n),null;case 13:if(Po(si),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&n.mode)&&0===(128&n.flags))pa(),ha(),n.flags|=98560,i=!1;else if(i=fa(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(a(317));i[po]=n}else ha(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Vl(n),i=!1}else null!==ia&&(lu(ia),ia=null),i=!0;if(!i)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=t,n):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&si.current)?0===Os&&(Os=3):mu())),null!==n.updateQueue&&(n.flags|=4),Vl(n),null);case 4:return ai(),Rl(e,n),null===e&&Wr(n.stateNode.containerInfo),Vl(n),null;case 10:return Ca(n.type._context),Vl(n),null;case 19:if(Po(si),null===(i=n.memoizedState))return Vl(n),null;if(r=0!==(128&n.flags),null===(s=i.rendering))if(r)Kl(i,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(s=ui(e))){for(n.flags|=128,Kl(i,!1),null!==(r=s.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return wo(si,1&si.current|2),n.child}e=e.sibling}null!==i.tail&&Qe()>Us&&(n.flags|=128,r=!0,Kl(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ui(s))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!aa)return Vl(n),null}else 2*Qe()-i.renderingStartTime>Us&&1073741824!==t&&(n.flags|=128,r=!0,Kl(i,!1),n.lanes=4194304);i.isBackwards?(s.sibling=n.child,n.child=s):(null!==(t=i.last)?t.sibling=s:n.child=s,i.last=s)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Qe(),n.sibling=null,t=si.current,wo(si,r?1&t|2:1&t),n):(Vl(n),null);case 22:case 23:return fu(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&0!==(1&n.mode)?0!==(1073741824&Rs)&&(Vl(n),6&n.subtreeFlags&&(n.flags|=8192)):Vl(n),null;case 24:case 25:return null}throw Error(a(156,n.tag))}function Xl(e,n){switch(ta(n),n.tag){case 1:return Ro(n.type)&&jo(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return ai(),Po(To),Po(ko),di(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return li(n),null;case 13:if(Po(si),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(a(340));ha()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Po(si),null;case 4:return ai(),null;case 10:return Ca(n.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ml=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Rl=function(){},jl=function(e,n,t,r){var o=e.memoizedProps;if(o!==r){e=n.stateNode,ri(ei.current);var a,i=null;switch(t){case"input":o=X(e,o),r=X(e,r),i=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ge(t,r),t=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(a in s)s.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(t||(t={}),t[a]=u[a])}else t||(i||(i=[]),i.push(c,t)),t=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),i||s===u||(i=[])):(i=i||[]).push(c,u))}t&&(i=i||[]).push("style",t);var c=i;(n.updateQueue=c)&&(n.flags|=4)}},Ol=function(e,n,t,r){t!==r&&(n.flags|=4)};var $l=!1,Ql=!1,Yl="function"===typeof WeakSet?WeakSet:Set,Jl=null;function es(e,n){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Su(e,n,r)}else t.current=null}function ns(e,n,t){try{t()}catch(r){Su(e,n,r)}}var ts=!1;function rs(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&ns(n,t,a)}o=o.next}while(o!==r)}}function os(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function as(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"===typeof n?n(e):n.current=e}}function is(e){var n=e.alternate;null!==n&&(e.alternate=null,is(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[po],delete n[ho],delete n[mo],delete n[xo],delete n[go])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function us(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(us(e,n,t),e=e.sibling;null!==e;)us(e,n,t),e=e.sibling}function cs(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,n,t),e=e.sibling;null!==e;)cs(e,n,t),e=e.sibling}var ds=null,fs=!1;function ps(e,n,t){for(t=t.child;null!==t;)hs(e,n,t),t=t.sibling}function hs(e,n,t){if(an&&"function"===typeof an.onCommitFiberUnmount)try{an.onCommitFiberUnmount(on,t)}catch(l){}switch(t.tag){case 5:Ql||es(t,n);case 6:var r=ds,o=fs;ds=null,ps(e,n,t),fs=o,null!==(ds=r)&&(fs?(e=ds,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):ds.removeChild(t.stateNode));break;case 18:null!==ds&&(fs?(e=ds,t=t.stateNode,8===e.nodeType?so(e.parentNode,t):1===e.nodeType&&so(e,t),Un(e)):so(ds,t.stateNode));break;case 4:r=ds,o=fs,ds=t.stateNode.containerInfo,fs=!0,ps(e,n,t),ds=r,fs=o;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&ns(t,n,i),o=o.next}while(o!==r)}ps(e,n,t);break;case 1:if(!Ql&&(es(t,n),"function"===typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(l){Su(t,n,l)}ps(e,n,t);break;case 21:ps(e,n,t);break;case 22:1&t.mode?(Ql=(r=Ql)||null!==t.memoizedState,ps(e,n,t),Ql=r):ps(e,n,t);break;default:ps(e,n,t)}}function vs(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Yl),n.forEach((function(n){var r=ku.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}function ms(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var o=t[r];try{var i=e,l=n,s=l;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,fs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ds)throw Error(a(160));hs(i,l,o),ds=null,fs=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){Su(o,n,c)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)xs(n,e),n=n.sibling}function xs(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(n,e),gs(e),4&r){try{rs(3,e,e.return),os(3,e)}catch(m){Su(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:ms(n,e),gs(e),512&r&&null!==t&&es(t,t.return);break;case 5:if(ms(n,e),gs(e),512&r&&null!==t&&es(t,t.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,l=null!==t?t.memoizedProps:i,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===i.type&&null!=i.name&&Q(o,i),ye(s,l);var c=ye(s,i);for(l=0;l<u.length;l+=2){var d=u[l],f=u[l+1];"style"===d?me(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):y(o,d,f,c)}switch(s){case"input":Y(o,i);break;case"textarea":ae(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?te(o,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?te(o,!!i.multiple,i.defaultValue,!0):te(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(m){Su(e,e.return,m)}}break;case 6:if(ms(n,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){Su(e,e.return,m)}}break;case 3:if(ms(n,e),gs(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Un(n.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:ms(n,e),gs(e);break;case 13:ms(n,e),gs(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Ws=Qe())),4&r&&vs(e);break;case 22:if(d=null!==t&&null!==t.memoizedState,1&e.mode?(Ql=(c=Ql)||d,ms(n,e),Ql=c):ms(n,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Jl=e,d=e.child;null!==d;){for(f=Jl=d;null!==Jl;){switch(h=(p=Jl).child,p.tag){case 0:case 11:case 14:case 15:rs(4,p,p.return);break;case 1:es(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,t=p.return;try{n=r,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(m){Su(r,t,m)}}break;case 5:es(p,p.return);break;case 22:if(null!==p.memoizedState){Is(f);continue}}null!==h?(h.return=p,Jl=h):Is(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,l=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=ve("display",l))}catch(m){Su(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(n,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(ls(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cs(e,ss(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;us(e,ss(e),i);break;default:throw Error(a(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function ys(e,n,t){Jl=e,bs(e,n,t)}function bs(e,n,t){for(var r=0!==(1&e.mode);null!==Jl;){var o=Jl,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||$l;if(!i){var l=o.alternate,s=null!==l&&null!==l.memoizedState||Ql;l=$l;var u=Ql;if($l=i,(Ql=s)&&!u)for(Jl=o;null!==Jl;)s=(i=Jl).child,22===i.tag&&null!==i.memoizedState?Cs(o):null!==s?(s.return=i,Jl=s):Cs(o);for(;null!==a;)Jl=a,bs(a,n,t),a=a.sibling;Jl=o,$l=l,Ql=u}Ns(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Jl=a):Ns(e)}}function Ns(e){for(;null!==Jl;){var n=Jl;if(0!==(8772&n.flags)){var t=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Ql||os(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Ql)if(null===t)r.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:xa(n.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Fa(n,i,r);break;case 3:var l=n.updateQueue;if(null!==l){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Fa(n,l,t)}break;case 5:var s=n.stateNode;if(null===t&&4&n.flags){t=s;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var c=n.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Un(f)}}}break;default:throw Error(a(163))}Ql||512&n.flags&&as(n)}catch(p){Su(n,n.return,p)}}if(n===e){Jl=null;break}if(null!==(t=n.sibling)){t.return=n.return,Jl=t;break}Jl=n.return}}function Is(e){for(;null!==Jl;){var n=Jl;if(n===e){Jl=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Jl=t;break}Jl=n.return}}function Cs(e){for(;null!==Jl;){var n=Jl;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{os(4,n)}catch(s){Su(n,t,s)}break;case 1:var r=n.stateNode;if("function"===typeof r.componentDidMount){var o=n.return;try{r.componentDidMount()}catch(s){Su(n,o,s)}}var a=n.return;try{as(n)}catch(s){Su(n,a,s)}break;case 5:var i=n.return;try{as(n)}catch(s){Su(n,i,s)}}}catch(s){Su(n,n.return,s)}if(n===e){Jl=null;break}var l=n.sibling;if(null!==l){l.return=n.return,Jl=l;break}Jl=n.return}}var Es,Ss=Math.ceil,Ps=b.ReactCurrentDispatcher,ws=b.ReactCurrentOwner,As=b.ReactCurrentBatchConfig,ks=0,Ts=null,_s=null,Ms=0,Rs=0,js=So(0),Os=0,Zs=null,Ls=0,Ds=0,Fs=0,Bs=null,zs=null,Ws=0,Us=1/0,Gs=null,Hs=!1,Ks=null,Vs=null,qs=!1,Xs=null,$s=0,Qs=0,Ys=null,Js=-1,eu=0;function nu(){return 0!==(6&ks)?Qe():-1!==Js?Js:Js=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&ks)&&0!==Ms?Ms&-Ms:null!==ma.transition?(0===eu&&(eu=mn()),eu):0!==(e=bn)?e:e=void 0===(e=window.event)?16:Qn(e.type)}function ru(e,n,t,r){if(50<Qs)throw Qs=0,Ys=null,Error(a(185));gn(e,t,r),0!==(2&ks)&&e===Ts||(e===Ts&&(0===(2&ks)&&(Ds|=t),4===Os&&su(e,Ms)),ou(e,r),1===t&&0===ks&&0===(1&n.mode)&&(Us=Qe()+500,Bo&&Uo()))}function ou(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ln(a),l=1<<i,s=o[i];-1===s?0!==(l&t)&&0===(l&r)||(o[i]=hn(l,n)):s<=n&&(e.expiredLanes|=l),a&=~l}}(e,n);var r=pn(e,e===Ts?Ms:0);if(0===r)null!==t&&qe(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&qe(t),1===n)0===e.tag?function(e){Bo=!0,Wo(e)}(uu.bind(null,e)):Wo(uu.bind(null,e)),io((function(){0===(6&ks)&&Uo()})),t=null;else{switch(Nn(r)){case 1:t=Je;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Tu(t,au.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function au(e,n){if(Js=-1,eu=0,0!==(6&ks))throw Error(a(327));var t=e.callbackNode;if(Cu()&&e.callbackNode!==t)return null;var r=pn(e,e===Ts?Ms:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||n)n=xu(e,r);else{n=r;var o=ks;ks|=2;var i=vu();for(Ts===e&&Ms===n||(Gs=null,Us=Qe()+500,pu(e,n));;)try{yu();break}catch(s){hu(e,s)}Ia(),Ps.current=i,ks=o,null!==_s?n=0:(Ts=null,Ms=0,n=Os)}if(0!==n){if(2===n&&(0!==(o=vn(e))&&(r=o,n=iu(e,o))),1===n)throw t=Zs,pu(e,0),su(e,r),ou(e,Qe()),t;if(6===n)su(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var o=t[r],a=o.getSnapshot;o=o.value;try{if(!lr(a(),o))return!1}catch(l){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(o)&&(2===(n=xu(e,r))&&(0!==(i=vn(e))&&(r=i,n=iu(e,i))),1===n))throw t=Zs,pu(e,0),su(e,r),ou(e,Qe()),t;switch(e.finishedWork=o,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(e,zs,Gs);break;case 3:if(su(e,r),(130023424&r)===r&&10<(n=Ws+500-Qe())){if(0!==pn(e,0))break;if(((o=e.suspendedLanes)&r)!==r){nu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Iu.bind(null,e,zs,Gs),n);break}Iu(e,zs,Gs);break;case 4:if(su(e,r),(4194240&r)===r)break;for(n=e.eventTimes,o=-1;0<r;){var l=31-ln(r);i=1<<l,(l=n[l])>o&&(o=l),r&=~i}if(r=o,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ro(Iu.bind(null,e,zs,Gs),r);break}Iu(e,zs,Gs);break;default:throw Error(a(329))}}}return ou(e,Qe()),e.callbackNode===t?au.bind(null,e):null}function iu(e,n){var t=Bs;return e.current.memoizedState.isDehydrated&&(pu(e,n).flags|=256),2!==(e=xu(e,n))&&(n=zs,zs=t,null!==n&&lu(n)),e}function lu(e){null===zs?zs=e:zs.push.apply(zs,e)}function su(e,n){for(n&=~Fs,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-ln(n),r=1<<t;e[t]=-1,n&=~r}}function uu(e){if(0!==(6&ks))throw Error(a(327));Cu();var n=pn(e,0);if(0===(1&n))return ou(e,Qe()),null;var t=xu(e,n);if(0!==e.tag&&2===t){var r=vn(e);0!==r&&(n=r,t=iu(e,r))}if(1===t)throw t=Zs,pu(e,0),su(e,n),ou(e,Qe()),t;if(6===t)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Iu(e,zs,Gs),ou(e,Qe()),null}function cu(e,n){var t=ks;ks|=1;try{return e(n)}finally{0===(ks=t)&&(Us=Qe()+500,Bo&&Uo())}}function du(e){null!==Xs&&0===Xs.tag&&0===(6&ks)&&Cu();var n=ks;ks|=1;var t=As.transition,r=bn;try{if(As.transition=null,bn=1,e)return e()}finally{bn=r,As.transition=t,0===(6&(ks=n))&&Uo()}}function fu(){Rs=js.current,Po(js)}function pu(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,oo(t)),null!==_s)for(t=_s.return;null!==t;){var r=t;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&jo();break;case 3:ai(),Po(To),Po(ko),di();break;case 5:li(r);break;case 4:ai();break;case 13:case 19:Po(si);break;case 10:Ca(r.type._context);break;case 22:case 23:fu()}t=t.return}if(Ts=e,_s=e=ju(e.current,null),Ms=Rs=n,Os=0,Zs=null,Fs=Ds=Ls=0,zs=Bs=null,null!==wa){for(n=0;n<wa.length;n++)if(null!==(r=(t=wa[n]).interleaved)){t.interleaved=null;var o=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}t.pending=r}wa=null}return e}function hu(e,n){for(;;){var t=_s;try{if(Ia(),fi.current=il,gi){for(var r=vi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}gi=!1}if(hi=0,xi=mi=vi=null,yi=!1,bi=0,ws.current=null,null===t||null===t.return){Os=1,Zs=n,_s=null;break}e:{var i=e,l=t.return,s=t,u=n;if(n=Ms,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=xl(l);if(null!==h){h.flags&=-257,gl(h,l,s,0,n),1&h.mode&&ml(i,c,n),u=c;var v=(n=h).updateQueue;if(null===v){var m=new Set;m.add(u),n.updateQueue=m}else v.add(u);break e}if(0===(1&n)){ml(i,c,n),mu();break e}u=Error(a(426))}else if(aa&&1&s.mode){var x=xl(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),gl(x,l,s,0,n),va(cl(u,s));break e}}i=u=cl(u,s),4!==Os&&(Os=2),null===Bs?Bs=[i]:Bs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,La(i,hl(0,u,n));break e;case 1:s=u;var g=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vs||!Vs.has(y)))){i.flags|=65536,n&=-n,i.lanes|=n,La(i,vl(i,s,n));break e}}i=i.return}while(null!==i)}Nu(t)}catch(b){n=b,_s===t&&null!==t&&(_s=t=t.return);continue}break}}function vu(){var e=Ps.current;return Ps.current=il,null===e?il:e}function mu(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ts||0===(268435455&Ls)&&0===(268435455&Ds)||su(Ts,Ms)}function xu(e,n){var t=ks;ks|=2;var r=vu();for(Ts===e&&Ms===n||(Gs=null,pu(e,n));;)try{gu();break}catch(o){hu(e,o)}if(Ia(),ks=t,Ps.current=r,null!==_s)throw Error(a(261));return Ts=null,Ms=0,Os}function gu(){for(;null!==_s;)bu(_s)}function yu(){for(;null!==_s&&!Xe();)bu(_s)}function bu(e){var n=Es(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===n?Nu(e):_s=n,ws.current=null}function Nu(e){var n=e;do{var t=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(t=ql(t,n,Rs)))return void(_s=t)}else{if(null!==(t=Xl(t,n)))return t.flags&=32767,void(_s=t);if(null===e)return Os=6,void(_s=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(_s=n);_s=n=e}while(null!==n);0===Os&&(Os=5)}function Iu(e,n,t){var r=bn,o=As.transition;try{As.transition=null,bn=1,function(e,n,t,r){do{Cu()}while(null!==Xs);if(0!==(6&ks))throw Error(a(327));t=e.finishedWork;var o=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var o=31-ln(t),a=1<<o;n[o]=0,r[o]=-1,e[o]=-1,t&=~a}}(e,i),e===Ts&&(_s=Ts=null,Ms=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||qs||(qs=!0,Tu(nn,(function(){return Cu(),null}))),i=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||i){i=As.transition,As.transition=null;var l=bn;bn=1;var s=ks;ks|=4,ws.current=null,function(e,n){if(eo=Hn,pr(e=fr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(N){t=null;break e}var l=0,s=-1,u=-1,c=0,d=0,f=e,p=null;n:for(;;){for(var h;f!==t||0!==o&&3!==f.nodeType||(s=l+o),f!==i||0!==r&&3!==f.nodeType||(u=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break n;if(p===t&&++c===o&&(s=l),p===i&&++d===r&&(u=l),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}t=-1===s||-1===u?null:{start:s,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(no={focusedElem:e,selectionRange:t},Hn=!1,Jl=n;null!==Jl;)if(e=(n=Jl).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Jl=e;else for(;null!==Jl;){n=Jl;try{var v=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,x=v.memoizedState,g=n.stateNode,y=g.getSnapshotBeforeUpdate(n.elementType===n.type?m:xa(n.type,m),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=n.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(N){Su(n,n.return,N)}if(null!==(e=n.sibling)){e.return=n.return,Jl=e;break}Jl=n.return}v=ts,ts=!1}(e,t),xs(t,e),hr(no),Hn=!!eo,no=eo=null,e.current=t,ys(t,e,o),$e(),ks=s,bn=l,As.transition=i}else e.current=t;if(qs&&(qs=!1,Xs=e,$s=o),i=e.pendingLanes,0===i&&(Vs=null),function(e){if(an&&"function"===typeof an.onCommitFiberRoot)try{an.onCommitFiberRoot(on,e,void 0,128===(128&e.current.flags))}catch(n){}}(t.stateNode),ou(e,Qe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)o=n[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hs)throw Hs=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&Cu(),i=e.pendingLanes,0!==(1&i)?e===Ys?Qs++:(Qs=0,Ys=e):Qs=0,Uo()}(e,n,t,r)}finally{As.transition=o,bn=r}return null}function Cu(){if(null!==Xs){var e=Nn($s),n=As.transition,t=bn;try{if(As.transition=null,bn=16>e?16:e,null===Xs)var r=!1;else{if(e=Xs,Xs=null,$s=0,0!==(6&ks))throw Error(a(331));var o=ks;for(ks|=4,Jl=e.current;null!==Jl;){var i=Jl,l=i.child;if(0!==(16&Jl.flags)){var s=i.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Jl=c;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:rs(8,d,i)}var f=d.child;if(null!==f)f.return=d,Jl=f;else for(;null!==Jl;){var p=(d=Jl).sibling,h=d.return;if(is(d),d===c){Jl=null;break}if(null!==p){p.return=h,Jl=p;break}Jl=h}}}var v=i.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(null!==m)}}Jl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Jl=l;else e:for(;null!==Jl;){if(0!==(2048&(i=Jl).flags))switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,Jl=g;break e}Jl=i.return}}var y=e.current;for(Jl=y;null!==Jl;){var b=(l=Jl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Jl=b;else e:for(l=y;null!==Jl;){if(0!==(2048&(s=Jl).flags))try{switch(s.tag){case 0:case 11:case 15:os(9,s)}}catch(I){Su(s,s.return,I)}if(s===l){Jl=null;break e}var N=s.sibling;if(null!==N){N.return=s.return,Jl=N;break e}Jl=s.return}}if(ks=o,Uo(),an&&"function"===typeof an.onPostCommitFiberRoot)try{an.onPostCommitFiberRoot(on,e)}catch(I){}r=!0}return r}finally{bn=t,As.transition=n}}return!1}function Eu(e,n,t){e=Oa(e,n=hl(0,n=cl(t,n),1),1),n=nu(),null!==e&&(gn(e,1,n),ou(e,n))}function Su(e,n,t){if(3===e.tag)Eu(e,e,t);else for(;null!==n;){if(3===n.tag){Eu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vs||!Vs.has(r))){n=Oa(n,e=vl(n,e=cl(t,e),1),1),e=nu(),null!==n&&(gn(n,1,e),ou(n,e));break}}n=n.return}}function Pu(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=nu(),e.pingedLanes|=e.suspendedLanes&t,Ts===e&&(Ms&t)===t&&(4===Os||3===Os&&(130023424&Ms)===Ms&&500>Qe()-Ws?pu(e,0):Fs|=t),ou(e,n)}function wu(e,n){0===n&&(0===(1&e.mode)?n=1:(n=dn,0===(130023424&(dn<<=1))&&(dn=4194304)));var t=nu();null!==(e=Ta(e,n))&&(gn(e,n,t),ou(e,t))}function Au(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),wu(e,t)}function ku(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(t=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(n),wu(e,t)}function Tu(e,n){return Ve(e,n)}function _u(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,n,t,r){return new _u(e,n,t,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,n){var t=e.alternate;return null===t?((t=Mu(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Ou(e,n,t,r,o,i){var l=2;if(r=e,"function"===typeof e)Ru(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case C:return Zu(t.children,o,i,n);case E:l=8,o|=8;break;case S:return(e=Mu(12,t,n,2|o)).elementType=S,e.lanes=i,e;case k:return(e=Mu(13,t,n,o)).elementType=k,e.lanes=i,e;case T:return(e=Mu(19,t,n,o)).elementType=T,e.lanes=i,e;case R:return Lu(t,o,i,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:l=10;break e;case w:l=9;break e;case A:l=11;break e;case _:l=14;break e;case M:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(n=Mu(l,t,n,o)).elementType=e,n.type=r,n.lanes=i,n}function Zu(e,n,t,r){return(e=Mu(7,e,r,n)).lanes=t,e}function Lu(e,n,t,r){return(e=Mu(22,e,r,n)).elementType=R,e.lanes=t,e.stateNode={isHidden:!1},e}function Du(e,n,t){return(e=Mu(6,e,null,n)).lanes=t,e}function Fu(e,n,t){return(n=Mu(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Bu(e,n,t,r,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xn(0),this.expirationTimes=xn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zu(e,n,t,r,o,a,i,l,s){return e=new Bu(e,n,t,l,s),1===n?(n=1,!0===a&&(n|=8)):n=0,a=Mu(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Wu(e){if(!e)return Ao;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ro(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(a(171))}if(1===e.tag){var t=e.type;if(Ro(t))return Zo(e,t,n)}return n}function Uu(e,n,t,r,o,a,i,l,s){return(e=zu(t,r,!0,e,0,a,0,l,s)).context=Wu(null),t=e.current,(a=ja(r=nu(),o=tu(t))).callback=void 0!==n&&null!==n?n:null,Oa(t,a,o),e.current.lanes=o,gn(e,o,r),ou(e,r),e}function Gu(e,n,t,r){var o=n.current,a=nu(),i=tu(o);return t=Wu(t),null===n.context?n.context=t:n.pendingContext=t,(n=ja(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Oa(o,n,i))&&(ru(e,o,i,a),Za(e,o,i)),i}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Vu(e,n){Ku(e,n),(e=e.alternate)&&Ku(e,n)}Es=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||To.current)bl=!0;else{if(0===(e.lanes&t)&&0===(128&n.flags))return bl=!1,function(e,n,t){switch(n.tag){case 3:Tl(n),ha();break;case 5:ii(n);break;case 1:Ro(n.type)&&Lo(n);break;case 4:oi(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,o=n.memoizedProps.value;wo(ga,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(wo(si,1&si.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Dl(e,n,t):(wo(si,1&si.current),null!==(e=Hl(e,n,t))?e.sibling:null);wo(si,1&si.current);break;case 19:if(r=0!==(t&n.childLanes),0!==(128&e.flags)){if(r)return Ul(e,n,t);n.flags|=128}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),wo(si,si.current),r)break;return null;case 22:case 23:return n.lanes=0,Sl(e,n,t)}return Hl(e,n,t)}(e,n,t);bl=0!==(131072&e.flags)}else bl=!1,aa&&0!==(1048576&n.flags)&&ea(n,Vo,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Gl(e,n),e=n.pendingProps;var o=Mo(n,ko.current);Sa(n,t),o=Ei(null,n,r,e,o,t);var i=Si();return n.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ro(r)?(i=!0,Lo(n)):i=!1,n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ma(n),o.updater=Wa,n.stateNode=o,o._reactInternals=n,Ka(n,r,e,t),n=kl(null,n,r,!0,i,t)):(n.tag=0,aa&&i&&na(n),Nl(null,n,o,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Gl(e,n),e=n.pendingProps,r=(o=r._init)(r._payload),n.type=r,o=n.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===_)return 14}return 2}(r),e=xa(r,e),o){case 0:n=wl(null,n,r,e,t);break e;case 1:n=Al(null,n,r,e,t);break e;case 11:n=Il(null,n,r,e,t);break e;case 14:n=Cl(null,n,r,xa(r.type,e),t);break e}throw Error(a(306,r,""))}return n;case 0:return r=n.type,o=n.pendingProps,wl(e,n,r,o=n.elementType===r?o:xa(r,o),t);case 1:return r=n.type,o=n.pendingProps,Al(e,n,r,o=n.elementType===r?o:xa(r,o),t);case 3:e:{if(Tl(n),null===e)throw Error(a(387));r=n.pendingProps,o=(i=n.memoizedState).element,Ra(e,n),Da(n,r,null,t);var l=n.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=_l(e,n,r,t,o=cl(Error(a(423)),n));break e}if(r!==o){n=_l(e,n,r,t,o=cl(Error(a(424)),n));break e}for(oa=uo(n.stateNode.containerInfo.firstChild),ra=n,aa=!0,ia=null,t=Ya(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(ha(),r===o){n=Hl(e,n,t);break e}Nl(e,n,r,t)}n=n.child}return n;case 5:return ii(n),null===e&&ca(n),r=n.type,o=n.pendingProps,i=null!==e?e.memoizedProps:null,l=o.children,to(r,o)?l=null:null!==i&&to(r,i)&&(n.flags|=32),Pl(e,n),Nl(e,n,l,t),n.child;case 6:return null===e&&ca(n),null;case 13:return Dl(e,n,t);case 4:return oi(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Qa(n,null,r,t):Nl(e,n,r,t),n.child;case 11:return r=n.type,o=n.pendingProps,Il(e,n,r,o=n.elementType===r?o:xa(r,o),t);case 7:return Nl(e,n,n.pendingProps,t),n.child;case 8:case 12:return Nl(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,o=n.pendingProps,i=n.memoizedProps,l=o.value,wo(ga,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===o.children&&!To.current){n=Hl(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=ja(-1,t&-t)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=t,null!==(u=i.alternate)&&(u.lanes|=t),Ea(i.return,t,n),s.lanes|=t;break}u=u.next}}else if(10===i.tag)l=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=t,null!==(s=l.alternate)&&(s.lanes|=t),Ea(l,t,n),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===n){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}Nl(e,n,o.children,t),n=n.child}return n;case 9:return o=n.type,r=n.pendingProps.children,Sa(n,t),r=r(o=Pa(o)),n.flags|=1,Nl(e,n,r,t),n.child;case 14:return o=xa(r=n.type,n.pendingProps),Cl(e,n,r,o=xa(r.type,o),t);case 15:return El(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,o=n.pendingProps,o=n.elementType===r?o:xa(r,o),Gl(e,n),n.tag=1,Ro(r)?(e=!0,Lo(n)):e=!1,Sa(n,t),Ga(n,r,o),Ka(n,r,o,t),kl(null,n,r,!0,e,t);case 19:return Ul(e,n,t);case 22:return Sl(e,n,t)}throw Error(a(156,n.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,n,t,r,o){var a=t._reactRootContainer;if(a){var i=a;if("function"===typeof o){var l=o;o=function(){var e=Hu(i);l.call(e)}}Gu(n,i,e,o)}else i=function(e,n,t,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Hu(i);a.call(e)}}var i=Uu(n,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=i,e[vo]=i.current,Wr(8===e.nodeType?e.parentNode:e),du(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var l=r;r=function(){var e=Hu(s);l.call(e)}}var s=zu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=s,e[vo]=s.current,Wr(8===e.nodeType?e.parentNode:e),du((function(){Gu(n,s,t,r)})),s}(t,n,e,o,r);return Hu(i)}$u.prototype.render=Xu.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(a(409));Gu(e,n,null,null)},$u.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;du((function(){Gu(null,e,null,null)})),n[vo]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var n=Sn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<jn.length&&0!==n&&n<jn[t].priority;t++);jn.splice(t,0,e),0===t&&Dn(e)}},In=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=fn(n.pendingLanes);0!==t&&(yn(n,1|t),ou(n,Qe()),0===(6&ks)&&(Us=Qe()+500,Uo()))}break;case 13:du((function(){var n=Ta(e,1);if(null!==n){var t=nu();ru(n,e,1,t)}})),Vu(e,1)}},Cn=function(e){if(13===e.tag){var n=Ta(e,134217728);if(null!==n)ru(n,e,134217728,nu());Vu(e,134217728)}},En=function(e){if(13===e.tag){var n=tu(e),t=Ta(e,n);if(null!==t)ru(t,e,n,nu());Vu(e,n)}},Sn=function(){return bn},Pn=function(e,n){var t=bn;try{return bn=e,n()}finally{bn=t}},Ie=function(e,n,t){switch(n){case"input":if(Y(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var o=Io(r);if(!o)throw Error(a(90));V(r),Y(r,o)}}}break;case"textarea":ae(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},Ae=cu,ke=du;var nc={usingClientEntryPoint:!1,Events:[bo,No,Io,Pe,we,cu]},tc={findFiberByHostInstance:yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{on=oc.inject(rc),an=oc}catch(ce){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(n))throw Error(a(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Qu(e))throw Error(a(299));var t=!1,r="",o=qu;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),n=zu(e,1,!1,null,0,t,0,r,o),e[vo]=n.current,Wr(8===e.nodeType?e.parentNode:e),new Xu(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(n))?null:e.stateNode},n.flushSync=function(e){return du(e)},n.hydrate=function(e,n,t){if(!Yu(n))throw Error(a(200));return ec(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Qu(e))throw Error(a(405));var r=null!=t&&t.hydratedSources||null,o=!1,i="",l=qu;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(o=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),n=Uu(n,null,e,1,null!=t?t:null,o,0,i,l),e[vo]=n.current,Wr(e),r)for(e=0;e<r.length;e++)o=(o=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o);return new $u(n)},n.render=function(e,n,t){if(!Yu(n))throw Error(a(200));return ec(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[vo]=null}))})),!0)},n.unstable_batchedUpdates=cu,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Yu(t))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,n,t,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,n,t){"use strict";var r=t(4164);n.createRoot=r.createRoot,n.hydrateRoot=r.hydrateRoot},4164:function(e,n,t){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(4463)},6374:function(e,n,t){"use strict";var r=t(2791),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,t){var r,a={},u=null,c=null;for(r in void 0!==t&&(u=""+t),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(c=n.ref),n)i.call(n,r)&&!s.hasOwnProperty(r)&&(a[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===a[r]&&(a[r]=n[r]);return{$$typeof:o,type:e,key:u,ref:c,props:a,_owner:l.current}}n.Fragment=a,n.jsx=u,n.jsxs=u},9117:function(e,n){"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function x(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}function g(){}function y(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=x.prototype;var b=y.prototype=new g;b.constructor=y,v(b,x.prototype),b.isPureReactComponent=!0;var N=Array.isArray,I=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,n,r){var o,a={},i=null,l=null;if(null!=n)for(o in void 0!==n.ref&&(l=n.ref),void 0!==n.key&&(i=""+n.key),n)I.call(n,o)&&!E.hasOwnProperty(o)&&(a[o]=n[o]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:t,type:e,key:i,ref:l,props:a,_owner:C.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var w=/\/+/g;function A(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function k(e,n,o,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case t:case r:s=!0}}if(s)return i=i(s=e),e=""===a?"."+A(s,0):a,N(i)?(o="",null!=e&&(o=e.replace(w,"$&/")+"/"),k(i,n,o,"",(function(e){return e}))):null!=i&&(P(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(w,"$&/")+"/")+e)),n.push(i)),1;if(s=0,a=""===a?".":a+":",N(e))for(var u=0;u<e.length;u++){var c=a+A(l=e[u],u);s+=k(l,n,o,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=k(l=l.value,n,o,c=a+A(l,u++),i);else if("object"===l)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function T(e,n,t){if(null==e)return e;var r=[],o=0;return k(e,r,"","",(function(e){return n.call(t,e,o++)})),r}function _(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},R={transition:null},j={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};n.Children={map:T,forEach:function(e,n,t){T(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return T(e,(function(){n++})),n},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=x,n.Fragment=o,n.Profiler=i,n.PureComponent=y,n.StrictMode=a,n.Suspense=c,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,n.cloneElement=function(e,n,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=v({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,l=C.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in n)I.call(n,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===n[u]&&void 0!==s?s[u]:n[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:t,type:e.type,key:a,ref:i,props:o,_owner:l}},n.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},n.createElement=S,n.createFactory=function(e){var n=S.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:u,render:e}},n.isValidElement=P,n.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:_}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=R.transition;R.transition={};try{e()}finally{R.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return M.current.useCallback(e,n)},n.useContext=function(e){return M.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return M.current.useDeferredValue(e)},n.useEffect=function(e,n){return M.current.useEffect(e,n)},n.useId=function(){return M.current.useId()},n.useImperativeHandle=function(e,n,t){return M.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return M.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return M.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return M.current.useMemo(e,n)},n.useReducer=function(e,n,t){return M.current.useReducer(e,n,t)},n.useRef=function(e){return M.current.useRef(e)},n.useState=function(e){return M.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return M.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return M.current.useTransition()},n.version="18.2.0"},2791:function(e,n,t){"use strict";e.exports=t(9117)},184:function(e,n,t){"use strict";e.exports=t(6374)},6813:function(e,n){"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,o=e[r];if(!(0<a(o,n)))break e;e[r]=n,e[t]=o,t=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>a(s,t))u<o&&0>a(c,s)?(e[r]=c,e[u]=t,r=u):(e[r]=s,e[l]=t,r=l);else{if(!(u<o&&0>a(c,t)))break e;e[r]=c,e[u]=t,r=u}}}return n}function a(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var u=[],c=[],d=1,f=null,p=3,h=!1,v=!1,m=!1,x="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var n=r(c);null!==n;){if(null===n.callback)o(c);else{if(!(n.startTime<=e))break;o(c),n.sortIndex=n.expirationTime,t(u,n)}n=r(c)}}function N(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,R(I);else{var n=r(c);null!==n&&j(N,n.startTime-e)}}function I(e,t){v=!1,m&&(m=!1,g(P),P=-1),h=!0;var a=p;try{for(b(t),f=r(u);null!==f&&(!(f.expirationTime>t)||e&&!k());){var i=f.callback;if("function"===typeof i){f.callback=null,p=f.priorityLevel;var l=i(f.expirationTime<=t);t=n.unstable_now(),"function"===typeof l?f.callback=l:f===r(u)&&o(u),b(t)}else o(u);f=r(u)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&j(N,d.startTime-t),s=!1}return s}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,S=null,P=-1,w=5,A=-1;function k(){return!(n.unstable_now()-A<w)}function T(){if(null!==S){var e=n.unstable_now();A=e;var t=!0;try{t=S(!0,e)}finally{t?C():(E=!1,S=null)}}else E=!1}if("function"===typeof y)C=function(){y(T)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,M=_.port2;_.port1.onmessage=T,C=function(){M.postMessage(null)}}else C=function(){x(T,0)};function R(e){S=e,E||(E=!0,C())}function j(e,t){P=x((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){v||h||(v=!0,R(I))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return r(u)},n.unstable_next=function(e){switch(p){case 1:case 2:case 3:var n=3;break;default:n=p}var t=p;p=n;try{return e()}finally{p=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=p;p=e;try{return n()}finally{p=t}},n.unstable_scheduleCallback=function(e,o,a){var i=n.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,t(c,e),null===r(u)&&e===r(c)&&(m?(g(P),P=-1):m=!0,j(N,a-i))):(e.sortIndex=l,t(u,e),v||h||(v=!0,R(I))),e},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(e){var n=p;return function(){var t=p;p=n;try{return e.apply(this,arguments)}finally{p=t}}}},5296:function(e,n,t){"use strict";e.exports=t(6813)},3508:function(){},907:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{Z:function(){return r}})},3878:function(e,n,t){"use strict";function r(e){if(Array.isArray(e))return e}t.d(n,{Z:function(){return r}})},5861:function(e,n,t){"use strict";function r(e,n,t,r,o,a,i){try{var l=e[a](i),s=l.value}catch(u){return void t(u)}l.done?n(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,a){var i=e.apply(n,t);function l(e){r(i,o,a,l,s,"next",e)}function s(e){r(i,o,a,l,s,"throw",e)}l(void 0)}))}}t.d(n,{Z:function(){return o}})},5671:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return r}})},3144:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(9142);function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.Z)(o.key),o)}}function a(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(181);function o(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,r.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw i}}}}},516:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(1120),o=t(8814),a=t(1002);function i(e,n){if(n&&("object"===(0,a.Z)(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){var n=(0,o.Z)();return function(){var t,o=(0,r.Z)(e);if(n){var a=(0,r.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return i(this,t)}}},4942:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(9142);function o(e,n,t){return(n=(0,r.Z)(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},7462:function(e,n,t){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(this,arguments)}t.d(n,{Z:function(){return r}})},1120:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},136:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(9611);function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&(0,r.Z)(e,n)}},8814:function(e,n,t){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}t.d(n,{Z:function(){return r}})},9199:function(e,n,t){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(n,{Z:function(){return r}})},5267:function(e,n,t){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return r}})},1413:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(4942);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}},3366:function(e,n,t){"use strict";function r(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}t.d(n,{Z:function(){return r}})},4165:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1002);function o(){o=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,a=Object.defineProperty||function(e,n,t){e[n]=t.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(T){c=function(e,n,t){return e[n]=t}}function d(e,n,t,r){var o=n&&n.prototype instanceof h?n:h,i=Object.create(o.prototype),l=new w(r||[]);return a(i,"_invoke",{value:C(e,t,l)}),i}function f(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(T){return{type:"throw",arg:T}}}e.wrap=d;var p={};function h(){}function v(){}function m(){}var x={};c(x,l,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==n&&t.call(y,l)&&(x=y);var b=m.prototype=h.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(n){c(e,n,(function(e){return this._invoke(n,e)}))}))}function I(e,n){function o(a,i,l,s){var u=f(e[a],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==(0,r.Z)(d)&&t.call(d,"__await")?n.resolve(d.__await).then((function(e){o("next",e,l,s)}),(function(e){o("throw",e,l,s)})):n.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return o("throw",e,l,s)}))}s(u.arg)}var i;a(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){o(e,t,n,r)}))}return i=i?i.then(r,r):r()}})}function C(e,n,t){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(t.method=o,t.arg=a;;){var i=t.delegate;if(i){var l=E(i,t);if(l){if(l===p)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var s=f(e,n,t);if("normal"===s.type){if(r=t.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(r="completed",t.method="throw",t.arg=s.arg)}}}function E(e,n){var t=n.method,r=e.iterator[t];if(void 0===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,E(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),p;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function P(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},N(I.prototype),c(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(n,t,r,o,a){void 0===a&&(a=Promise);var i=new I(d(n,t,r,o),a);return e.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(b),c(b,u,"Generator"),c(b,l,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=t.call(a,"catchLoc"),s=t.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),p},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),P(t),p}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;P(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:A(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),p}},e}},9611:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})},9439:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(3878);var o=t(181),a=t(5267);function i(e,n){return(0,r.Z)(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(c){u=!0,o=c}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,n)||(0,o.Z)(e,n)||(0,a.Z)()}},3433:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(907);var o=t(9199),a=t(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(1002);function o(e){var n=function(e,n){if("object"!==(0,r.Z)(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!==(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(n)?n:String(n)}},1002:function(e,n,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.d(n,{Z:function(){return r}})},181:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(907);function o(e,n){if(e){if("string"===typeof e)return(0,r.Z)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,r.Z)(e,n):void 0}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,t),a.exports}t.m=e,t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},function(){var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);t.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var l=2&o&&r;"object"==typeof l&&!~e.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((function(e){i[e]=function(){return r[e]}}));return i.default=function(){return r},t.d(a,i),a}}(),t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))},t.u=function(e){return"static/js/"+e+".014ccd8a.chunk.js"},t.miniCssF=function(e){},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={},n="xrna-in-typescript:";t.l=function(r,o,a,i){if(e[r])e[r].push(o);else{var l,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==n+a){l=d;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,t.nc&&l.setAttribute("nonce",t.nc),l.setAttribute("data-webpack",n+a),l.src=r),e[r]=[o];var f=function(n,t){l.onerror=l.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(e){return e(t)})),n)return n(t)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.p="/XRNA-React/",function(){var e={179:0};t.f.j=function(n,r){var o=t.o(e,n)?e[n]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(t,r){o=e[n]=[t,r]}));r.push(o[2]=a);var i=t.p+t.u(n),l=new Error;t.l(i,(function(r){if(t.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,o[1](l)}}),"chunk-"+n,n)}};var n=function(n,r){var o,a,i=r[0],l=r[1],s=r[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(s)s(t)}for(n&&n(r);u<i.length;u++)a=i[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkxrna_in_typescript=self.webpackChunkxrna_in_typescript||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}(),function(){"use strict";var e=t(2791),n=t.t(e,2),r=t(1250),o=t(5847),a=function(e){e&&e instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),a(e),i(e)}))},i=t(4165),l=t(5861),s=t(3144),u=t(5671),c=t(9439),d=t(4164),f=t.t(d,2),p=t(136),h=t(516),v=t(4942),m=t(1120),x=t(9611);var g=t(8814);function y(e,n,t){return y=(0,g.Z)()?Reflect.construct.bind():function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&(0,x.Z)(o,t.prototype),o},y.apply(null,arguments)}function b(e){var n="function"===typeof Map?new Map:void 0;return b=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return y(e,arguments,(0,m.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,x.Z)(r,e)},b(e)}var N=t(3878),I=t(9199),C=t(181),E=t(5267);var S,P=t(7762),w=t(3433);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(S||(S={}));var k,T="popstate";function _(e,n){if(!1===e||null===e||"undefined"===typeof e)throw new Error(n)}function M(e,n){if(!e){"undefined"!==typeof console&&console.warn(n);try{throw new Error(n)}catch(t){}}}function R(e,n){return{usr:e.state,key:e.key,idx:n}}function j(e,n,t,r){return void 0===t&&(t=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof n?Z(n):n,{state:t,key:n&&n.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var n=e.pathname,t=void 0===n?"/":n,r=e.search,o=void 0===r?"":r,a=e.hash,i=void 0===a?"":a;return o&&"?"!==o&&(t+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function Z(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function L(e,n,t,r){void 0===r&&(r={});var o=r,a=o.window,i=void 0===a?document.defaultView:a,l=o.v5Compat,s=void 0!==l&&l,u=i.history,c=S.Pop,d=null,f=p();function p(){return(u.state||{idx:null}).idx}function h(){c=S.Pop;var e=p(),n=null==e?null:e-f;f=e,d&&d({action:c,location:m.location,delta:n})}function v(e){var n="null"!==i.location.origin?i.location.origin:i.location.href,t="string"===typeof e?e:O(e);return _(n,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,n)}null==f&&(f=0,u.replaceState(A({},u.state,{idx:f}),""));var m={get action(){return c},get location(){return e(i,u)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(T,h),d=e,function(){i.removeEventListener(T,h),d=null}},createHref:function(e){return n(i,e)},createURL:v,encodeLocation:function(e){var n=v(e);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:function(e,n){c=S.Push;var r=j(m.location,e,n);t&&t(r,e);var o=R(r,f=p()+1),a=m.createHref(r);try{u.pushState(o,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;i.location.assign(a)}s&&d&&d({action:c,location:m.location,delta:1})},replace:function(e,n){c=S.Replace;var r=j(m.location,e,n);t&&t(r,e);var o=R(r,f=p()),a=m.createHref(r);u.replaceState(o,"",a),s&&d&&d({action:c,location:m.location,delta:0})},go:function(e){return u.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(k||(k={}));var D=new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,n,t,r){return void 0===t&&(t=[]),void 0===r&&(r={}),e.map((function(e,o){var a=[].concat((0,w.Z)(t),[o]),i="string"===typeof e.id?e.id:a.join("-");if(_(!0!==e.index||!e.children,"Cannot specify children on an index route"),_(!r[i],'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var l=A({},e,n(e),{id:i});return r[i]=l,l}var s=A({},e,n(e),{id:i,children:void 0});return r[i]=s,e.children&&(s.children=F(e.children,n,a,r)),s}))}function B(e,n,t){void 0===t&&(t="/");var r=ee(("string"===typeof n?Z(n):n).pathname||"/",t);if(null==r)return null;var o=z(e);!function(e){e.sort((function(e,n){return e.score!==n.score?n.score-e.score:function(e,n){var t=e.length===n.length&&e.slice(0,-1).every((function(e,t){return e===n[t]}));return t?e[e.length-1]-n[n.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),n.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var a=null,i=0;null==a&&i<o.length;++i)a=Q(o[i],J(r));return a}function z(e,n,t,r){void 0===n&&(n=[]),void 0===t&&(t=[]),void 0===r&&(r="");var o=function(e,o,a){var i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(_(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));var l=oe([r,i.relativePath]),s=t.concat(i);e.children&&e.children.length>0&&(_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),z(e.children,n,s,l)),(null!=e.path||e.index)&&n.push({path:l,score:$(l,e.index),routesMeta:s})};return e.forEach((function(e,n){var t;if(""!==e.path&&null!=(t=e.path)&&t.includes("?")){var r,a=(0,P.Z)(W(e.path));try{for(a.s();!(r=a.n()).done;){var i=r.value;o(e,n,i)}}catch(l){a.e(l)}finally{a.f()}}else o(e,n)})),n}function W(e){var n=e.split("/");if(0===n.length)return[];var t,r=(t=n,(0,N.Z)(t)||(0,I.Z)(t)||(0,C.Z)(t)||(0,E.Z)()),o=r[0],a=r.slice(1),i=o.endsWith("?"),l=o.replace(/\?$/,"");if(0===a.length)return i?[l,""]:[l];var s=W(a.join("/")),u=[];return u.push.apply(u,(0,w.Z)(s.map((function(e){return""===e?l:[l,e].join("/")})))),i&&u.push.apply(u,(0,w.Z)(s)),u.map((function(n){return e.startsWith("/")&&""===n?"/":n}))}var U=/^:\w+$/,G=3,H=2,K=1,V=10,q=-2,X=function(e){return"*"===e};function $(e,n){var t=e.split("/"),r=t.length;return t.some(X)&&(r+=q),n&&(r+=H),t.filter((function(e){return!X(e)})).reduce((function(e,n){return e+(U.test(n)?G:""===n?K:V)}),r)}function Q(e,n){for(var t=e.routesMeta,r={},o="/",a=[],i=0;i<t.length;++i){var l=t[i],s=i===t.length-1,u="/"===o?n:n.slice(o.length)||"/",c=Y({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);var d=l.route;a.push({params:r,pathname:oe([o,c.pathname]),pathnameBase:ae(oe([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=oe([o,c.pathnameBase]))}return a}function Y(e,n){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var t=function(e,n,t){void 0===n&&(n=!1);void 0===t&&(t=!0);M("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,n,t){return r.push({paramName:n,isOptional:null!=t}),t?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");var a=new RegExp(o,n?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,c.Z)(t,2),o=r[0],a=r[1],i=n.match(o);if(!i)return null;var l=i[0],s=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:a.reduce((function(e,n,t){var r=n.paramName,o=n.isOptional;if("*"===r){var a=u[t]||"";s=l.slice(0,l.length-a.length).replace(/(.)\/+$/,"$1")}var i=u[t];return e[r]=o&&!i?void 0:function(e,n){try{return decodeURIComponent(e)}catch(t){return M(!1,'The value for the URL param "'+n+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i||"",r),e}),{}),pathname:l,pathnameBase:s,pattern:e}}function J(e){try{return decodeURI(e)}catch(n){return M(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}function ee(e,n){if("/"===n)return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;var t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&"/"!==r?null:e.slice(t)||"/"}function ne(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified `to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+t+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,n){return 0===n||e.route.path&&e.route.path.length>0}))}function re(e,n,t,r){var o;void 0===r&&(r=!1),"string"===typeof e?o=Z(e):(_(!(o=A({},e)).pathname||!o.pathname.includes("?"),ne("?","pathname","search",o)),_(!o.pathname||!o.pathname.includes("#"),ne("#","pathname","hash",o)),_(!o.search||!o.search.includes("#"),ne("#","search","hash",o)));var a,i=""===e||""===o.pathname,l=i?"/":o.pathname;if(null==l)a=t;else if(r){var s=0===n.length?[]:n[n.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){for(var u=l.split("/");".."===u[0];)u.shift(),s.pop();o.pathname=u.join("/")}a="/"+s.join("/")}else{var c=n.length-1;if(l.startsWith("..")){for(var d=l.split("/");".."===d[0];)d.shift(),c-=1;o.pathname=d.join("/")}a=c>=0?n[c]:"/"}var f=function(e,n){void 0===n&&(n="/");var t="string"===typeof e?Z(e):e,r=t.pathname,o=t.search,a=void 0===o?"":o,i=t.hash,l=void 0===i?"":i,s=r?r.startsWith("/")?r:function(e,n){var t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?t.length>1&&t.pop():"."!==e&&t.push(e)})),t.length>1?t.join("/"):"/"}(r,n):n;return{pathname:s,search:ie(a),hash:le(l)}}(o,a),p=l&&"/"!==l&&l.endsWith("/"),h=(i||"."===l)&&t.endsWith("/");return f.pathname.endsWith("/")||!p&&!h||(f.pathname+="/"),f}var oe=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},le=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},se=function(e){(0,p.Z)(t,e);var n=(0,h.Z)(t);function t(){return(0,u.Z)(this,t),n.apply(this,arguments)}return(0,s.Z)(t)}(b(Error));var ue=(0,s.Z)((function e(n,t,r,o){(0,u.Z)(this,e),void 0===o&&(o=!1),this.status=n,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var de=["post","put","patch","delete"],fe=new Set(de),pe=["get"].concat(de),he=new Set(pe),ve=new Set([301,302,303,307,308]),me=new Set([307,308]),xe={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ge={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ye={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}},Ie="remix-router-transitions";function Ce(e){var n,t=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,o=!r;if(_(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){var a=e.detectErrorBoundary;n=function(e){return{hasErrorBoundary:a(e)}}}else n=Ne;var s,u,d={},f=F(e.routes,n,void 0,d),p=e.basename||"/",h=A({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),m=null,x=new Set,g=null,y=null,b=null,N=null!=e.hydrationData,I=B(f,e.history.location,p),C=null;if(null==I){var E=We(404,{pathname:e.history.location.pathname}),T=ze(f),R=T.matches,O=T.route;I=R,C=(0,v.Z)({},O.id,E)}var Z,L=I.some((function(e){return e.route.lazy})),D=I.some((function(e){return e.route.loader}));if(L)u=!1;else if(D)if(h.v7_partialHydration){var z=e.hydrationData?e.hydrationData.loaderData:null,W=e.hydrationData?e.hydrationData.errors:null;u=I.every((function(e){return e.route.loader&&!0!==e.route.loader.hydrate&&(z&&void 0!==z[e.route.id]||W&&void 0!==W[e.route.id])}))}else u=null!=e.hydrationData;else u=!0;var U,G={historyAction:e.history.action,location:e.history.location,matches:I,initialized:u,navigation:xe,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},H=S.Pop,K=!1,V=!1,q=new Map,X=null,$=!1,Q=!1,Y=[],J=[],ne=new Map,te=0,re=-1,oe=new Map,ae=new Set,ie=new Map,le=new Map,se=new Set,ue=new Map,ce=new Map,de=!1;function fe(e,n){void 0===n&&(n={}),G=A({},G,e);var t=[],r=[];h.v7_fetcherPersist&&G.fetchers.forEach((function(e,n){"idle"===e.state&&(se.has(n)?r.push(n):t.push(n))})),(0,w.Z)(x).forEach((function(e){return e(G,{deletedFetchers:r,unstable_viewTransitionOpts:n.viewTransitionOpts,unstable_flushSync:!0===n.flushSync})})),h.v7_fetcherPersist&&(t.forEach((function(e){return G.fetchers.delete(e)})),r.forEach((function(e){return rn(e)})))}function pe(n,t,r){var o,a,i,l=(void 0===r?{}:r).flushSync,u=null!=G.actionData&&null!=G.navigation.formMethod&&Ye(G.navigation.formMethod)&&"loading"===G.navigation.state&&!0!==(null==(o=n.state)?void 0:o._isRedirect);i=t.actionData?Object.keys(t.actionData).length>0?t.actionData:null:u?G.actionData:null;var c=t.loaderData?Fe(G.loaderData,t.loaderData,t.matches||[],t.errors):G.loaderData,d=G.blockers;d.size>0&&(d=new Map(d)).forEach((function(e,n){return d.set(n,ye)}));var p,h=!0===K||null!=G.navigation.formMethod&&Ye(G.navigation.formMethod)&&!0!==(null==(a=n.state)?void 0:a._isRedirect);if(s&&(f=s,s=void 0),$||H===S.Pop||(H===S.Push?e.history.push(n,n.state):H===S.Replace&&e.history.replace(n,n.state)),H===S.Pop){var v=q.get(G.location.pathname);v&&v.has(n.pathname)?p={currentLocation:G.location,nextLocation:n}:q.has(n.pathname)&&(p={currentLocation:n,nextLocation:G.location})}else if(V){var m=q.get(G.location.pathname);m?m.add(n.pathname):(m=new Set([n.pathname]),q.set(G.location.pathname,m)),p={currentLocation:G.location,nextLocation:n}}fe(A({},t,{actionData:i,loaderData:c,historyAction:H,location:n,initialized:!0,navigation:xe,revalidation:"idle",restoreScrollPosition:In(n,t.matches||G.matches),preventScrollReset:h,blockers:d}),{viewTransitionOpts:p,flushSync:!0===l}),H=S.Pop,K=!1,V=!1,$=!1,Q=!1,Y=[],J=[]}function he(e,n){return ve.apply(this,arguments)}function ve(){return ve=(0,l.Z)((0,i.Z)().mark((function n(t,r){var o,a,l,s,u,c,d,f,v,m,x,g;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("number"!==typeof t){n.next=3;break}return e.history.go(t),n.abrupt("return");case 3:if(o=Ee(G.location,G.matches,p,h.v7_prependBasename,t,h.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=Se(h.v7_normalizeFormMethod,!1,o,r),l=a.path,s=a.submission,u=a.error,c=G.location,d=A({},d=j(G.location,l,r&&r.state),e.history.encodeLocation(d)),f=r&&null!=r.replace?r.replace:void 0,v=S.Push,!0===f?v=S.Replace:!1===f||null!=s&&Ye(s.formMethod)&&s.formAction===G.location.pathname+G.location.search&&(v=S.Replace),m=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,x=!0===(r&&r.unstable_flushSync),!(g=gn({currentLocation:c,nextLocation:d,historyAction:v}))){n.next=17;break}return xn(g,{state:"blocked",location:d,proceed:function(){xn(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),he(t,r)},reset:function(){var e=new Map(G.blockers);e.set(g,ye),fe({blockers:e})}}),n.abrupt("return");case 17:return n.next=19,Ce(v,d,{submission:s,pendingError:u,preventScrollReset:m,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:x});case 19:return n.abrupt("return",n.sent);case 20:case"end":return n.stop()}}),n)}))),ve.apply(this,arguments)}function Ce(e,n,t){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,l.Z)((0,i.Z)().mark((function n(t,r,o){var a,l,u,c,d,h,m,x,g,y,b,N,I,C,E,S;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(U&&U.abort(),U=null,H=t,$=!0===(o&&o.startUninterruptedRevalidation),Nn(G.location,G.matches),K=!0===(o&&o.preventScrollReset),V=!0===(o&&o.enableViewTransition),a=s||f,l=o&&o.overrideNavigation,u=B(a,r,p),c=!0===(o&&o.flushSync),u){n.next=17;break}return d=We(404,{pathname:r.pathname}),h=ze(a),m=h.matches,x=h.route,yn(),pe(r,{matches:m,loaderData:{},errors:(0,v.Z)({},x.id,d)},{flushSync:c}),n.abrupt("return");case 17:if(!G.initialized||Q||!He(G.location,r)||o&&o.submission&&Ye(o.submission.formMethod)){n.next=20;break}return pe(r,{matches:u},{flushSync:c}),n.abrupt("return");case 20:if(U=new AbortController,g=je(e.history,r,U.signal,o&&o.submission),!o||!o.pendingError){n.next=26;break}b=(0,v.Z)({},Be(u).route.id,o.pendingError),n.next=37;break;case 26:if(!(o&&o.submission&&Ye(o.submission.formMethod))){n.next=37;break}return n.next=29,Ae(g,r,o.submission,u,{replace:o.replace,flushSync:c});case 29:if(!(N=n.sent).shortCircuited){n.next=32;break}return n.abrupt("return");case 32:y=N.pendingActionData,b=N.pendingActionError,l=ln(r,o.submission),c=!1,g=new Request(g.url,{signal:g.signal});case 37:return n.next=39,Te(g,r,u,l,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,o&&!0===o.initialHydration,c,y,b);case 39:if(I=n.sent,C=I.shortCircuited,E=I.loaderData,S=I.errors,!C){n.next=45;break}return n.abrupt("return");case 45:U=null,pe(r,A({matches:u},y?{actionData:y}:{},{loaderData:E,errors:S}));case 47:case"end":return n.stop()}}),n)}))),Pe.apply(this,arguments)}function Ae(e,n,t,r,o){return ke.apply(this,arguments)}function ke(){return ke=(0,l.Z)((0,i.Z)().mark((function e(t,r,o,a,l){var s,u,c,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l&&(l={}),$e(),fe({navigation:sn(r,o)},{flushSync:!0===l.flushSync}),(u=on(a,r)).route.action||u.route.lazy){e.next=9;break}s={type:k.error,error:We(405,{method:t.method,pathname:r.pathname,routeId:u.route.id})},e.next=14;break;case 9:return e.next=11,Me("action",t,u,a,d,n,p,h.v7_relativeSplatPath);case 11:if(s=e.sent,!t.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!qe(s)){e.next=19;break}return c=l&&null!=l.replace?l.replace:s.location===G.location.pathname+G.location.search,e.next=18,Ze(G,s,{submission:o,replace:c});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!Ve(s)){e.next=23;break}return f=Be(a,u.route.id),!0!==(l&&l.replace)&&(H=S.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:(0,v.Z)({},f.route.id,s.error)});case 23:if(!Ke(s)){e.next=25;break}throw We(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:(0,v.Z)({},u.route.id,s.data)});case 26:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function Te(e,n,t,r,o,a,i,l,s,u,c){return _e.apply(this,arguments)}function _e(){return _e=(0,l.Z)((0,i.Z)().mark((function n(t,r,o,a,l,u,d,v,m,x,g){var y,b,N,I,C,E,S,P,w,k,T,_,M,R,j,O,Z,L,D,F,B,z;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y=a||ln(r,l),b=l||u||an(y),N=s||f,I=we(e.history,G,o,b,r,h.v7_partialHydration&&!0===v,Q,Y,J,se,ie,ae,N,p,x,g),C=(0,c.Z)(I,2),E=C[0],S=C[1],yn((function(e){return!(o&&o.some((function(n){return n.route.id===e})))||E&&E.some((function(n){return n.route.id===e}))})),re=++te,0!==E.length||0!==S.length){n.next=10;break}return P=hn(),pe(r,A({matches:o,loaderData:{},errors:g||null},x?{actionData:x}:{},P?{fetchers:new Map(G.fetchers)}:{}),{flushSync:m}),n.abrupt("return",{shortCircuited:!0});case 10:return $||h.v7_partialHydration&&v||(S.forEach((function(e){var n=G.fetchers.get(e.key),t=un(void 0,n?n.data:void 0);G.fetchers.set(e.key,t)})),w=x||G.actionData,fe(A({navigation:y},w?0===Object.keys(w).length?{actionData:null}:{actionData:w}:{},S.length>0?{fetchers:new Map(G.fetchers)}:{}),{flushSync:m})),S.forEach((function(e){ne.has(e.key)&&fn(e.key),e.controller&&ne.set(e.key,e.controller)})),k=function(){return S.forEach((function(e){return fn(e.key)}))},U&&U.signal.addEventListener("abort",k),n.next=16,Ge(G.matches,o,E,S,t);case 16:if(T=n.sent,_=T.results,M=T.loaderResults,R=T.fetcherResults,!t.signal.aborted){n.next=22;break}return n.abrupt("return",{shortCircuited:!0});case 22:if(U&&U.signal.removeEventListener("abort",k),S.forEach((function(e){return ne.delete(e.key)})),!(j=Ue(_))){n.next=30;break}return j.idx>=E.length&&(O=S[j.idx-E.length].key,ae.add(O)),n.next=29,Ze(G,j.result,{replace:d});case 29:return n.abrupt("return",{shortCircuited:!0});case 30:return Z=De(G,o,E,M,g,S,R,ue),L=Z.loaderData,D=Z.errors,ue.forEach((function(e,n){e.subscribe((function(t){(t||e.done)&&ue.delete(n)}))})),F=hn(),B=vn(re),z=F||B||S.length>0,n.abrupt("return",A({loaderData:L,errors:D},z?{fetchers:new Map(G.fetchers)}:{}));case 36:case"end":return n.stop()}}),n)}))),_e.apply(this,arguments)}function Re(){return Re=(0,l.Z)((0,i.Z)().mark((function t(r,o,a,l,u,m,x){var g,y,b,N,I,C,E,S,P,w,A,k,T,M,R,j,O,Z,L,D,F,z,W,K,V,q,X;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($e(),ie.delete(r),l.route.action||l.route.lazy){t.next=6;break}return g=We(405,{method:x.formMethod,pathname:a,routeId:o}),en(r,o,g,{flushSync:m}),t.abrupt("return");case 6:return y=G.fetchers.get(r),Qe(r,cn(x,y),{flushSync:m}),b=new AbortController,N=je(e.history,a,b.signal,x),ne.set(r,b),I=te,t.next=14,Me("action",N,l,u,d,n,p,h.v7_relativeSplatPath);case 14:if(C=t.sent,!N.signal.aborted){t.next=18;break}return ne.get(r)===b&&ne.delete(r),t.abrupt("return");case 18:if(!se.has(r)){t.next=21;break}return Qe(r,dn(void 0)),t.abrupt("return");case 21:if(!qe(C)){t.next=31;break}if(ne.delete(r),!(re>I)){t.next=28;break}return Qe(r,dn(void 0)),t.abrupt("return");case 28:return ae.add(r),Qe(r,un(x)),t.abrupt("return",Ze(G,C,{fetcherSubmission:x}));case 31:if(!Ve(C)){t.next=34;break}return en(r,o,C.error),t.abrupt("return");case 34:if(!Ke(C)){t.next=36;break}throw We(400,{type:"defer-action"});case 36:return E=G.navigation.location||G.location,S=je(e.history,E,b.signal),P=s||f,_(w="idle"!==G.navigation.state?B(P,G.navigation.location,p):G.matches,"Didn't find any matches after fetcher action"),A=++te,oe.set(r,A),k=un(x,C.data),G.fetchers.set(r,k),T=we(e.history,G,w,x,E,!1,Q,Y,J,se,ie,ae,P,p,(0,v.Z)({},l.route.id,C.data),void 0),M=(0,c.Z)(T,2),R=M[0],(j=M[1]).filter((function(e){return e.key!==r})).forEach((function(e){var n=e.key,t=G.fetchers.get(n),r=un(void 0,t?t.data:void 0);G.fetchers.set(n,r),ne.has(n)&&fn(n),e.controller&&ne.set(n,e.controller)})),fe({fetchers:new Map(G.fetchers)}),O=function(){return j.forEach((function(e){return fn(e.key)}))},b.signal.addEventListener("abort",O),t.next=52,Ge(G.matches,w,R,j,S);case 52:if(Z=t.sent,L=Z.results,D=Z.loaderResults,F=Z.fetcherResults,!b.signal.aborted){t.next=58;break}return t.abrupt("return");case 58:if(b.signal.removeEventListener("abort",O),oe.delete(r),ne.delete(r),j.forEach((function(e){return ne.delete(e.key)})),!(z=Ue(L))){t.next=66;break}return z.idx>=R.length&&(W=j[z.idx-R.length].key,ae.add(W)),t.abrupt("return",Ze(G,z.result));case 66:K=De(G,G.matches,R,D,void 0,j,F,ue),V=K.loaderData,q=K.errors,G.fetchers.has(r)&&(X=dn(C.data),G.fetchers.set(r,X)),vn(A),"loading"===G.navigation.state&&A>re?(_(H,"Expected pending action"),U&&U.abort(),pe(G.navigation.location,{matches:w,loaderData:V,errors:q,fetchers:new Map(G.fetchers)})):(fe({errors:q,loaderData:Fe(G.loaderData,V,w,q),fetchers:new Map(G.fetchers)}),Q=!1);case 70:case"end":return t.stop()}}),t)}))),Re.apply(this,arguments)}function Oe(){return Oe=(0,l.Z)((0,i.Z)().mark((function t(r,o,a,l,s,u,c){var f,v,m,x,g;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=G.fetchers.get(r),Qe(r,un(c,f?f.data:void 0),{flushSync:u}),v=new AbortController,m=je(e.history,a,v.signal),ne.set(r,v),x=te,t.next=8,Me("loader",m,l,s,d,n,p,h.v7_relativeSplatPath);case 8:if(!Ke(g=t.sent)){t.next=16;break}return t.next=12,nn(g,m.signal,!0);case 12:if(t.t0=t.sent,t.t0){t.next=15;break}t.t0=g;case 15:g=t.t0;case 16:if(ne.get(r)===v&&ne.delete(r),!m.signal.aborted){t.next=19;break}return t.abrupt("return");case 19:if(!se.has(r)){t.next=22;break}return Qe(r,dn(void 0)),t.abrupt("return");case 22:if(!qe(g)){t.next=32;break}if(!(re>x)){t.next=28;break}return Qe(r,dn(void 0)),t.abrupt("return");case 28:return ae.add(r),t.next=31,Ze(G,g);case 31:return t.abrupt("return");case 32:if(!Ve(g)){t.next=35;break}return en(r,o,g.error),t.abrupt("return");case 35:_(!Ke(g),"Unhandled fetcher deferred data"),Qe(r,dn(g.data));case 37:case"end":return t.stop()}}),t)}))),Oe.apply(this,arguments)}function Ze(e,n,t){return Le.apply(this,arguments)}function Le(){return Le=(0,l.Z)((0,i.Z)().mark((function n(o,a,l){var s,u,c,d,f,h,v,m,x,g,y,b,N,I;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=(s=void 0===l?{}:l).submission,c=s.fetcherSubmission,d=s.replace,a.revalidate&&(Q=!0),_(f=j(o.location,a.location,{_isRedirect:!0}),"Expected a location on the redirect navigation"),!r){n.next=10;break}if(h=!1,a.reloadDocument?h=!0:be.test(a.location)&&(v=e.history.createURL(a.location),h=v.origin!==t.location.origin||null==ee(v.pathname,p)),!h){n.next=10;break}return d?t.location.replace(a.location):t.location.assign(a.location),n.abrupt("return");case 10:if(U=null,m=!0===d?S.Replace:S.Push,x=o.navigation,g=x.formMethod,y=x.formAction,b=x.formEncType,!u&&!c&&g&&y&&b&&(u=an(o.navigation)),N=u||c,!(me.has(a.status)&&N&&Ye(N.formMethod))){n.next=20;break}return n.next=18,Ce(m,f,{submission:A({},N,{formAction:a.location}),preventScrollReset:K});case 18:n.next=23;break;case 20:return I=ln(f,u),n.next=23,Ce(m,f,{overrideNavigation:I,fetcherSubmission:c,preventScrollReset:K});case 23:case"end":return n.stop()}}),n)}))),Le.apply(this,arguments)}function Ge(e,n,t,r,o){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,l.Z)((0,i.Z)().mark((function t(r,o,a,l,s){var u,c,f;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat((0,w.Z)(a.map((function(e){return Me("loader",s,e,o,d,n,p,h.v7_relativeSplatPath)}))),(0,w.Z)(l.map((function(t){return t.matches&&t.match&&t.controller?Me("loader",je(e.history,t.path,t.controller.signal),t.match,t.matches,d,n,p,h.v7_relativeSplatPath):{type:k.error,error:We(404,{pathname:t.path})}})))));case 2:return u=t.sent,c=u.slice(0,a.length),f=u.slice(a.length),t.next=7,Promise.all([Je(r,a,c,c.map((function(){return s.signal})),!1,G.loaderData),Je(r,l.map((function(e){return e.match})),f,l.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return t.abrupt("return",{results:u,loaderResults:c,fetcherResults:f});case 8:case"end":return t.stop()}}),t)}))),Xe.apply(this,arguments)}function $e(){var e;Q=!0,(e=Y).push.apply(e,(0,w.Z)(yn())),ie.forEach((function(e,n){ne.has(n)&&(J.push(n),fn(n))}))}function Qe(e,n,t){void 0===t&&(t={}),G.fetchers.set(e,n),fe({fetchers:new Map(G.fetchers)},{flushSync:!0===(t&&t.flushSync)})}function en(e,n,t,r){void 0===r&&(r={});var o=Be(G.matches,n);rn(e),fe({errors:(0,v.Z)({},o.route.id,t),fetchers:new Map(G.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function tn(e){return h.v7_fetcherPersist&&(le.set(e,(le.get(e)||0)+1),se.has(e)&&se.delete(e)),G.fetchers.get(e)||ge}function rn(e){var n=G.fetchers.get(e);!ne.has(e)||n&&"loading"===n.state&&oe.has(e)||fn(e),ie.delete(e),oe.delete(e),ae.delete(e),se.delete(e),G.fetchers.delete(e)}function fn(e){var n=ne.get(e);_(n,"Expected fetch controller: "+e),n.abort(),ne.delete(e)}function pn(e){var n,t=(0,P.Z)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value,o=dn(tn(r).data);G.fetchers.set(r,o)}}catch(a){t.e(a)}finally{t.f()}}function hn(){var e,n=[],t=!1,r=(0,P.Z)(ae);try{for(r.s();!(e=r.n()).done;){var o=e.value,a=G.fetchers.get(o);_(a,"Expected fetcher: "+o),"loading"===a.state&&(ae.delete(o),n.push(o),t=!0)}}catch(i){r.e(i)}finally{r.f()}return pn(n),t}function vn(e){var n,t=[],r=(0,P.Z)(oe);try{for(r.s();!(n=r.n()).done;){var o=(0,c.Z)(n.value,2),a=o[0];if(o[1]<e){var i=G.fetchers.get(a);_(i,"Expected fetcher: "+a),"loading"===i.state&&(fn(a),oe.delete(a),t.push(a))}}}catch(l){r.e(l)}finally{r.f()}return pn(t),t.length>0}function mn(e){G.blockers.delete(e),ce.delete(e)}function xn(e,n){var t=G.blockers.get(e)||ye;_("unblocked"===t.state&&"blocked"===n.state||"blocked"===t.state&&"blocked"===n.state||"blocked"===t.state&&"proceeding"===n.state||"blocked"===t.state&&"unblocked"===n.state||"proceeding"===t.state&&"unblocked"===n.state,"Invalid blocker state transition: "+t.state+" -> "+n.state);var r=new Map(G.blockers);r.set(e,n),fe({blockers:r})}function gn(e){var n=e.currentLocation,t=e.nextLocation,r=e.historyAction;if(0!==ce.size){ce.size>1&&M(!1,"A router only supports one blocker at a time");var o=Array.from(ce.entries()),a=(0,c.Z)(o[o.length-1],2),i=a[0],l=a[1],s=G.blockers.get(i);if(!s||"proceeding"!==s.state)return l({currentLocation:n,nextLocation:t,historyAction:r})?i:void 0}}function yn(e){var n=[];return ue.forEach((function(t,r){e&&!e(r)||(t.cancel(),n.push(r),ue.delete(r))})),n}function bn(e,n){if(y){var t=y(e,n.map((function(e){return function(e,n){var t=e.route,r=e.pathname,o=e.params;return{id:t.id,pathname:r,params:o,data:n[t.id],handle:t.handle}}(e,G.loaderData)})));return t||e.key}return e.key}function Nn(e,n){if(g&&b){var t=bn(e,n);g[t]=b()}}function In(e,n){if(g){var t=bn(e,n),r=g[t];if("number"===typeof r)return r}return null}return Z={get basename(){return p},get future(){return h},get state(){return G},get routes(){return f},get window(){return t},initialize:function(){if(m=e.history.listen((function(n){var t=n.action,r=n.location,o=n.delta;if(!de){M(0===ce.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=gn({currentLocation:G.location,nextLocation:r,historyAction:t});return a&&null!=o?(de=!0,e.history.go(-1*o),void xn(a,{state:"blocked",location:r,proceed:function(){xn(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(o)},reset:function(){var e=new Map(G.blockers);e.set(a,ye),fe({blockers:e})}})):Ce(t,r)}de=!1})),r){!function(e,n){try{var t=e.sessionStorage.getItem(Ie);if(t)for(var r=JSON.parse(t),o=0,a=Object.entries(r||{});o<a.length;o++){var i=(0,c.Z)(a[o],2),l=i[0],s=i[1];s&&Array.isArray(s)&&n.set(l,new Set(s||[]))}}catch(u){}}(t,q);var n=function(){return function(e,n){if(n.size>0){var t,r={},o=(0,P.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=(0,c.Z)(t.value,2),i=a[0],l=a[1];r[i]=(0,w.Z)(l)}}catch(s){o.e(s)}finally{o.f()}try{e.sessionStorage.setItem(Ie,JSON.stringify(r))}catch(E){M(!1,"Failed to save applied view transitions in sessionStorage ("+E+").")}}}(t,q)};t.addEventListener("pagehide",n),X=function(){return t.removeEventListener("pagehide",n)}}return G.initialized||Ce(S.Pop,G.location,{initialHydration:!0}),Z},subscribe:function(e){return x.add(e),function(){return x.delete(e)}},enableScrollRestoration:function(e,n,t){if(g=e,b=n,y=t||null,!N&&G.navigation===xe){N=!0;var r=In(G.location,G.matches);null!=r&&fe({restoreScrollPosition:r})}return function(){g=null,b=null,y=null}},navigate:he,fetch:function(e,n,t,r){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ne.has(e)&&fn(e);var a=!0===(r&&r.unstable_flushSync),i=s||f,l=Ee(G.location,G.matches,p,h.v7_prependBasename,t,h.v7_relativeSplatPath,n,null==r?void 0:r.relative),u=B(i,l,p);if(u){var c=Se(h.v7_normalizeFormMethod,!0,l,r),d=c.path,v=c.submission,m=c.error;if(m)en(e,n,m,{flushSync:a});else{var x=on(u,d);K=!0===(r&&r.preventScrollReset),v&&Ye(v.formMethod)?function(e,n,t,r,o,a,i){Re.apply(this,arguments)}(e,n,d,x,u,a,v):(ie.set(e,{routeId:n,path:d}),function(e,n,t,r,o,a,i){Oe.apply(this,arguments)}(e,n,d,x,u,a,v))}}else en(e,n,We(404,{pathname:l}),{flushSync:a})},revalidate:function(){$e(),fe({revalidation:"loading"}),"submitting"!==G.navigation.state&&("idle"!==G.navigation.state?Ce(H||G.historyAction,G.navigation.location,{overrideNavigation:G.navigation}):Ce(G.historyAction,G.location,{startUninterruptedRevalidation:!0}))},createHref:function(n){return e.history.createHref(n)},encodeLocation:function(n){return e.history.encodeLocation(n)},getFetcher:tn,deleteFetcher:function(e){if(h.v7_fetcherPersist){var n=(le.get(e)||0)-1;n<=0?(le.delete(e),se.add(e)):le.set(e,n)}else rn(e);fe({fetchers:new Map(G.fetchers)})},dispose:function(){m&&m(),X&&X(),x.clear(),U&&U.abort(),G.fetchers.forEach((function(e,n){return rn(n)})),G.blockers.forEach((function(e,n){return mn(n)}))},getBlocker:function(e,n){var t=G.blockers.get(e)||ye;return ce.get(e)!==n&&ce.set(e,n),t},deleteBlocker:mn,_internalFetchControllers:ne,_internalActiveDeferreds:ue,_internalSetRoutes:function(e){s=F(e,n,void 0,d={})}},Z}Symbol("deferred");function Ee(e,n,t,r,o,a,i,l){var s,u;if(i){s=[];var c,d=(0,P.Z)(n);try{for(d.s();!(c=d.n()).done;){var f=c.value;if(s.push(f),f.route.id===i){u=f;break}}}catch(h){d.e(h)}finally{d.f()}}else s=n,u=n[n.length-1];var p=re(o||".",function(e,n){var t=te(e);return n?t.map((function(n,t){return t===e.length-1?n.pathname:n.pathnameBase})):t.map((function(e){return e.pathnameBase}))}(s,a),ee(e.pathname,t)||e.pathname,"path"===l);return null==o&&(p.search=e.search,p.hash=e.hash),null!=o&&""!==o&&"."!==o||!u||!u.route.index||rn(p.search)||(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==t&&(p.pathname="/"===p.pathname?t:oe([t,p.pathname])),O(p)}function Se(e,n,t,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:t};if(r.formMethod&&!Qe(r.formMethod))return{path:t,error:We(405,{method:r.formMethod})};var o,a,i=function(){return{path:t,error:We(400,{type:"invalid-body"})}},l=r.formMethod||"get",s=e?l.toUpperCase():l.toLowerCase(),u=Ge(t);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ye(s))return i();var d="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,n){var t=(0,c.Z)(n,2);return""+e+t[0]+"="+t[1]+"\n"}),""):String(r.body);return{path:t,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}if("application/json"===r.formEncType){if(!Ye(s))return i();try{var f="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch(v){return i()}}}if(_("function"===typeof FormData,"FormData is not available in this environment"),r.formData)o=Oe(r.formData),a=r.formData;else if(r.body instanceof FormData)o=Oe(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Ze(o=r.body);else if(null==r.body)o=new URLSearchParams,a=new FormData;else try{a=Ze(o=new URLSearchParams(r.body))}catch(v){return i()}var p={formMethod:s,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Ye(p.formMethod))return{path:t,submission:p};var h=Z(t);return n&&h.search&&rn(h.search)&&o.append("index",""),h.search="?"+o,{path:O(h),submission:p}}function Pe(e,n){var t=e;if(n){var r=e.findIndex((function(e){return e.route.id===n}));r>=0&&(t=e.slice(0,r))}return t}function we(e,n,t,r,o,a,i,l,s,u,c,d,f,p,h,v){var m=v?Object.values(v)[0]:h?Object.values(h)[0]:void 0,x=e.createURL(n.location),g=e.createURL(o),y=v?Object.keys(v)[0]:void 0,b=Pe(t,y).filter((function(e,t){if(a)return function(e,n){if(!n.loader)return!1;if(n.loader.hydrate)return!0;return void 0===e.loaderData[n.id]&&(!e.errors||void 0===e.errors[n.id])}(n,e.route);if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,n,t){var r=!n||t.route.id!==n.route.id,o=void 0===e[t.route.id];return r||o}(n.loaderData,n.matches[t],e)||l.some((function(n){return n===e.route.id})))return!0;var o=n.matches[t],s=e;return ke(e,A({currentUrl:x,currentParams:o.params,nextUrl:g,nextParams:s.params},r,{actionResult:m,defaultShouldRevalidate:i||x.pathname+x.search===g.pathname+g.search||x.search!==g.search||Ae(o,s)}))})),N=[];return c.forEach((function(e,o){if(!a&&t.some((function(n){return n.route.id===e.routeId}))&&!u.has(o)){var l=B(f,e.path,p);if(l){var c=n.fetchers.get(o),h=on(l,e.path);!d.has(o)&&(!!s.includes(o)||(c&&"idle"!==c.state&&void 0===c.data?i:ke(h,A({currentUrl:x,currentParams:n.matches[n.matches.length-1].params,nextUrl:g,nextParams:t[t.length-1].params},r,{actionResult:m,defaultShouldRevalidate:i}))))&&N.push({key:o,routeId:e.routeId,path:e.path,matches:l,match:h,controller:new AbortController})}else N.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[b,N]}function Ae(e,n){var t=e.route.path;return e.pathname!==n.pathname||null!=t&&t.endsWith("*")&&e.params["*"]!==n.params["*"]}function ke(e,n){if(e.route.shouldRevalidate){var t=e.route.shouldRevalidate(n);if("boolean"===typeof t)return t}return n.defaultShouldRevalidate}function Te(e,n,t){return _e.apply(this,arguments)}function _e(){return _e=(0,l.Z)((0,i.Z)().mark((function e(n,t,r){var o,a,l,s,u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.lazy();case 4:if(o=e.sent,n.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in _(a=r[n.id],"No route found in manifest"),l={},o)u=a[s],M(!(c=void 0!==u&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),c||D.has(s)||(l[s]=o[s]);Object.assign(a,l),Object.assign(a,A({},t(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Me(e,n,t,r,o,a,i,l,s){return Re.apply(this,arguments)}function Re(){return Re=(0,l.Z)((0,i.Z)().mark((function e(n,t,r,o,a,l,s,u,c){var d,f,p,h,v,m,x,g,y,b,N,I,C,E,S,P,w,A,T;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c&&(c={}),h=function(e){var n,o=new Promise((function(e,t){return n=t}));return p=function(){return n()},t.signal.addEventListener("abort",p),Promise.race([e({request:t,params:r.params,context:c.requestContext}),o])},e.prev=2,v=r.route[n],!r.route.lazy){e.next=32;break}if(!v){e.next=14;break}return e.next=8,Promise.all([h(v).catch((function(e){m=e})),Te(r.route,l,a)]);case 8:if(x=e.sent,!m){e.next=11;break}throw m;case 11:f=x[0],e.next=30;break;case 14:return e.next=16,Te(r.route,l,a);case 16:if(!(v=r.route[n])){e.next=23;break}return e.next=20,h(v);case 20:f=e.sent,e.next=30;break;case 23:if("action"!==n){e.next=29;break}throw g=new URL(t.url),y=g.pathname+g.search,We(405,{method:t.method,pathname:y,routeId:r.route.id});case 29:return e.abrupt("return",{type:k.data,data:void 0});case 30:e.next=41;break;case 32:if(v){e.next=38;break}throw b=new URL(t.url),We(404,{pathname:b.pathname+b.search});case 38:return e.next=40,h(v);case 40:f=e.sent;case 41:_(void 0!==f,"You defined "+("action"===n?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+n+"` function. Please return a value or `null`."),e.next=48;break;case 44:e.prev=44,e.t0=e.catch(2),d=k.error,f=e.t0;case 48:return e.prev=48,p&&t.signal.removeEventListener("abort",p),e.finish(48);case 51:if(!$e(f)){e.next=83;break}if(N=f.status,!ve.has(N)){e.next=61;break}if(_(I=f.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),be.test(I)?c.isStaticRequest||(C=new URL(t.url),E=I.startsWith("//")?new URL(C.protocol+I):new URL(I),S=null!=ee(E.pathname,s),E.origin===C.origin&&S&&(I=E.pathname+E.search+E.hash)):I=Ee(new URL(t.url),o.slice(0,o.indexOf(r)+1),s,!0,I,u),!c.isStaticRequest){e.next=60;break}throw f.headers.set("Location",I),f;case 60:return e.abrupt("return",{type:k.redirect,status:N,location:I,revalidate:null!==f.headers.get("X-Remix-Revalidate"),reloadDocument:null!==f.headers.get("X-Remix-Reload-Document")});case 61:if(!c.isRouteRequest){e.next=64;break}throw{type:d===k.error?k.error:k.data,response:f};case 64:if(e.prev=64,!(w=f.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(w)){e.next=72;break}return e.next=69,f.json();case 69:P=e.sent,e.next=75;break;case 72:return e.next=74,f.text();case 74:P=e.sent;case 75:e.next=80;break;case 77:return e.prev=77,e.t1=e.catch(64),e.abrupt("return",{type:k.error,error:e.t1});case 80:if(d!==k.error){e.next=82;break}return e.abrupt("return",{type:d,error:new ue(N,f.statusText,P),headers:f.headers});case 82:return e.abrupt("return",{type:k.data,data:P,statusCode:f.status,headers:f.headers});case 83:if(d!==k.error){e.next=85;break}return e.abrupt("return",{type:d,error:f});case 85:if(!Xe(f)){e.next=87;break}return e.abrupt("return",{type:k.deferred,deferredData:f,statusCode:null==(A=f.init)?void 0:A.status,headers:(null==(T=f.init)?void 0:T.headers)&&new Headers(f.init.headers)});case 87:return e.abrupt("return",{type:k.data,data:f});case 88:case"end":return e.stop()}}),e,null,[[2,44,48,51],[64,77]])}))),Re.apply(this,arguments)}function je(e,n,t,r){var o=e.createURL(Ge(n)).toString(),a={signal:t};if(r&&Ye(r.formMethod)){var i=r.formMethod,l=r.formEncType;a.method=i.toUpperCase(),"application/json"===l?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(r.json)):"text/plain"===l?a.body=r.text:"application/x-www-form-urlencoded"===l&&r.formData?a.body=Oe(r.formData):a.body=r.formData}return new Request(o,a)}function Oe(e){var n,t=new URLSearchParams,r=(0,P.Z)(e.entries());try{for(r.s();!(n=r.n()).done;){var o=(0,c.Z)(n.value,2),a=o[0],i=o[1];t.append(a,"string"===typeof i?i:i.name)}}catch(l){r.e(l)}finally{r.f()}return t}function Ze(e){var n,t=new FormData,r=(0,P.Z)(e.entries());try{for(r.s();!(n=r.n()).done;){var o=(0,c.Z)(n.value,2),a=o[0],i=o[1];t.append(a,i)}}catch(l){r.e(l)}finally{r.f()}return t}function Le(e,n,t,r,o){var a,i={},l=null,s=!1,u={};return t.forEach((function(t,c){var d=n[c].route.id;if(_(!qe(t),"Cannot handle redirect results in processLoaderData"),Ve(t)){var f=Be(e,d),p=t.error;r&&(p=Object.values(r)[0],r=void 0),null==(l=l||{})[f.route.id]&&(l[f.route.id]=p),i[d]=void 0,s||(s=!0,a=ce(t.error)?t.error.status:500),t.headers&&(u[d]=t.headers)}else Ke(t)?(o.set(d,t.deferredData),i[d]=t.deferredData.data):i[d]=t.data,null==t.statusCode||200===t.statusCode||s||(a=t.statusCode),t.headers&&(u[d]=t.headers)})),r&&(l=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:l,statusCode:a||200,loaderHeaders:u}}function De(e,n,t,r,o,a,i,l){for(var s=Le(n,t,r,o,l),u=s.loaderData,c=s.errors,d=0;d<a.length;d++){var f=a[d],p=f.key,h=f.match,m=f.controller;_(void 0!==i&&void 0!==i[d],"Did not find corresponding fetcher result");var x=i[d];if(!m||!m.signal.aborted)if(Ve(x)){var g=Be(e.matches,null==h?void 0:h.route.id);c&&c[g.route.id]||(c=A({},c,(0,v.Z)({},g.route.id,x.error))),e.fetchers.delete(p)}else if(qe(x))_(!1,"Unhandled fetcher revalidation redirect");else if(Ke(x))_(!1,"Unhandled fetcher deferred data");else{var y=dn(x.data);e.fetchers.set(p,y)}}return{loaderData:u,errors:c}}function Fe(e,n,t,r){var o,a=A({},n),i=(0,P.Z)(t);try{for(i.s();!(o=i.n()).done;){var l=o.value,s=l.route.id;if(n.hasOwnProperty(s)?void 0!==n[s]&&(a[s]=n[s]):void 0!==e[s]&&l.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(u){i.e(u)}finally{i.f()}return a}function Be(e,n){return(n?e.slice(0,e.findIndex((function(e){return e.route.id===n}))+1):(0,w.Z)(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function ze(e){var n=1===e.length?e[0]:e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function We(e,n){var t=void 0===n?{}:n,r=t.pathname,o=t.routeId,a=t.method,i=t.type,l="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(l="Bad Request",a&&r&&o?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+o+'", so there is no way to handle the request.':"defer-action"===i?s="defer() is not supported in actions":"invalid-body"===i&&(s="Unable to encode submission body")):403===e?(l="Forbidden",s='Route "'+o+'" does not match URL "'+r+'"'):404===e?(l="Not Found",s='No route matches URL "'+r+'"'):405===e&&(l="Method Not Allowed",a&&r&&o?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+o+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new ue(e||500,l,new Error(s),!0)}function Ue(e){for(var n=e.length-1;n>=0;n--){var t=e[n];if(qe(t))return{result:t,idx:n}}}function Ge(e){return O(A({},"string"===typeof e?Z(e):e,{hash:""}))}function He(e,n){return e.pathname===n.pathname&&e.search===n.search&&(""===e.hash?""!==n.hash:e.hash===n.hash||""!==n.hash)}function Ke(e){return e.type===k.deferred}function Ve(e){return e.type===k.error}function qe(e){return(e&&e.type)===k.redirect}function Xe(e){var n=e;return n&&"object"===typeof n&&"object"===typeof n.data&&"function"===typeof n.subscribe&&"function"===typeof n.cancel&&"function"===typeof n.resolveData}function $e(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Qe(e){return he.has(e.toLowerCase())}function Ye(e){return fe.has(e.toLowerCase())}function Je(e,n,t,r,o,a){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)((0,i.Z)().mark((function e(n,t,r,o,a,l){var s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,i.Z)().mark((function e(s){var u,c,d,f,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r[s],c=t[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(d=n.find((function(e){return e.route.id===c.route.id})),f=null!=d&&!Ae(d,c)&&void 0!==(l&&l[c.route.id]),!Ke(u)||!a&&!f){e.next=11;break}return _(p=o[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,nn(u,p,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),u=0;case 2:if(!(u<r.length)){e.next=10;break}return e.delegateYield(s(u),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:u++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e,n,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)((0,i.Z)().mark((function e(n,t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,n.deferredData.resolveData(t);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:k.data,data:n.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:k.error,error:e.t0});case 14:return e.abrupt("return",{type:k.data,data:n.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function rn(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function on(e,n){var t="string"===typeof n?Z(n).search:n.search;if(e[e.length-1].route.index&&rn(t||""))return e[e.length-1];var r=te(e);return r[r.length-1]}function an(e){var n=e.formMethod,t=e.formAction,r=e.formEncType,o=e.text,a=e.formData,i=e.json;if(n&&t&&r)return null!=o?{formMethod:n,formAction:t,formEncType:r,formData:void 0,json:void 0,text:o}:null!=a?{formMethod:n,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==i?{formMethod:n,formAction:t,formEncType:r,formData:void 0,json:i,text:void 0}:void 0}function ln(e,n){return n?{state:"loading",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sn(e,n){return{state:"submitting",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function un(e,n){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function cn(e,n){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n?n.data:void 0}}function dn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fn.apply(this,arguments)}var pn=e.createContext(null);var hn=e.createContext(null);var vn=e.createContext(null);var mn=e.createContext(null);var xn=e.createContext(null);var gn=e.createContext({outlet:null,matches:[],isDataRoute:!1});var yn=e.createContext(null);function bn(){return null!=e.useContext(xn)}function Nn(){return bn()||_(!1),e.useContext(xn).location}function In(n,t,r,o){bn()||_(!1);var a,i=e.useContext(mn).navigator,l=e.useContext(gn).matches,s=l[l.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),d=(s&&s.route,Nn());if(t){var f,p="string"===typeof t?Z(t):t;"/"===c||(null==(f=p.pathname)?void 0:f.startsWith(c))||_(!1),a=p}else a=d;var h=a.pathname||"/",v=B(n,{pathname:"/"===c?h:h.slice(c.length)||"/"});var m=wn(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:oe([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:oe([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),l,r,o);return t&&m?e.createElement(xn.Provider,{value:{location:fn({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:S.Pop}},m):m}function Cn(){var n=function(){var n,t=e.useContext(yn),r=kn(An.UseRouteError),o=Tn(An.UseRouteError);if(void 0!==t)return t;return null==(n=r.errors)?void 0:n[o]}(),t=ce(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},t),r?e.createElement("pre",{style:a},r):null,null)}var En=e.createElement(Cn,null),Sn=function(n){(0,p.Z)(r,n);var t=(0,h.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},n}return(0,s.Z)(r,[{key:"componentDidCatch",value:function(e,n){console.error("React Router caught the following error during render",e,n)}},{key:"render",value:function(){return void 0!==this.state.error?e.createElement(gn.Provider,{value:this.props.routeContext},e.createElement(yn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,n){return n.location!==e.location||"idle"!==n.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}}]),r}(e.Component);function Pn(n){var t=n.routeContext,r=n.match,o=n.children,a=e.useContext(pn);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(gn.Provider,{value:t},o)}function wn(n,t,r,o){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===o&&(o=null),null==n){var i;if(null==(i=r)||!i.errors)return null;n=r.matches}var l=n,s=null==(a=r)?void 0:a.errors;if(null!=s){var u=l.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||_(!1),l=l.slice(0,Math.min(l.length,u+1))}var c=!1,d=-1;if(r&&o&&o.v7_partialHydration)for(var f=0;f<l.length;f++){var p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.loader&&p.route.id&&void 0===r.loaderData[p.route.id]&&(!r.errors||void 0===r.errors[p.route.id])){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}return l.reduceRight((function(n,o,a){var i,u,f=!1,p=null,h=null;r&&(i=s&&o.route.id?s[o.route.id]:void 0,p=o.route.errorElement||En,c&&(d<0&&0===a?(u="route-fallback",!1||_n[u]||(_n[u]=!0),f=!0,h=null):d===a&&(f=!0,h=o.route.hydrateFallbackElement||null)));var v=t.concat(l.slice(0,a+1)),m=function(){var t;return t=i?p:f?h:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:n,e.createElement(Pn,{match:o,routeContext:{outlet:n,matches:v,isDataRoute:null!=r},children:t})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===a)?e.createElement(Sn,{location:r.location,revalidation:r.revalidation,component:p,error:i,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()}),null)}var An=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(An||{});function kn(n){var t=e.useContext(hn);return t||_(!1),t}function Tn(n){var t=function(n){var t=e.useContext(gn);return t||_(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||_(!1),r.route.id}var _n={};n.startTransition;function Mn(n){var t=n.basename,r=void 0===t?"/":t,o=n.children,a=void 0===o?null:o,i=n.location,l=n.navigationType,s=void 0===l?S.Pop:l,u=n.navigator,c=n.static,d=void 0!==c&&c,f=n.future;bn()&&_(!1);var p=r.replace(/^\/*/,"/"),h=e.useMemo((function(){return{basename:p,navigator:u,static:d,future:fn({v7_relativeSplatPath:!1},f)}}),[p,f,u,d]);"string"===typeof i&&(i=Z(i));var v=i,m=v.pathname,x=void 0===m?"/":m,g=v.search,y=void 0===g?"":g,b=v.hash,N=void 0===b?"":b,I=v.state,C=void 0===I?null:I,E=v.key,P=void 0===E?"default":E,w=e.useMemo((function(){var e=ee(x,p);return null==e?null:{location:{pathname:e,search:y,hash:N,state:C,key:P},navigationType:s}}),[p,x,y,N,C,P,s]);return null==w?null:e.createElement(mn.Provider,{value:h},e.createElement(xn.Provider,{children:a,value:w}))}var Rn=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Rn||{}),jn=new Promise((function(){}));e.Component;function On(n){var t={hasErrorBoundary:null!=n.ErrorBoundary||null!=n.errorElement};return n.Component&&Object.assign(t,{element:e.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:e.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(t,{errorElement:e.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),t}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zn.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ln(){var e,n=null==(e=window)?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=Zn({},n,{errors:Dn(n.errors)})),n}function Dn(e){if(!e)return null;for(var n={},t=0,r=Object.entries(e);t<r.length;t++){var o=(0,c.Z)(r[t],2),a=o[0],i=o[1];if(i&&"RouteErrorResponse"===i.__type)n[a]=new ue(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){var l=window[i.__subType];if("function"===typeof l)try{var s=new l(i.message);s.stack="",n[a]=s}catch(d){}}if(null==n[a]){var u=new Error(i.message);u.stack="",n[a]=u}}else n[a]=i}return n}var Fn=e.createContext({isTransitioning:!1});var Bn=e.createContext(new Map);var zn=n.startTransition,Wn=f.flushSync;function Un(e){Wn?Wn(e):e()}var Gn=(0,s.Z)((function e(){var n=this;(0,u.Z)(this,e),this.status="pending",this.promise=new Promise((function(e,t){n.resolve=function(t){"pending"===n.status&&(n.status="resolved",e(t))},n.reject=function(e){"pending"===n.status&&(n.status="rejected",t(e))}}))}));function Hn(n){var t=n.fallbackElement,r=n.router,o=n.future,a=e.useState(r.state),s=(0,c.Z)(a,2),u=s[0],d=s[1],f=e.useState(),p=(0,c.Z)(f,2),h=p[0],v=p[1],m=e.useState({isTransitioning:!1}),x=(0,c.Z)(m,2),g=x[0],y=x[1],b=e.useState(),N=(0,c.Z)(b,2),I=N[0],C=N[1],E=e.useState(),S=(0,c.Z)(E,2),P=S[0],w=S[1],A=e.useState(),k=(0,c.Z)(A,2),T=k[0],_=k[1],M=e.useRef(new Map),R=(o||{}).v7_startTransition,j=e.useCallback((function(e){R?function(e){zn?zn(e):e()}(e):e()}),[R]),O=e.useCallback((function(e,n){var t=n.deletedFetchers,o=n.unstable_flushSync,a=n.unstable_viewTransitionOpts;t.forEach((function(e){return M.current.delete(e)})),e.fetchers.forEach((function(e,n){void 0!==e.data&&M.current.set(n,e.data)}));var i=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(a&&!i){if(o){Un((function(){P&&(I&&I.resolve(),P.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})}));var l=r.window.document.startViewTransition((function(){Un((function(){return d(e)}))}));return l.finished.finally((function(){Un((function(){C(void 0),w(void 0),v(void 0),y({isTransitioning:!1})}))})),void Un((function(){return w(l)}))}P?(I&&I.resolve(),P.skipTransition(),_({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(v(e),y({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else o?Un((function(){return d(e)})):j((function(){return d(e)}))}),[r.window,P,I,M,j]);e.useLayoutEffect((function(){return r.subscribe(O)}),[r,O]),e.useEffect((function(){g.isTransitioning&&!g.flushSync&&C(new Gn)}),[g]),e.useEffect((function(){if(I&&h&&r.window){var e=h,n=I.promise,t=r.window.document.startViewTransition((0,l.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j((function(){return d(e)})),t.next=3,n;case 3:case"end":return t.stop()}}),t)}))));t.finished.finally((function(){C(void 0),w(void 0),v(void 0),y({isTransitioning:!1})})),w(t)}}),[j,h,I,r.window]),e.useEffect((function(){I&&h&&u.location.key===h.location.key&&I.resolve()}),[I,P,u.location,h]),e.useEffect((function(){!g.isTransitioning&&T&&(v(T.state),y({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),_(void 0))}),[g.isTransitioning,T]),e.useEffect((function(){}),[]);var Z=e.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,n,t){return r.navigate(e,{state:n,preventScrollReset:null==t?void 0:t.preventScrollReset})},replace:function(e,n,t){return r.navigate(e,{replace:!0,state:n,preventScrollReset:null==t?void 0:t.preventScrollReset})}}}),[r]),L=r.basename||"/",D=e.useMemo((function(){return{router:r,navigator:Z,static:!1,basename:L}}),[r,Z,L]);return e.createElement(e.Fragment,null,e.createElement(pn.Provider,{value:D},e.createElement(hn.Provider,{value:u},e.createElement(Bn.Provider,{value:M.current},e.createElement(Fn.Provider,{value:g},e.createElement(Mn,{basename:L,location:u.location,navigationType:u.historyAction,navigator:Z,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},u.initialized||r.future.v7_partialHydration?e.createElement(Kn,{routes:r.routes,future:r.future,state:u}):t))))),null)}function Kn(e){var n=e.routes,t=e.future;return In(n,void 0,e.state,t)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Vn,qn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vn||(Vn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(qn||(qn={}));var Xn,$n=t(7587),Qn=t(6902),Yn=t(1959),Jn=t(6088),et=t(184),nt="".concat(null!==(Xn="/XRNA-React")?Xn:"","/docs/documentation.json"),tt={tip:"Tip",info:"Info",warning:"Warning"},rt={tip:"docs-note--tip",info:"docs-note--info",warning:"docs-note--warning"};function ot(n){var t=function(e){for(var n,t=[],r=/(`[^`]+`|\*[^*]+\*)/g,o=0;null!==(n=r.exec(e));){n.index>o&&t.push({kind:"text",value:e.slice(o,n.index)});var a=n[0];a.startsWith("`")?t.push({kind:"code",value:a.slice(1,-1)}):a.startsWith("*")&&t.push({kind:"em",value:a.slice(1,-1)}),o=r.lastIndex}return o<e.length&&t.push({kind:"text",value:e.slice(o)}),t.filter((function(e){return e.value.length>0}))}(n);return 0===t.length?n:t.map((function(n,t){switch(n.kind){case"code":return(0,et.jsx)("code",{className:"docs-inline-code",children:n.value},t);case"em":return(0,et.jsx)("em",{className:"docs-emphasis",children:n.value},t);default:return(0,et.jsx)(e.Fragment,{children:n.value},t)}}))}function at(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return e.flatMap((function(e){var r={id:e.id,title:e.title,level:t,ancestors:n},o=[].concat((0,w.Z)(n),[e.id]),a=Math.min(t+1,6),i=e.subsections?at(e.subsections,o,a):[];return[r].concat((0,w.Z)(i))}))}function it(e){return e.flatMap((function(e){return[e.id].concat((0,w.Z)(e.subsections?it(e.subsections):[]))}))}var lt,st=function(){var n,t=(0,e.useState)({status:"loading"}),r=(0,c.Z)(t,2),o=r[0],a=r[1],s=(0,e.useState)(new Set),u=(0,c.Z)(s,2),d=u[0],f=u[1];(0,e.useEffect)((function(){var e=new AbortController;function n(){return(n=(0,l.Z)((0,i.Z)().mark((function n(){var t,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(nt,{signal:e.signal});case 3:if((t=n.sent).ok){n.next=6;break}throw new Error("Failed to load documentation (status ".concat(t.status,")"));case 6:return n.next=8,t.json();case 8:r=n.sent,a({status:"ready",docs:r}),n.next=17;break;case 12:if(n.prev=12,n.t0=n.catch(0),"AbortError"!==n.t0.name){n.next=16;break}return n.abrupt("return");case 16:a({status:"error",message:n.t0 instanceof Error?n.t0.message:"Unable to load documentation. Please try again later."});case 17:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){return e.abort()}}),[]),(0,e.useEffect)((function(){"ready"===o.status&&f(new Set(it(o.docs.sections)))}),[o]),(0,e.useEffect)((function(){"ready"===o.status&&o.docs.title&&(document.title="".concat(o.docs.title," | Documentation"))}),[o]);var p=(0,e.useMemo)((function(){return"ready"!==o.status?[]:at(o.docs.sections)}),[o]),h=(0,e.useCallback)((function(e){f((function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t}))}),[]),v=(0,e.useCallback)((function(e,n){e.preventDefault(),f((function(e){var t=new Set(e);return n.ancestors.forEach((function(e){return t.add(e)})),t.add(n.id),t}));var t="".concat("#/docs","?section=").concat(n.id);window.location.hash!==t&&(window.location.hash=t);var r,o=document.getElementById(n.id);o&&(o.scrollIntoView({behavior:"smooth",block:"start"}),null===(r=o.focus)||void 0===r||r.call(o))}),[]),m=(0,e.useCallback)((function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=d.has(e.id),a=Math.min(r,6),i="h".concat(a),l="".concat(e.id,"-content");return(0,et.jsxs)("section",{id:e.id,className:"docs-section".concat(o?"":" docs-section--collapsed"),children:[(0,et.jsxs)("header",{className:"docs-section__header",children:[(0,et.jsx)(i,{className:"docs-section__heading",children:(0,et.jsxs)("button",{type:"button",className:"docs-section__toggle",onClick:function(){return h(e.id)},"aria-expanded":o,"aria-controls":l,children:[(0,et.jsx)("span",{className:"docs-section__chevron","aria-hidden":"true",children:"\u25be"}),(0,et.jsx)("span",{children:e.title})]})}),e.summary?(0,et.jsx)("p",{className:"docs-section__summary",children:ot(e.summary)}):null]}),(0,et.jsxs)("div",{className:"docs-section__body",id:l,hidden:!o,children:[null===(n=e.content)||void 0===n?void 0:n.map((function(n,t){return function(e,n){switch(e.type){case"paragraph":return(0,et.jsx)("p",{className:"docs-paragraph",children:ot(e.text)},n);case"list":var t="ordered"===e.style?"ol":"ul";return(0,et.jsx)(t,{className:"docs-list",children:e.items.map((function(e,n){return(0,et.jsx)("li",{children:ot(e)},n)}))},n);case"note":return(0,et.jsxs)("div",{className:"docs-note ".concat(rt[e.variant]),children:[(0,et.jsx)("span",{className:"docs-note__label",children:tt[e.variant]}),(0,et.jsx)("span",{className:"docs-note__content",children:ot(e.text)})]},n);case"table":return(0,et.jsx)("div",{className:"docs-table-wrapper",children:(0,et.jsxs)("table",{className:"docs-table",children:[(0,et.jsx)("thead",{children:(0,et.jsx)("tr",{children:e.headers.map((function(e,n){return(0,et.jsx)("th",{children:ot(e)},n)}))})}),(0,et.jsx)("tbody",{children:e.rows.map((function(e,n){return(0,et.jsx)("tr",{children:e.map((function(e,n){return(0,et.jsx)("td",{children:ot(e)},n)}))},n)}))})]})},n);default:return null}}(n,"".concat(e.id,"-block-").concat(t))})),null!==(t=e.subsections)&&void 0!==t&&t.length?(0,et.jsx)("div",{className:"docs-section__subsections",children:e.subsections.map((function(e){return m(e,r+1)}))}):null]})]},e.id)}),[d,h]);if("loading"===o.status)return(0,et.jsx)("main",{className:"docs-page docs-page--centered",children:(0,et.jsxs)("div",{className:"docs-status",children:[(0,et.jsx)("span",{className:"docs-status__spinner","aria-hidden":!0,children:"\u25cf"}),(0,et.jsx)("span",{className:"docs-status__label",children:"Loading documentation\u2026"})]})});if("error"===o.status)return(0,et.jsx)("main",{className:"docs-page docs-page--centered",children:(0,et.jsx)("div",{className:"docs-status docs-status--error",children:(0,et.jsx)("span",{className:"docs-status__label",children:o.message})})});var x=o.docs;return(0,et.jsxs)("main",{className:"docs-page",children:[(0,et.jsxs)("aside",{className:"docs-page__toc","aria-label":"Table of contents",children:[(0,et.jsxs)("div",{className:"docs-page__toc-header",children:[(0,et.jsxs)("div",{className:"docs-page__toc-title-row",children:[(0,et.jsx)("h1",{children:x.title}),(0,et.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,et.jsx)(Yn.z,{label:"",variant:"secondary",icon:(0,et.jsx)(Jn.Z,{size:12}),hint:"Close docs",onClick:function(){window.location.hash="#/"}}),(0,et.jsx)(Qn.Z,{className:"docs-theme-toggle"})]})]}),(0,et.jsxs)("dl",{className:"docs-meta",children:[x.version?(0,et.jsxs)("div",{children:[(0,et.jsx)("dt",{children:"Version"}),(0,et.jsx)("dd",{children:x.version})]}):null,x.lastUpdated?(0,et.jsxs)("div",{children:[(0,et.jsx)("dt",{children:"Last updated"}),(0,et.jsx)("dd",{children:x.lastUpdated})]}):null]})]}),(0,et.jsx)("nav",{className:"docs-toc-nav",children:(0,et.jsx)("ol",{children:p.map((function(e){return(0,et.jsx)("li",{"data-level":e.level,children:(0,et.jsx)("a",{href:"#/docs?section=".concat(e.id),onClick:function(n){return v(n,e)},className:"docs-toc-link",style:{paddingLeft:"".concat(12*(e.level-2),"px")},children:e.title})},e.id)}))})})]}),(0,et.jsxs)("div",{className:"docs-page__content",children:[x.sections.map((function(e){return m(e)})),null!==(n=x.resources)&&void 0!==n&&n.length?(0,et.jsxs)("section",{id:"resources",className:"docs-section docs-section--resources",children:[(0,et.jsx)("header",{className:"docs-section__header",children:(0,et.jsx)("h2",{children:"Resources"})}),(0,et.jsx)("ul",{className:"docs-resources",children:x.resources.map((function(e){return(0,et.jsxs)("li",{children:[(0,et.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.label}),e.description?(0,et.jsx)("p",{children:ot(e.description)}):null]},e.url)}))})]}):null]})]})},ut=function(){return(0,et.jsx)($n.f6,{children:(0,et.jsx)(st,{})})},ct=function(e,n){return Ce({basename:null==n?void 0:n.basename,future:Zn({},null==n?void 0:n.future,{v7_prependBasename:!0}),history:(t={window:null==n?void 0:n.window},void 0===t&&(t={}),L((function(e,n){var t=Z(e.location.hash.substr(1)),r=t.pathname,o=void 0===r?"/":r,a=t.search,i=void 0===a?"":a,l=t.hash,s=void 0===l?"":l;return o.startsWith("/")||o.startsWith(".")||(o="/"+o),j("",{pathname:o,search:i,hash:s},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}),(function(e,n){var t=e.document.querySelector("base"),r="";if(t&&t.getAttribute("href")){var o=e.location.href,a=o.indexOf("#");r=-1===a?o:o.slice(0,a)}return r+"#"+("string"===typeof n?n:O(n))}),(function(e,n){M("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(n)+")")}),t)),hydrationData:(null==n?void 0:n.hydrationData)||Ln(),routes:e,mapRouteProperties:On,window:null==n?void 0:n.window}).initialize();var t}([{path:"/",element:(0,et.jsx)(o.ZP.Component,{r2dtLegacyVersionFlag:!0})},{path:"/main",element:(0,et.jsx)(o.ZP.Component,{r2dtLegacyVersionFlag:!1})},{path:"/main/*",element:(0,et.jsx)(o.ZP.Component,{r2dtLegacyVersionFlag:!1})},{path:"/docs",element:(0,et.jsx)(ut,{})},{path:"/XRNA-React",element:(0,et.jsx)(o.ZP.Component,{r2dtLegacyVersionFlag:!0})},{path:"/XRNA-React/main",element:(0,et.jsx)(o.ZP.Component,{r2dtLegacyVersionFlag:!1})},{path:"/XRNA-React/docs",element:(0,et.jsx)(ut,{})}]),dt=r.createRoot(document.getElementById("root")),ft=function(){var e=window.location.pathname;return e.length>1&&e.endsWith("/")?e.slice(0,-1):e||"/"}(),pt=null!==(lt="/XRNA-React")?lt:"",ht=pt.endsWith("/")?pt.slice(0,-1):pt,vt=new Set(["/docs"]);ht&&vt.add("".concat(ht,"/docs")),dt.render((0,et.jsx)(e.StrictMode,{children:vt.has(ft)?(0,et.jsx)(ut,{}):(0,et.jsx)(Hn,{router:ct})})),a()}()}();
//# sourceMappingURL=main.b7eaf846.js.map